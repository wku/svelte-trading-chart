{
  "version": 3,
  "sources": ["../../klinecharts/dist/index.esm.js"],
  "sourcesContent": ["/**\n     * @license\n     * KLineChart v9.8.12\n     * Copyright (c) 2019 lihu.\n     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n     */\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * line type\n */\nvar LineType;\n(function (LineType) {\n    LineType[\"Dashed\"] = \"dashed\";\n    LineType[\"Solid\"] = \"solid\";\n})(LineType || (LineType = {}));\nvar PolygonType;\n(function (PolygonType) {\n    PolygonType[\"Stroke\"] = \"stroke\";\n    PolygonType[\"Fill\"] = \"fill\";\n    PolygonType[\"StrokeFill\"] = \"stroke_fill\";\n})(PolygonType || (PolygonType = {}));\nvar TooltipShowRule;\n(function (TooltipShowRule) {\n    TooltipShowRule[\"Always\"] = \"always\";\n    TooltipShowRule[\"FollowCross\"] = \"follow_cross\";\n    TooltipShowRule[\"None\"] = \"none\";\n})(TooltipShowRule || (TooltipShowRule = {}));\nvar TooltipShowType;\n(function (TooltipShowType) {\n    TooltipShowType[\"Standard\"] = \"standard\";\n    TooltipShowType[\"Rect\"] = \"rect\";\n})(TooltipShowType || (TooltipShowType = {}));\nvar TooltipIconPosition;\n(function (TooltipIconPosition) {\n    TooltipIconPosition[\"Left\"] = \"left\";\n    TooltipIconPosition[\"Middle\"] = \"middle\";\n    TooltipIconPosition[\"Right\"] = \"right\";\n})(TooltipIconPosition || (TooltipIconPosition = {}));\nvar CandleTooltipRectPosition;\n(function (CandleTooltipRectPosition) {\n    CandleTooltipRectPosition[\"Fixed\"] = \"fixed\";\n    CandleTooltipRectPosition[\"Pointer\"] = \"pointer\";\n})(CandleTooltipRectPosition || (CandleTooltipRectPosition = {}));\nvar CandleType;\n(function (CandleType) {\n    CandleType[\"CandleSolid\"] = \"candle_solid\";\n    CandleType[\"CandleStroke\"] = \"candle_stroke\";\n    CandleType[\"CandleUpStroke\"] = \"candle_up_stroke\";\n    CandleType[\"CandleDownStroke\"] = \"candle_down_stroke\";\n    CandleType[\"Ohlc\"] = \"ohlc\";\n    CandleType[\"Area\"] = \"area\";\n})(CandleType || (CandleType = {}));\nvar YAxisPosition;\n(function (YAxisPosition) {\n    YAxisPosition[\"Left\"] = \"left\";\n    YAxisPosition[\"Right\"] = \"right\";\n})(YAxisPosition || (YAxisPosition = {}));\nvar YAxisType;\n(function (YAxisType) {\n    YAxisType[\"Normal\"] = \"normal\";\n    YAxisType[\"Percentage\"] = \"percentage\";\n    YAxisType[\"Log\"] = \"log\";\n})(YAxisType || (YAxisType = {}));\nvar red = '#F92855';\nvar alphaRed = 'rgba(249, 40, 85, .7)';\nvar green = '#2DC08E';\nvar alphaGreen = 'rgba(45, 192, 142, .7)';\nvar grey = '#888888';\nvar white = '#FFFFFF';\nvar blue = '#1677FF';\nvar textColor = '#76808F';\nvar axisLineColor = '#DDDDDD';\nfunction getAlphaBlue(alpha) {\n    return \"rgba(22, 119, 255, \".concat(alpha, \")\");\n}\nfunction getDefaultGridStyle() {\n    function item() {\n        return {\n            show: true,\n            size: 1,\n            color: '#EDEDED',\n            style: LineType.Dashed,\n            dashedValue: [2, 2]\n        };\n    }\n    return {\n        show: true,\n        horizontal: item(),\n        vertical: item()\n    };\n}\n/**\n * Get default candle style\n * @type {{area: {backgroundColor: [{offset: number, color: string}, {offset: number, color: string}], lineColor: string, lineSize: number, value: string}, bar: {noChangeColor: string, upColor: string, downColor: string}, tooltip: {rect: {offsetTop: number, fillColor: string, borderColor: string, paddingBottom: number, borderRadius: number, paddingRight: number, borderSize: number, offsetLeft: number, paddingTop: number, paddingLeft: number, offsetRight: number}, showRule: string, values: null, showType: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, labels: string[]}, type: string, priceMark: {high: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, last: {noChangeColor: string, upColor: string, line: {dashValue: number[], size: number, show: boolean, style: string}, show: boolean, text: {paddingBottom: number, size: number, color: string, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}, downColor: string}, low: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, show: boolean}}}\n */\nfunction getDefaultCandleStyle() {\n    var highLow = {\n        show: true,\n        color: textColor,\n        textOffset: 5,\n        textSize: 10,\n        textFamily: 'Helvetica Neue',\n        textWeight: 'normal'\n    };\n    return {\n        type: CandleType.CandleSolid,\n        bar: {\n            upColor: green,\n            downColor: red,\n            noChangeColor: grey,\n            upBorderColor: green,\n            downBorderColor: red,\n            noChangeBorderColor: grey,\n            upWickColor: green,\n            downWickColor: red,\n            noChangeWickColor: grey\n        },\n        area: {\n            lineSize: 2,\n            lineColor: blue,\n            smooth: false,\n            value: 'close',\n            backgroundColor: [{\n                    offset: 0,\n                    color: getAlphaBlue(0.01)\n                }, {\n                    offset: 1,\n                    color: getAlphaBlue(0.2)\n                }],\n            point: {\n                show: true,\n                color: blue,\n                radius: 4,\n                rippleColor: getAlphaBlue(0.3),\n                rippleRadius: 8,\n                animation: true,\n                animationDuration: 1000\n            }\n        },\n        priceMark: {\n            show: true,\n            high: __assign({}, highLow),\n            low: __assign({}, highLow),\n            last: {\n                show: true,\n                upColor: green,\n                downColor: red,\n                noChangeColor: grey,\n                line: {\n                    show: true,\n                    style: LineType.Dashed,\n                    dashedValue: [4, 4],\n                    size: 1\n                },\n                text: {\n                    show: true,\n                    style: PolygonType.Fill,\n                    size: 12,\n                    paddingLeft: 4,\n                    paddingTop: 4,\n                    paddingRight: 4,\n                    paddingBottom: 4,\n                    borderColor: 'transparent',\n                    borderStyle: LineType.Solid,\n                    borderSize: 0,\n                    borderDashedValue: [2, 2],\n                    color: white,\n                    family: 'Helvetica Neue',\n                    weight: 'normal',\n                    borderRadius: 2\n                }\n            }\n        },\n        tooltip: {\n            offsetLeft: 4,\n            offsetTop: 6,\n            offsetRight: 4,\n            offsetBottom: 6,\n            showRule: TooltipShowRule.Always,\n            showType: TooltipShowType.Standard,\n            custom: [\n                { title: 'time', value: '{time}' },\n                { title: 'open', value: '{open}' },\n                { title: 'high', value: '{high}' },\n                { title: 'low', value: '{low}' },\n                { title: 'close', value: '{close}' },\n                { title: 'volume', value: '{volume}' }\n            ],\n            defaultValue: 'n/a',\n            rect: {\n                position: CandleTooltipRectPosition.Fixed,\n                paddingLeft: 4,\n                paddingRight: 4,\n                paddingTop: 4,\n                paddingBottom: 4,\n                offsetLeft: 4,\n                offsetTop: 4,\n                offsetRight: 4,\n                offsetBottom: 4,\n                borderRadius: 4,\n                borderSize: 1,\n                borderColor: '#F2F3F5',\n                color: '#FEFEFE'\n            },\n            text: {\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                color: textColor,\n                marginLeft: 8,\n                marginTop: 4,\n                marginRight: 8,\n                marginBottom: 4\n            },\n            icons: []\n        }\n    };\n}\n/**\n * Get default indicator style\n */\nfunction getDefaultIndicatorStyle() {\n    var lines = ['#FF9600', '#935EBD', blue, '#E11D74', '#01C5C4'].map(function (color) { return ({\n        style: LineType.Solid,\n        smooth: false,\n        size: 1,\n        dashedValue: [2, 2],\n        color: color\n    }); });\n    return {\n        ohlc: {\n            upColor: alphaGreen,\n            downColor: alphaRed,\n            noChangeColor: grey\n        },\n        bars: [{\n                style: PolygonType.Fill,\n                borderStyle: LineType.Solid,\n                borderSize: 1,\n                borderDashedValue: [2, 2],\n                upColor: alphaGreen,\n                downColor: alphaRed,\n                noChangeColor: grey\n            }],\n        lines: lines,\n        circles: [{\n                style: PolygonType.Fill,\n                borderStyle: LineType.Solid,\n                borderSize: 1,\n                borderDashedValue: [2, 2],\n                upColor: alphaGreen,\n                downColor: alphaRed,\n                noChangeColor: grey\n            }],\n        lastValueMark: {\n            show: false,\n            text: {\n                show: false,\n                style: PolygonType.Fill,\n                color: white,\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                borderStyle: LineType.Solid,\n                borderColor: 'transparent',\n                borderSize: 0,\n                borderDashedValue: [2, 2],\n                paddingLeft: 4,\n                paddingTop: 4,\n                paddingRight: 4,\n                paddingBottom: 4,\n                borderRadius: 2\n            }\n        },\n        tooltip: {\n            offsetLeft: 4,\n            offsetTop: 6,\n            offsetRight: 4,\n            offsetBottom: 6,\n            showRule: TooltipShowRule.Always,\n            showType: TooltipShowType.Standard,\n            showName: true,\n            showParams: true,\n            defaultValue: 'n/a',\n            text: {\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                color: textColor,\n                marginLeft: 8,\n                marginTop: 4,\n                marginRight: 8,\n                marginBottom: 4\n            },\n            icons: []\n        }\n    };\n}\nfunction getDefaultXAxisStyle() {\n    return {\n        show: true,\n        size: 'auto',\n        axisLine: {\n            show: true,\n            color: axisLineColor,\n            size: 1\n        },\n        tickText: {\n            show: true,\n            color: textColor,\n            size: 12,\n            family: 'Helvetica Neue',\n            weight: 'normal',\n            marginStart: 4,\n            marginEnd: 4\n        },\n        tickLine: {\n            show: true,\n            size: 1,\n            length: 3,\n            color: axisLineColor\n        }\n    };\n}\nfunction getDefaultYAxisStyle() {\n    var style = getDefaultXAxisStyle();\n    style.type = YAxisType.Normal;\n    style.position = YAxisPosition.Right;\n    style.inside = false;\n    style.reverse = false;\n    return style;\n}\nfunction getDefaultCrosshairStyle() {\n    function item() {\n        return {\n            show: true,\n            line: {\n                show: true,\n                style: LineType.Dashed,\n                dashedValue: [4, 2],\n                size: 1,\n                color: textColor\n            },\n            text: {\n                show: true,\n                style: PolygonType.Fill,\n                color: white,\n                size: 12,\n                family: 'Helvetica Neue',\n                weight: 'normal',\n                borderStyle: LineType.Solid,\n                borderDashedValue: [2, 2],\n                borderSize: 1,\n                borderColor: textColor,\n                borderRadius: 2,\n                paddingLeft: 4,\n                paddingRight: 4,\n                paddingTop: 4,\n                paddingBottom: 4,\n                backgroundColor: textColor\n            }\n        };\n    }\n    return {\n        show: true,\n        horizontal: item(),\n        vertical: item()\n    };\n}\nfunction getDefaultOverlayStyle() {\n    var pointBorderColor = getAlphaBlue(0.35);\n    var alphaBg = getAlphaBlue(0.25);\n    function text() {\n        return {\n            style: PolygonType.Fill,\n            color: white,\n            size: 12,\n            family: 'Helvetica Neue',\n            weight: 'normal',\n            borderStyle: LineType.Solid,\n            borderDashedValue: [2, 2],\n            borderSize: 1,\n            borderRadius: 2,\n            borderColor: blue,\n            paddingLeft: 4,\n            paddingRight: 4,\n            paddingTop: 4,\n            paddingBottom: 4,\n            backgroundColor: blue\n        };\n    }\n    return {\n        point: {\n            color: blue,\n            borderColor: pointBorderColor,\n            borderSize: 1,\n            radius: 5,\n            activeColor: blue,\n            activeBorderColor: pointBorderColor,\n            activeBorderSize: 3,\n            activeRadius: 5\n        },\n        line: {\n            style: LineType.Solid,\n            smooth: false,\n            color: blue,\n            size: 1,\n            dashedValue: [2, 2]\n        },\n        rect: {\n            style: PolygonType.Fill,\n            color: alphaBg,\n            borderColor: blue,\n            borderSize: 1,\n            borderRadius: 0,\n            borderStyle: LineType.Solid,\n            borderDashedValue: [2, 2]\n        },\n        polygon: {\n            style: PolygonType.Fill,\n            color: blue,\n            borderColor: blue,\n            borderSize: 1,\n            borderStyle: LineType.Solid,\n            borderDashedValue: [2, 2]\n        },\n        circle: {\n            style: PolygonType.Fill,\n            color: alphaBg,\n            borderColor: blue,\n            borderSize: 1,\n            borderStyle: LineType.Solid,\n            borderDashedValue: [2, 2]\n        },\n        arc: {\n            style: LineType.Solid,\n            color: blue,\n            size: 1,\n            dashedValue: [2, 2]\n        },\n        text: text(),\n        rectText: text()\n    };\n}\nfunction getDefaultSeparatorStyle() {\n    return {\n        size: 1,\n        color: axisLineColor,\n        fill: true,\n        activeBackgroundColor: getAlphaBlue(0.08)\n    };\n}\nfunction getDefaultStyles() {\n    return {\n        grid: getDefaultGridStyle(),\n        candle: getDefaultCandleStyle(),\n        indicator: getDefaultIndicatorStyle(),\n        xAxis: getDefaultXAxisStyle(),\n        yAxis: getDefaultYAxisStyle(),\n        separator: getDefaultSeparatorStyle(),\n        crosshair: getDefaultCrosshairStyle(),\n        overlay: getDefaultOverlayStyle()\n    };\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEV = process.env.NODE_ENV === 'development';\nfunction log(templateText, tagStyle, messageStyle, api, invalidParam, append) {\n    if (DEV) {\n        var apiStr = api !== '' ? \"Call api `\".concat(api, \"`\").concat(invalidParam !== '' || append !== '' ? ', ' : '.') : '';\n        var invalidParamStr = invalidParam !== '' ? \"invalid parameter `\".concat(invalidParam, \"`\").concat(append !== '' ? ', ' : '.') : '';\n        var appendStr = append !== '' ? append : '';\n        console.log(templateText, tagStyle, messageStyle, apiStr, invalidParamStr, appendStr);\n    }\n}\nfunction logWarn(api, invalidParam, append) {\n    log('%cðŸ˜‘ klinecharts warning%c %s%s%s', 'padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#FF9600', 'color:#FF9600', api, invalidParam, append !== null && append !== void 0 ? append : '');\n}\nfunction logError(api, invalidParam, append) {\n    log('%cðŸ˜Ÿ klinecharts error%c %s%s%s', 'padding:3px 4px;border-radius:2px;color:#ffffff;background-color:#F92855;', 'color:#F92855;', api, invalidParam, append );\n}\nfunction logTag() {\n    log('%câ¤ï¸ Welcome to klinecharts. Version is 9.8.12', 'border-radius:4px;border:dashed 1px #1677FF;line-height:70px;padding:0 20px;margin:16px 0;font-size:14px;color:#1677FF;', '', '', '', '');\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction merge(target, source) {\n    if ((!isObject(target) && !isObject(source))) {\n        return;\n    }\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n            if (isObject(sourceProp) &&\n                isObject(targetProp)) {\n                merge(targetProp, sourceProp);\n            }\n            else {\n                if (isValid(source[key])) {\n                    target[key] = clone(source[key]);\n                }\n            }\n        }\n    }\n}\nfunction clone(target) {\n    if (!isObject(target)) {\n        return target;\n    }\n    var copy;\n    if (isArray(target)) {\n        copy = [];\n    }\n    else {\n        copy = {};\n    }\n    for (var key in target) {\n        if (Object.prototype.hasOwnProperty.call(target, key)) {\n            var v = target[key];\n            if (isObject(v)) {\n                copy[key] = clone(v);\n            }\n            else {\n                copy[key] = v;\n            }\n        }\n    }\n    return copy;\n}\nfunction isArray(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction isObject(value) {\n    return (typeof value === 'object') && isValid(value);\n}\nfunction isNumber(value) {\n    return typeof value === 'number' && !isNaN(value);\n}\nfunction isValid(value) {\n    return value !== null && value !== undefined;\n}\nfunction isBoolean(value) {\n    return typeof value === 'boolean';\n}\nfunction isString(value) {\n    return typeof value === 'string';\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar reEscapeChar = /\\\\(\\\\)?/g;\nvar rePropName = RegExp('[^.[\\\\]]+' + '|' +\n    '\\\\[(?:' +\n    '([^\"\\'][^[]*)' + '|' +\n    '([\"\\'])((?:(?!\\\\2)[^\\\\\\\\]|\\\\\\\\.)*?)\\\\2' +\n    ')\\\\]' + '|' +\n    '(?=(?:\\\\.|\\\\[\\\\])(?:\\\\.|\\\\[\\\\]|$))', 'g');\nfunction formatValue(data, key, defaultValue) {\n    if (isValid(data)) {\n        var path_1 = [];\n        key.replace(rePropName, function (subString) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var k = subString;\n            if (isValid(args[1])) {\n                k = args[2].replace(reEscapeChar, '$1');\n            }\n            else if (isValid(args[0])) {\n                k = args[0].trim();\n            }\n            path_1.push(k);\n            return '';\n        });\n        var value = data;\n        var index = 0;\n        var length_1 = path_1.length;\n        while (isValid(value) && index < length_1) {\n            value = value === null || value === void 0 ? void 0 : value[path_1[index++]];\n        }\n        return isValid(value) ? value : (defaultValue !== null && defaultValue !== void 0 ? defaultValue : '--');\n    }\n    return defaultValue !== null && defaultValue !== void 0 ? defaultValue : '--';\n}\nfunction formatDate(dateTimeFormat, timestamp, format) {\n    var date = {};\n    dateTimeFormat.formatToParts(new Date(timestamp)).forEach(function (_a) {\n        var type = _a.type, value = _a.value;\n        switch (type) {\n            case 'year': {\n                date.YYYY = value;\n                break;\n            }\n            case 'month': {\n                date.MM = value;\n                break;\n            }\n            case 'day': {\n                date.DD = value;\n                break;\n            }\n            case 'hour': {\n                date.HH = value === '24' ? '00' : value;\n                break;\n            }\n            case 'minute': {\n                date.mm = value;\n                break;\n            }\n            case 'second': {\n                date.ss = value;\n                break;\n            }\n        }\n    });\n    return format.replace(/YYYY|MM|DD|HH|mm|ss/g, function (key) { return date[key]; });\n}\nfunction formatPrecision(value, precision) {\n    var v = +value;\n    if (isNumber(v)) {\n        return v.toFixed(precision !== null && precision !== void 0 ? precision : 2);\n    }\n    return \"\".concat(value);\n}\nfunction formatBigNumber(value) {\n    var v = +value;\n    if (isNumber(v)) {\n        if (v > 1000000000) {\n            return \"\".concat(+((v / 1000000000).toFixed(3)), \"B\");\n        }\n        if (v > 1000000) {\n            return \"\".concat(+((v / 1000000).toFixed(3)), \"M\");\n        }\n        if (v > 1000) {\n            return \"\".concat(+((v / 1000).toFixed(3)), \"K\");\n        }\n    }\n    return \"\".concat(value);\n}\nfunction formatThousands(value, sign) {\n    var vl = \"\".concat(value);\n    if (sign.length === 0) {\n        return vl;\n    }\n    if (vl.includes('.')) {\n        var arr = vl.split('.');\n        return \"\".concat(arr[0].replace(/(\\d)(?=(\\d{3})+$)/g, function ($1) { return \"\".concat($1).concat(sign); }), \".\").concat(arr[1]);\n    }\n    return vl.replace(/(\\d)(?=(\\d{3})+$)/g, function ($1) { return \"\".concat($1).concat(sign); });\n}\nfunction formatFoldDecimal(value, threshold) {\n    var vl = \"\".concat(value);\n    var reg = new RegExp('\\\\.0{' + threshold + ',}[1-9][0-9]*$');\n    if (reg.test(vl)) {\n        var result = vl.split('.');\n        var v = result[result.length - 1];\n        var match = v.match(/0*/);\n        if (isValid(match)) {\n            var count = match[0].length;\n            result[result.length - 1] = v.replace(/0*/, \"0{\".concat(count, \"}\"));\n            return result.join('.');\n        }\n    }\n    return vl;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar measureCtx;\n/**\n * Get pixel ratio\n * @param canvas\n * @returns {number}\n */\nfunction getPixelRatio(canvas) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = canvas.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) === null || _b === void 0 ? void 0 : _b.devicePixelRatio) !== null && _c !== void 0 ? _c : 1;\n}\nfunction createFont(size, weight, family) {\n    return \"\".concat(weight !== null && weight !== void 0 ? weight : 'normal', \" \").concat(size !== null && size !== void 0 ? size : 12, \"px \").concat(family !== null && family !== void 0 ? family : 'Helvetica Neue');\n}\n/**\n * Measure the width of text\n * @param text\n * @returns {number}\n */\nfunction calcTextWidth(text, size, weight, family) {\n    if (!isValid(measureCtx)) {\n        var canvas = document.createElement('canvas');\n        var pixelRatio = getPixelRatio(canvas);\n        measureCtx = canvas.getContext('2d');\n        measureCtx.scale(pixelRatio, pixelRatio);\n    }\n    measureCtx.font = createFont(size, weight, family);\n    return Math.round(measureCtx.measureText(text).width);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ActionType;\n(function (ActionType) {\n    ActionType[\"OnDataReady\"] = \"onDataReady\";\n    ActionType[\"OnZoom\"] = \"onZoom\";\n    ActionType[\"OnScroll\"] = \"onScroll\";\n    ActionType[\"OnVisibleRangeChange\"] = \"onVisibleRangeChange\";\n    ActionType[\"OnTooltipIconClick\"] = \"onTooltipIconClick\";\n    ActionType[\"OnCrosshairChange\"] = \"onCrosshairChange\";\n    ActionType[\"OnCandleBarClick\"] = \"onCandleBarClick\";\n    ActionType[\"OnPaneDrag\"] = \"onPaneDrag\";\n})(ActionType || (ActionType = {}));\nvar Delegate = /** @class */ (function () {\n    function Delegate() {\n        this._callbacks = [];\n    }\n    Delegate.prototype.subscribe = function (callback) {\n        var _a;\n        var index = (_a = this._callbacks.indexOf(callback)) !== null && _a !== void 0 ? _a : -1;\n        if (index < 0) {\n            this._callbacks.push(callback);\n        }\n    };\n    Delegate.prototype.unsubscribe = function (callback) {\n        var _a;\n        if (isFunction(callback)) {\n            var index = (_a = this._callbacks.indexOf(callback)) !== null && _a !== void 0 ? _a : -1;\n            if (index > -1) {\n                this._callbacks.splice(index, 1);\n            }\n        }\n        else {\n            this._callbacks = [];\n        }\n    };\n    Delegate.prototype.execute = function (data) {\n        this._callbacks.forEach(function (callback) {\n            callback(data);\n        });\n    };\n    Delegate.prototype.isEmpty = function () {\n        return this._callbacks.length === 0;\n    };\n    return Delegate;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar LoadDataType;\n(function (LoadDataType) {\n    LoadDataType[\"Init\"] = \"init\";\n    LoadDataType[\"Forward\"] = \"forward\";\n    LoadDataType[\"Backward\"] = \"backward\";\n})(LoadDataType || (LoadDataType = {}));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorSeries;\n(function (IndicatorSeries) {\n    IndicatorSeries[\"Normal\"] = \"normal\";\n    IndicatorSeries[\"Price\"] = \"price\";\n    IndicatorSeries[\"Volume\"] = \"volume\";\n})(IndicatorSeries || (IndicatorSeries = {}));\nfunction eachFigures(kLineDataList, indicator, dataIndex, defaultStyles, eachFigureCallback) {\n    var result = indicator.result;\n    var figures = indicator.figures;\n    var styles = indicator.styles;\n    var circleStyles = formatValue(styles, 'circles', defaultStyles.circles);\n    var circleStyleCount = circleStyles.length;\n    var barStyles = formatValue(styles, 'bars', defaultStyles.bars);\n    var barStyleCount = barStyles.length;\n    var lineStyles = formatValue(styles, 'lines', defaultStyles.lines);\n    var lineStyleCount = lineStyles.length;\n    var circleCount = 0;\n    var barCount = 0;\n    var lineCount = 0;\n    var defaultFigureStyles;\n    var figureIndex = 0;\n    figures.forEach(function (figure) {\n        var _a;\n        switch (figure.type) {\n            case 'circle': {\n                figureIndex = circleCount;\n                var styles_1 = circleStyles[circleCount % circleStyleCount];\n                defaultFigureStyles = __assign(__assign({}, styles_1), { color: styles_1.noChangeColor });\n                circleCount++;\n                break;\n            }\n            case 'bar': {\n                figureIndex = barCount;\n                var styles_2 = barStyles[barCount % barStyleCount];\n                defaultFigureStyles = __assign(__assign({}, styles_2), { color: styles_2.noChangeColor });\n                barCount++;\n                break;\n            }\n            case 'line': {\n                figureIndex = lineCount;\n                defaultFigureStyles = lineStyles[lineCount % lineStyleCount];\n                lineCount++;\n                break;\n            }\n        }\n        if (isValid(defaultFigureStyles)) {\n            var cbData = {\n                prev: { kLineData: kLineDataList[dataIndex - 1], indicatorData: result[dataIndex - 1] },\n                current: { kLineData: kLineDataList[dataIndex], indicatorData: result[dataIndex] },\n                next: { kLineData: kLineDataList[dataIndex + 1], indicatorData: result[dataIndex + 1] }\n            };\n            var ss = (_a = figure.styles) === null || _a === void 0 ? void 0 : _a.call(figure, cbData, indicator, defaultStyles);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            eachFigureCallback(figure, __assign(__assign({}, defaultFigureStyles), ss), figureIndex);\n        }\n    });\n}\nvar IndicatorImp = /** @class */ (function () {\n    function IndicatorImp(indicator) {\n        this.result = [];\n        this._precisionFlag = false;\n        var name = indicator.name, shortName = indicator.shortName, series = indicator.series, calcParams = indicator.calcParams, figures = indicator.figures, precision = indicator.precision, shouldOhlc = indicator.shouldOhlc, shouldFormatBigNumber = indicator.shouldFormatBigNumber, visible = indicator.visible, zLevel = indicator.zLevel, minValue = indicator.minValue, maxValue = indicator.maxValue, styles = indicator.styles, extendData = indicator.extendData, regenerateFigures = indicator.regenerateFigures, createTooltipDataSource = indicator.createTooltipDataSource, draw = indicator.draw;\n        this.name = name;\n        this.shortName = shortName !== null && shortName !== void 0 ? shortName : name;\n        this.series = series !== null && series !== void 0 ? series : IndicatorSeries.Normal;\n        this.precision = precision !== null && precision !== void 0 ? precision : 4;\n        this.calcParams = calcParams !== null && calcParams !== void 0 ? calcParams : [];\n        this.figures = figures !== null && figures !== void 0 ? figures : [];\n        this.shouldOhlc = shouldOhlc !== null && shouldOhlc !== void 0 ? shouldOhlc : false;\n        this.shouldFormatBigNumber = shouldFormatBigNumber !== null && shouldFormatBigNumber !== void 0 ? shouldFormatBigNumber : false;\n        this.visible = visible !== null && visible !== void 0 ? visible : true;\n        this.zLevel = zLevel !== null && zLevel !== void 0 ? zLevel : 0;\n        this.minValue = minValue !== null && minValue !== void 0 ? minValue : null;\n        this.maxValue = maxValue !== null && maxValue !== void 0 ? maxValue : null;\n        this.styles = clone(styles !== null && styles !== void 0 ? styles : {});\n        this.extendData = extendData;\n        this.regenerateFigures = regenerateFigures !== null && regenerateFigures !== void 0 ? regenerateFigures : null;\n        this.createTooltipDataSource = createTooltipDataSource !== null && createTooltipDataSource !== void 0 ? createTooltipDataSource : null;\n        this.draw = draw !== null && draw !== void 0 ? draw : null;\n    }\n    IndicatorImp.prototype.setShortName = function (shortName) {\n        if (this.shortName !== shortName) {\n            this.shortName = shortName;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setSeries = function (series) {\n        if (this.series !== series) {\n            this.series = series;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setPrecision = function (precision, flag) {\n        var f = flag !== null && flag !== void 0 ? flag : false;\n        var optimalPrecision = Math.floor(precision);\n        if (optimalPrecision !== this.precision && precision >= 0 && (!f || (f && !this._precisionFlag))) {\n            this.precision = optimalPrecision;\n            if (!f) {\n                this._precisionFlag = true;\n            }\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setCalcParams = function (params) {\n        var _a, _b;\n        this.calcParams = params;\n        this.figures = (_b = (_a = this.regenerateFigures) === null || _a === void 0 ? void 0 : _a.call(this, params)) !== null && _b !== void 0 ? _b : this.figures;\n        return true;\n    };\n    IndicatorImp.prototype.setShouldOhlc = function (shouldOhlc) {\n        if (this.shouldOhlc !== shouldOhlc) {\n            this.shouldOhlc = shouldOhlc;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setShouldFormatBigNumber = function (shouldFormatBigNumber) {\n        if (this.shouldFormatBigNumber !== shouldFormatBigNumber) {\n            this.shouldFormatBigNumber = shouldFormatBigNumber;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setVisible = function (visible) {\n        if (this.visible !== visible) {\n            this.visible = visible;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setZLevel = function (zLevel) {\n        if (this.zLevel !== zLevel) {\n            this.zLevel = zLevel;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setStyles = function (styles) {\n        merge(this.styles, styles);\n        return true;\n    };\n    IndicatorImp.prototype.setExtendData = function (extendData) {\n        if (this.extendData !== extendData) {\n            this.extendData = extendData;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setFigures = function (figures) {\n        if (this.figures !== figures) {\n            this.figures = figures;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setMinValue = function (value) {\n        if (this.minValue !== value) {\n            this.minValue = value;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setMaxValue = function (value) {\n        if (this.maxValue !== value) {\n            this.maxValue = value;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setRegenerateFigures = function (callback) {\n        if (this.regenerateFigures !== callback) {\n            this.regenerateFigures = callback;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setCreateTooltipDataSource = function (callback) {\n        if (this.createTooltipDataSource !== callback) {\n            this.createTooltipDataSource = callback;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.setDraw = function (callback) {\n        if (this.draw !== callback) {\n            this.draw = callback;\n            return true;\n        }\n        return false;\n    };\n    IndicatorImp.prototype.calcIndicator = function (dataList) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.calc(dataList, this)];\n                    case 1:\n                        result = _a.sent();\n                        this.result = result;\n                        return [2 /*return*/, true];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    IndicatorImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super.call(this, template) || this;\n            }\n            Custom.prototype.calc = function (dataList, indicator) {\n                return template.calc(dataList, indicator);\n            };\n            return Custom;\n        }(IndicatorImp));\n        return Custom;\n    };\n    return IndicatorImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayMode;\n(function (OverlayMode) {\n    OverlayMode[\"Normal\"] = \"normal\";\n    OverlayMode[\"WeakMagnet\"] = \"weak_magnet\";\n    OverlayMode[\"StrongMagnet\"] = \"strong_magnet\";\n})(OverlayMode || (OverlayMode = {}));\nfunction getAllOverlayFigureIgnoreEventTypes() {\n    return [\n        'mouseClickEvent',\n        'mouseDoubleClickEvent',\n        'mouseRightClickEvent',\n        'tapEvent',\n        'doubleTapEvent',\n        'mouseDownEvent',\n        'touchStartEvent',\n        'mouseMoveEvent',\n        'touchMoveEvent'\n    ];\n}\nvar OVERLAY_DRAW_STEP_START = 1;\nvar OVERLAY_DRAW_STEP_FINISHED = -1;\nvar OVERLAY_ID_PREFIX = 'overlay_';\nvar OVERLAY_FIGURE_KEY_PREFIX = 'overlay_figure_';\nvar OverlayImp = /** @class */ (function () {\n    function OverlayImp(overlay) {\n        this.currentStep = OVERLAY_DRAW_STEP_START;\n        this.points = [];\n        this._prevPressedPoint = null;\n        this._prevPressedPoints = [];\n        var mode = overlay.mode, modeSensitivity = overlay.modeSensitivity, extendData = overlay.extendData, styles = overlay.styles, name = overlay.name, totalStep = overlay.totalStep, lock = overlay.lock, visible = overlay.visible, zLevel = overlay.zLevel, needDefaultPointFigure = overlay.needDefaultPointFigure, needDefaultXAxisFigure = overlay.needDefaultXAxisFigure, needDefaultYAxisFigure = overlay.needDefaultYAxisFigure, createPointFigures = overlay.createPointFigures, createXAxisFigures = overlay.createXAxisFigures, createYAxisFigures = overlay.createYAxisFigures, performEventPressedMove = overlay.performEventPressedMove, performEventMoveForDrawing = overlay.performEventMoveForDrawing, onDrawStart = overlay.onDrawStart, onDrawing = overlay.onDrawing, onDrawEnd = overlay.onDrawEnd, onClick = overlay.onClick, onDoubleClick = overlay.onDoubleClick, onRightClick = overlay.onRightClick, onPressedMoveStart = overlay.onPressedMoveStart, onPressedMoving = overlay.onPressedMoving, onPressedMoveEnd = overlay.onPressedMoveEnd, onMouseEnter = overlay.onMouseEnter, onMouseLeave = overlay.onMouseLeave, onRemoved = overlay.onRemoved, onSelected = overlay.onSelected, onDeselected = overlay.onDeselected;\n        this.name = name;\n        this.totalStep = (!isNumber(totalStep) || totalStep < 2) ? 1 : totalStep;\n        this.lock = lock !== null && lock !== void 0 ? lock : false;\n        this.visible = visible !== null && visible !== void 0 ? visible : true;\n        this.zLevel = zLevel !== null && zLevel !== void 0 ? zLevel : 0;\n        this.needDefaultPointFigure = needDefaultPointFigure !== null && needDefaultPointFigure !== void 0 ? needDefaultPointFigure : false;\n        this.needDefaultXAxisFigure = needDefaultXAxisFigure !== null && needDefaultXAxisFigure !== void 0 ? needDefaultXAxisFigure : false;\n        this.needDefaultYAxisFigure = needDefaultYAxisFigure !== null && needDefaultYAxisFigure !== void 0 ? needDefaultYAxisFigure : false;\n        this.mode = mode !== null && mode !== void 0 ? mode : OverlayMode.Normal;\n        this.modeSensitivity = modeSensitivity !== null && modeSensitivity !== void 0 ? modeSensitivity : 8;\n        this.extendData = extendData;\n        this.styles = clone(styles !== null && styles !== void 0 ? styles : {});\n        this.createPointFigures = createPointFigures !== null && createPointFigures !== void 0 ? createPointFigures : null;\n        this.createXAxisFigures = createXAxisFigures !== null && createXAxisFigures !== void 0 ? createXAxisFigures : null;\n        this.createYAxisFigures = createYAxisFigures !== null && createYAxisFigures !== void 0 ? createYAxisFigures : null;\n        this.performEventPressedMove = performEventPressedMove !== null && performEventPressedMove !== void 0 ? performEventPressedMove : null;\n        this.performEventMoveForDrawing = performEventMoveForDrawing !== null && performEventMoveForDrawing !== void 0 ? performEventMoveForDrawing : null;\n        this.onDrawStart = onDrawStart !== null && onDrawStart !== void 0 ? onDrawStart : null;\n        this.onDrawing = onDrawing !== null && onDrawing !== void 0 ? onDrawing : null;\n        this.onDrawEnd = onDrawEnd !== null && onDrawEnd !== void 0 ? onDrawEnd : null;\n        this.onClick = onClick !== null && onClick !== void 0 ? onClick : null;\n        this.onDoubleClick = onDoubleClick !== null && onDoubleClick !== void 0 ? onDoubleClick : null;\n        this.onRightClick = onRightClick !== null && onRightClick !== void 0 ? onRightClick : null;\n        this.onPressedMoveStart = onPressedMoveStart !== null && onPressedMoveStart !== void 0 ? onPressedMoveStart : null;\n        this.onPressedMoving = onPressedMoving !== null && onPressedMoving !== void 0 ? onPressedMoving : null;\n        this.onPressedMoveEnd = onPressedMoveEnd !== null && onPressedMoveEnd !== void 0 ? onPressedMoveEnd : null;\n        this.onMouseEnter = onMouseEnter !== null && onMouseEnter !== void 0 ? onMouseEnter : null;\n        this.onMouseLeave = onMouseLeave !== null && onMouseLeave !== void 0 ? onMouseLeave : null;\n        this.onRemoved = onRemoved !== null && onRemoved !== void 0 ? onRemoved : null;\n        this.onSelected = onSelected !== null && onSelected !== void 0 ? onSelected : null;\n        this.onDeselected = onDeselected !== null && onDeselected !== void 0 ? onDeselected : null;\n    }\n    OverlayImp.prototype.setId = function (id) {\n        if (!isString(this.id)) {\n            this.id = id;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setGroupId = function (groupId) {\n        if (!isString(this.groupId)) {\n            this.groupId = groupId;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setPaneId = function (paneId) {\n        this.paneId = paneId;\n    };\n    OverlayImp.prototype.setExtendData = function (extendData) {\n        if (extendData !== this.extendData) {\n            this.extendData = extendData;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setStyles = function (styles) {\n        merge(this.styles, styles);\n        return true;\n    };\n    OverlayImp.prototype.setPoints = function (points) {\n        if (points.length > 0) {\n            var repeatTotalStep = void 0;\n            this.points = __spreadArray([], __read(points), false);\n            if (points.length >= this.totalStep - 1) {\n                this.currentStep = OVERLAY_DRAW_STEP_FINISHED;\n                repeatTotalStep = this.totalStep - 1;\n            }\n            else {\n                this.currentStep = points.length + 1;\n                repeatTotalStep = points.length;\n            }\n            // Prevent wrong drawing due to wrong points\n            if (this.performEventMoveForDrawing !== null) {\n                for (var i = 0; i < repeatTotalStep; i++) {\n                    this.performEventMoveForDrawing({\n                        currentStep: i + 2,\n                        mode: this.mode,\n                        points: this.points,\n                        performPointIndex: i,\n                        performPoint: this.points[i]\n                    });\n                }\n            }\n            if (this.currentStep === OVERLAY_DRAW_STEP_FINISHED && this.performEventPressedMove !== null) {\n                this.performEventPressedMove({\n                    currentStep: this.currentStep,\n                    mode: this.mode,\n                    points: this.points,\n                    performPointIndex: this.points.length - 1,\n                    performPoint: this.points[this.points.length - 1]\n                });\n            }\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setLock = function (lock) {\n        if (this.lock !== lock) {\n            this.lock = lock;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setVisible = function (visible) {\n        if (this.visible !== visible) {\n            this.visible = visible;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setZLevel = function (zLevel) {\n        if (this.zLevel !== zLevel) {\n            this.zLevel = zLevel;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setMode = function (mode) {\n        if (this.mode !== mode) {\n            this.mode = mode;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setModeSensitivity = function (modeSensitivity) {\n        if (this.modeSensitivity !== modeSensitivity) {\n            this.modeSensitivity = modeSensitivity;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnDrawStartCallback = function (callback) {\n        if (this.onDrawStart !== callback) {\n            this.onDrawStart = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnDrawingCallback = function (callback) {\n        if (this.onDrawing !== callback) {\n            this.onDrawing = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnDrawEndCallback = function (callback) {\n        if (this.onDrawEnd !== callback) {\n            this.onDrawEnd = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnClickCallback = function (callback) {\n        if (this.onClick !== callback) {\n            this.onClick = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnDoubleClickCallback = function (callback) {\n        if (this.onDoubleClick !== callback) {\n            this.onDoubleClick = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnRightClickCallback = function (callback) {\n        if (this.onRightClick !== callback) {\n            this.onRightClick = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnPressedMoveStartCallback = function (callback) {\n        if (this.onPressedMoveStart !== callback) {\n            this.onPressedMoveStart = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnPressedMovingCallback = function (callback) {\n        if (this.onPressedMoving !== callback) {\n            this.onPressedMoving = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnPressedMoveEndCallback = function (callback) {\n        if (this.onPressedMoveEnd !== callback) {\n            this.onPressedMoveEnd = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnMouseEnterCallback = function (callback) {\n        if (this.onMouseEnter !== callback) {\n            this.onMouseEnter = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnMouseLeaveCallback = function (callback) {\n        if (this.onMouseLeave !== callback) {\n            this.onMouseLeave = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnRemovedCallback = function (callback) {\n        if (this.onRemoved !== callback) {\n            this.onRemoved = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnSelectedCallback = function (callback) {\n        if (this.onSelected !== callback) {\n            this.onSelected = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.setOnDeselectedCallback = function (callback) {\n        if (this.onDeselected !== callback) {\n            this.onDeselected = callback;\n            return true;\n        }\n        return false;\n    };\n    OverlayImp.prototype.nextStep = function () {\n        if (this.currentStep === this.totalStep - 1) {\n            this.currentStep = OVERLAY_DRAW_STEP_FINISHED;\n        }\n        else {\n            this.currentStep++;\n        }\n    };\n    OverlayImp.prototype.forceComplete = function () {\n        this.currentStep = OVERLAY_DRAW_STEP_FINISHED;\n    };\n    OverlayImp.prototype.isDrawing = function () {\n        return this.currentStep !== OVERLAY_DRAW_STEP_FINISHED;\n    };\n    OverlayImp.prototype.isStart = function () {\n        return this.currentStep === OVERLAY_DRAW_STEP_START;\n    };\n    OverlayImp.prototype.eventMoveForDrawing = function (point) {\n        var _a;\n        var pointIndex = this.currentStep - 1;\n        var newPoint = {};\n        if (isNumber(point.timestamp)) {\n            newPoint.timestamp = point.timestamp;\n        }\n        if (isNumber(point.dataIndex)) {\n            newPoint.dataIndex = point.dataIndex;\n        }\n        if (isNumber(point.value)) {\n            newPoint.value = point.value;\n        }\n        this.points[pointIndex] = newPoint;\n        (_a = this.performEventMoveForDrawing) === null || _a === void 0 ? void 0 : _a.call(this, {\n            currentStep: this.currentStep,\n            mode: this.mode,\n            points: this.points,\n            performPointIndex: pointIndex,\n            performPoint: newPoint\n        });\n    };\n    OverlayImp.prototype.eventPressedPointMove = function (point, pointIndex) {\n        var _a;\n        if (isNumber(point.dataIndex)) {\n            this.points[pointIndex].dataIndex = point.dataIndex;\n            this.points[pointIndex].timestamp = point.timestamp;\n        }\n        if (isNumber(point.value)) {\n            this.points[pointIndex].value = point.value;\n        }\n        (_a = this.performEventPressedMove) === null || _a === void 0 ? void 0 : _a.call(this, {\n            currentStep: this.currentStep,\n            points: this.points,\n            mode: this.mode,\n            performPointIndex: pointIndex,\n            performPoint: this.points[pointIndex]\n        });\n    };\n    OverlayImp.prototype.startPressedMove = function (point) {\n        this._prevPressedPoint = __assign({}, point);\n        this._prevPressedPoints = clone(this.points);\n    };\n    OverlayImp.prototype.eventPressedOtherMove = function (point, timeScaleStore) {\n        if (this._prevPressedPoint !== null) {\n            var difDataIndex_1;\n            if (isNumber(point.dataIndex) && isNumber(this._prevPressedPoint.dataIndex)) {\n                difDataIndex_1 = point.dataIndex - this._prevPressedPoint.dataIndex;\n            }\n            var difValue_1;\n            if (isNumber(point.value) && isNumber(this._prevPressedPoint.value)) {\n                difValue_1 = point.value - this._prevPressedPoint.value;\n            }\n            this.points = this._prevPressedPoints.map(function (p) {\n                var _a;\n                if (isNumber(p.timestamp)) {\n                    p.dataIndex = timeScaleStore.timestampToDataIndex(p.timestamp);\n                }\n                var newPoint = __assign({}, p);\n                if (isNumber(difDataIndex_1) && isNumber(p.dataIndex)) {\n                    newPoint.dataIndex = p.dataIndex + difDataIndex_1;\n                    newPoint.timestamp = (_a = timeScaleStore.dataIndexToTimestamp(newPoint.dataIndex)) !== null && _a !== void 0 ? _a : undefined;\n                }\n                if (isNumber(difValue_1) && isNumber(p.value)) {\n                    newPoint.value = p.value + difValue_1;\n                }\n                return newPoint;\n            });\n        }\n    };\n    OverlayImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super.call(this, template) || this;\n            }\n            return Custom;\n        }(OverlayImp));\n        return Custom;\n    };\n    return OverlayImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar FormatDateType;\n(function (FormatDateType) {\n    FormatDateType[FormatDateType[\"Tooltip\"] = 0] = \"Tooltip\";\n    FormatDateType[FormatDateType[\"Crosshair\"] = 1] = \"Crosshair\";\n    FormatDateType[FormatDateType[\"XAxis\"] = 2] = \"XAxis\";\n})(FormatDateType || (FormatDateType = {}));\nfunction getDefaultCustomApi() {\n    return {\n        formatDate: formatDate,\n        formatBigNumber: formatBigNumber\n    };\n}\nvar defaultLocale = 'en-US';\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEFAULT_REQUEST_ID = -1;\nfunction requestAnimationFrame(fn) {\n    if (isFunction(window.requestAnimationFrame)) {\n        return window.requestAnimationFrame(fn);\n    }\n    return window.setTimeout(fn, 20);\n}\nfunction cancelAnimationFrame(id) {\n    if (isFunction(window.cancelAnimationFrame)) {\n        window.cancelAnimationFrame(id);\n    }\n    else {\n        window.clearTimeout(id);\n    }\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Animation = /** @class */ (function () {\n    function Animation(options) {\n        this._options = { duration: 500, iterationCount: 1 };\n        this._currentIterationCount = 0;\n        this._running = false;\n        this._time = 0;\n        merge(this._options, options);\n    }\n    Animation.prototype._loop = function () {\n        var _this = this;\n        this._running = true;\n        var step = function () {\n            var _a;\n            if (_this._running) {\n                var diffTime = new Date().getTime() - _this._time;\n                if (diffTime < _this._options.duration) {\n                    (_a = _this._doFrameCallback) === null || _a === void 0 ? void 0 : _a.call(_this, diffTime);\n                    requestAnimationFrame(step);\n                }\n                else {\n                    _this.stop();\n                    _this._currentIterationCount++;\n                    if (_this._currentIterationCount < _this._options.iterationCount) {\n                        _this.start();\n                    }\n                }\n            }\n        };\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.doFrame = function (callback) {\n        this._doFrameCallback = callback;\n        return this;\n    };\n    Animation.prototype.setDuration = function (duration) {\n        this._options.duration = duration;\n        return this;\n    };\n    Animation.prototype.setIterationCount = function (iterationCount) {\n        this._options.iterationCount = iterationCount;\n        return this;\n    };\n    Animation.prototype.start = function () {\n        if (!this._running) {\n            this._time = new Date().getTime();\n            this._loop();\n        }\n    };\n    Animation.prototype.stop = function () {\n        var _a;\n        if (this._running) {\n            (_a = this._doFrameCallback) === null || _a === void 0 ? void 0 : _a.call(this, this._options.duration);\n        }\n        this._running = false;\n    };\n    return Animation;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar baseId = 1;\nvar prevIdTimestamp = new Date().getTime();\nfunction createId(prefix) {\n    var timestamp = new Date().getTime();\n    if (timestamp === prevIdTimestamp) {\n        ++baseId;\n    }\n    else {\n        baseId = 1;\n    }\n    prevIdTimestamp = timestamp;\n    return \"\".concat(prefix !== null && prefix !== void 0 ? prefix : '').concat(timestamp, \"_\").concat(baseId);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Create dom\n * @param tagName\n * @param styles\n * @return {*}\n */\nfunction createDom(tagName, styles) {\n    var _a;\n    var dom = document.createElement(tagName);\n    var s = styles !== null && styles !== void 0 ? styles : {};\n    for (var key in s) {\n        (dom.style)[key] = (_a = s[key]) !== null && _a !== void 0 ? _a : '';\n    }\n    return dom;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Binary search for the nearest result\n * @param dataList\n * @param valueKey\n * @param targetValue\n * @return {number}\n */\nfunction binarySearchNearest(dataList, valueKey, targetValue) {\n    var left = 0;\n    var right = 0;\n    for (right = dataList.length - 1; left !== right;) {\n        var midIndex = Math.floor((right + left) / 2);\n        var mid = right - left;\n        var midValue = dataList[midIndex][valueKey];\n        if (targetValue === dataList[left][valueKey]) {\n            return left;\n        }\n        if (targetValue === dataList[right][valueKey]) {\n            return right;\n        }\n        if (targetValue === midValue) {\n            return midIndex;\n        }\n        if (targetValue > midValue) {\n            left = midIndex;\n        }\n        else {\n            right = midIndex;\n        }\n        if (mid <= 2) {\n            break;\n        }\n    }\n    return left;\n}\n/**\n * ä¼˜åŒ–æ•°å­—\n * @param value\n * @return {number|number}\n */\nfunction nice(value) {\n    var exponent = Math.floor(log10(value));\n    var exp10 = index10(exponent);\n    var f = value / exp10; // 1 <= f < 10\n    var nf = 0;\n    if (f < 1.5) {\n        nf = 1;\n    }\n    else if (f < 2.5) {\n        nf = 2;\n    }\n    else if (f < 3.5) {\n        nf = 3;\n    }\n    else if (f < 4.5) {\n        nf = 4;\n    }\n    else if (f < 5.5) {\n        nf = 5;\n    }\n    else if (f < 6.5) {\n        nf = 6;\n    }\n    else {\n        nf = 8;\n    }\n    value = nf * exp10;\n    return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value;\n}\n/**\n * å››èˆäº”å…¥\n * @param value\n * @param precision\n * @return {number}\n */\nfunction round(value, precision) {\n    if (precision == null) {\n        precision = 10;\n    }\n    precision = Math.min(Math.max(0, precision), 20);\n    var v = (+value).toFixed(precision);\n    return +v;\n}\n/**\n * èŽ·å–å°æ•°ä½æ•°\n * @param value\n * @return {number|number}\n */\nfunction getPrecision(value) {\n    var str = value.toString();\n    var eIndex = str.indexOf('e');\n    if (eIndex > 0) {\n        var precision = +str.slice(eIndex + 1);\n        return precision < 0 ? -precision : 0;\n    }\n    else {\n        var dotIndex = str.indexOf('.');\n        return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n    }\n}\nfunction getMaxMin(dataList, maxKey, minKey) {\n    var maxMin = [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER];\n    dataList.forEach(function (data) {\n        var _a, _b;\n        maxMin[0] = Math.max(((_a = data[maxKey]) !== null && _a !== void 0 ? _a : data), maxMin[0]);\n        maxMin[1] = Math.min(((_b = data[minKey]) !== null && _b !== void 0 ? _b : data), maxMin[1]);\n    });\n    return maxMin;\n}\n/**\n * 10ä¸ºåº•çš„å¯¹æ•°å‡½æ•°\n * @param value\n * @return {number}\n */\nfunction log10(value) {\n    return Math.log(value) / Math.log(10);\n}\n/**\n * 10çš„æŒ‡æ•°å‡½æ•°\n * @param value\n * @return {number}\n */\nfunction index10(value) {\n    return Math.pow(10, value);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getDefaultVisibleRange() {\n    return { from: 0, to: 0, realFrom: 0, realTo: 0 };\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar BarSpaceLimitConstants = {\n    MIN: 1,\n    MAX: 50\n};\nvar DEFAULT_BAR_SPACE = 8;\nvar DEFAULT_OFFSET_RIGHT_DISTANCE = 80;\nvar GAP_BAR_SPACE_RATIO = 0.88;\nvar SCALE_MULTIPLIER = 10;\nvar TimeScaleStore = /** @class */ (function () {\n    function TimeScaleStore(chartStore) {\n        /**\n         * Time format\n         */\n        this._dateTimeFormat = this._buildDateTimeFormat();\n        /**\n         * Scale enabled flag\n         */\n        this._zoomEnabled = true;\n        /**\n         * Scroll enabled flag\n         */\n        this._scrollEnabled = true;\n        /**\n         * Total space of drawing area\n         */\n        this._totalBarSpace = 0;\n        /**\n         * Space occupied by a single piece of data\n         */\n        this._barSpace = DEFAULT_BAR_SPACE;\n        /**\n         * Distance from the last data to the right of the drawing area\n         */\n        this._offsetRightDistance = DEFAULT_OFFSET_RIGHT_DISTANCE;\n        /**\n         * The number of bar to the right of the drawing area from the last data when scrolling starts\n         */\n        this._startLastBarRightSideDiffBarCount = 0;\n        /**\n         * Scroll limit role\n         */\n        this._scrollLimitRole = 0 /* ScrollLimitRole.BarCount */;\n        /**\n         * Scroll to the leftmost and rightmost visible bar\n         */\n        this._minVisibleBarCount = { left: 2, right: 2 };\n        /**\n         * Scroll to the leftmost and rightmost distance\n         */\n        this._maxOffsetDistance = { left: 50, right: 50 };\n        /**\n         * Start and end points of visible area data index\n         */\n        this._visibleRange = getDefaultVisibleRange();\n        this._chartStore = chartStore;\n        this._gapBarSpace = this._calcGapBarSpace();\n        this._lastBarRightSideDiffBarCount = this._offsetRightDistance / this._barSpace;\n    }\n    TimeScaleStore.prototype._calcGapBarSpace = function () {\n        var gapBarSpace;\n        if (this._barSpace > 3) {\n            gapBarSpace = Math.floor(this._barSpace * GAP_BAR_SPACE_RATIO);\n        }\n        else {\n            gapBarSpace = Math.floor(this._barSpace);\n            if (gapBarSpace === this._barSpace) {\n                gapBarSpace--;\n            }\n        }\n        if (gapBarSpace % 2 === 0) {\n            gapBarSpace--;\n        }\n        gapBarSpace = Math.max(1, gapBarSpace);\n        return gapBarSpace;\n    };\n    /**\n     * adjust visible range\n     */\n    TimeScaleStore.prototype.adjustVisibleRange = function () {\n        var _a, _b;\n        var dataList = this._chartStore.getDataList();\n        var totalBarCount = dataList.length;\n        var visibleBarCount = this._totalBarSpace / this._barSpace;\n        var leftMinVisibleBarCount;\n        var rightMinVisibleBarCount;\n        if (this._scrollLimitRole === 1 /* ScrollLimitRole.Distance */) {\n            leftMinVisibleBarCount = (this._totalBarSpace - this._maxOffsetDistance.right) / this._barSpace;\n            rightMinVisibleBarCount = (this._totalBarSpace - this._maxOffsetDistance.left) / this._barSpace;\n        }\n        else {\n            leftMinVisibleBarCount = this._minVisibleBarCount.left;\n            rightMinVisibleBarCount = this._minVisibleBarCount.right;\n        }\n        leftMinVisibleBarCount = Math.max(0, leftMinVisibleBarCount);\n        rightMinVisibleBarCount = Math.max(0, rightMinVisibleBarCount);\n        var maxRightOffsetBarCount = visibleBarCount - Math.min(leftMinVisibleBarCount, totalBarCount);\n        if (this._lastBarRightSideDiffBarCount > maxRightOffsetBarCount) {\n            this._lastBarRightSideDiffBarCount = maxRightOffsetBarCount;\n        }\n        var minRightOffsetBarCount = -totalBarCount + Math.min(rightMinVisibleBarCount, totalBarCount);\n        if (this._lastBarRightSideDiffBarCount < minRightOffsetBarCount) {\n            this._lastBarRightSideDiffBarCount = minRightOffsetBarCount;\n        }\n        var to = Math.round(this._lastBarRightSideDiffBarCount + totalBarCount + 0.5);\n        var realTo = to;\n        if (to > totalBarCount) {\n            to = totalBarCount;\n        }\n        var from = Math.round(to - visibleBarCount) - 1;\n        if (from < 0) {\n            from = 0;\n        }\n        var realFrom = this._lastBarRightSideDiffBarCount > 0 ? Math.round(totalBarCount + this._lastBarRightSideDiffBarCount - visibleBarCount) - 1 : from;\n        this._visibleRange = { from: from, to: to, realFrom: realFrom, realTo: realTo };\n        this._chartStore.getActionStore().execute(ActionType.OnVisibleRangeChange, this._visibleRange);\n        this._chartStore.adjustVisibleDataList();\n        // More processing and loading, more loading if there are callback methods and no data is being loaded\n        if (from === 0) {\n            var firstData = dataList[0];\n            this._chartStore.executeLoadMoreCallback((_a = firstData === null || firstData === void 0 ? void 0 : firstData.timestamp) !== null && _a !== void 0 ? _a : null);\n            this._chartStore.executeLoadDataCallback({\n                type: LoadDataType.Forward,\n                data: firstData !== null && firstData !== void 0 ? firstData : null\n            });\n        }\n        if (to === totalBarCount) {\n            this._chartStore.executeLoadDataCallback({\n                type: LoadDataType.Backward,\n                data: (_b = dataList[totalBarCount - 1]) !== null && _b !== void 0 ? _b : null\n            });\n        }\n    };\n    TimeScaleStore.prototype.getDateTimeFormat = function () {\n        return this._dateTimeFormat;\n    };\n    TimeScaleStore.prototype._buildDateTimeFormat = function (timezone) {\n        var options = {\n            hour12: false,\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit'\n        };\n        if (isString(timezone)) {\n            options.timeZone = timezone;\n        }\n        var dateTimeFormat = null;\n        try {\n            dateTimeFormat = new Intl.DateTimeFormat('en', options);\n        }\n        catch (e) {\n            logWarn('', '', 'Timezone is error!!!');\n        }\n        return dateTimeFormat;\n    };\n    TimeScaleStore.prototype.setTimezone = function (timezone) {\n        var dateTimeFormat = this._buildDateTimeFormat(timezone);\n        if (dateTimeFormat !== null) {\n            this._dateTimeFormat = dateTimeFormat;\n        }\n    };\n    TimeScaleStore.prototype.getTimezone = function () {\n        return this._dateTimeFormat.resolvedOptions().timeZone;\n    };\n    TimeScaleStore.prototype.getBarSpace = function () {\n        return {\n            bar: this._barSpace,\n            halfBar: this._barSpace / 2,\n            gapBar: this._gapBarSpace,\n            halfGapBar: Math.floor(this._gapBarSpace / 2)\n        };\n    };\n    TimeScaleStore.prototype.setBarSpace = function (barSpace, adjustBeforeFunc) {\n        if (barSpace < BarSpaceLimitConstants.MIN || barSpace > BarSpaceLimitConstants.MAX || this._barSpace === barSpace) {\n            return;\n        }\n        this._barSpace = barSpace;\n        this._gapBarSpace = this._calcGapBarSpace();\n        adjustBeforeFunc === null || adjustBeforeFunc === void 0 ? void 0 : adjustBeforeFunc();\n        this.adjustVisibleRange();\n        this._chartStore.getTooltipStore().recalculateCrosshair(true);\n        this._chartStore.getChart().adjustPaneViewport(false, true, true, true);\n    };\n    TimeScaleStore.prototype.setTotalBarSpace = function (totalSpace) {\n        if (this._totalBarSpace !== totalSpace) {\n            this._totalBarSpace = totalSpace;\n            this.adjustVisibleRange();\n            this._chartStore.getTooltipStore().recalculateCrosshair(true);\n        }\n        return this;\n    };\n    TimeScaleStore.prototype.setOffsetRightDistance = function (distance, isUpdate) {\n        this._offsetRightDistance = this._scrollLimitRole === 1 /* ScrollLimitRole.Distance */ ? Math.min(this._maxOffsetDistance.right, distance) : distance;\n        this._lastBarRightSideDiffBarCount = this._offsetRightDistance / this._barSpace;\n        if (isUpdate !== null && isUpdate !== void 0 ? isUpdate : false) {\n            this.adjustVisibleRange();\n            this._chartStore.getTooltipStore().recalculateCrosshair(true);\n            this._chartStore.getChart().adjustPaneViewport(false, true, true, true);\n        }\n        return this;\n    };\n    TimeScaleStore.prototype.resetOffsetRightDistance = function () {\n        this.setOffsetRightDistance(this._offsetRightDistance);\n    };\n    TimeScaleStore.prototype.getInitialOffsetRightDistance = function () {\n        return this._offsetRightDistance;\n    };\n    TimeScaleStore.prototype.getOffsetRightDistance = function () {\n        return Math.max(0, this._lastBarRightSideDiffBarCount * this._barSpace);\n    };\n    TimeScaleStore.prototype.getLastBarRightSideDiffBarCount = function () {\n        return this._lastBarRightSideDiffBarCount;\n    };\n    TimeScaleStore.prototype.setLastBarRightSideDiffBarCount = function (barCount) {\n        this._lastBarRightSideDiffBarCount = barCount;\n        return this;\n    };\n    TimeScaleStore.prototype.setMaxOffsetLeftDistance = function (distance) {\n        this._scrollLimitRole = 1 /* ScrollLimitRole.Distance */;\n        this._maxOffsetDistance.left = distance;\n        return this;\n    };\n    TimeScaleStore.prototype.setMaxOffsetRightDistance = function (distance) {\n        this._scrollLimitRole = 1 /* ScrollLimitRole.Distance */;\n        this._maxOffsetDistance.right = distance;\n        return this;\n    };\n    TimeScaleStore.prototype.setLeftMinVisibleBarCount = function (barCount) {\n        this._scrollLimitRole = 0 /* ScrollLimitRole.BarCount */;\n        this._minVisibleBarCount.left = barCount;\n        return this;\n    };\n    TimeScaleStore.prototype.setRightMinVisibleBarCount = function (barCount) {\n        this._scrollLimitRole = 0 /* ScrollLimitRole.BarCount */;\n        this._minVisibleBarCount.right = barCount;\n        return this;\n    };\n    TimeScaleStore.prototype.getVisibleRange = function () {\n        return this._visibleRange;\n    };\n    TimeScaleStore.prototype.startScroll = function () {\n        this._startLastBarRightSideDiffBarCount = this._lastBarRightSideDiffBarCount;\n    };\n    TimeScaleStore.prototype.scroll = function (distance) {\n        if (!this._scrollEnabled) {\n            return;\n        }\n        var distanceBarCount = distance / this._barSpace;\n        var prevLastBarRightSideDistance = this._lastBarRightSideDiffBarCount * this._barSpace;\n        this._lastBarRightSideDiffBarCount = this._startLastBarRightSideDiffBarCount - distanceBarCount;\n        this.adjustVisibleRange();\n        this._chartStore.getTooltipStore().recalculateCrosshair(true);\n        this._chartStore.getChart().adjustPaneViewport(false, true, true, true);\n        var realDistance = Math.round(prevLastBarRightSideDistance - this._lastBarRightSideDiffBarCount * this._barSpace);\n        if (realDistance !== 0) {\n            this._chartStore.getActionStore().execute(ActionType.OnScroll, { distance: realDistance });\n        }\n    };\n    TimeScaleStore.prototype.getDataByDataIndex = function (dataIndex) {\n        var _a;\n        return (_a = this._chartStore.getDataList()[dataIndex]) !== null && _a !== void 0 ? _a : null;\n    };\n    TimeScaleStore.prototype.coordinateToFloatIndex = function (x) {\n        var dataCount = this._chartStore.getDataList().length;\n        var deltaFromRight = (this._totalBarSpace - x) / this._barSpace;\n        var index = dataCount + this._lastBarRightSideDiffBarCount - deltaFromRight;\n        return Math.round(index * 1000000) / 1000000;\n    };\n    TimeScaleStore.prototype.dataIndexToTimestamp = function (dataIndex) {\n        var _a;\n        var data = this.getDataByDataIndex(dataIndex);\n        return (_a = data === null || data === void 0 ? void 0 : data.timestamp) !== null && _a !== void 0 ? _a : null;\n    };\n    TimeScaleStore.prototype.timestampToDataIndex = function (timestamp) {\n        var dataList = this._chartStore.getDataList();\n        if (dataList.length === 0) {\n            return 0;\n        }\n        return binarySearchNearest(dataList, 'timestamp', timestamp);\n    };\n    TimeScaleStore.prototype.dataIndexToCoordinate = function (dataIndex) {\n        var dataCount = this._chartStore.getDataList().length;\n        var deltaFromRight = dataCount + this._lastBarRightSideDiffBarCount - dataIndex;\n        // return Math.floor(this._totalBarSpace - (deltaFromRight - 0.5) * this._barSpace) - 0.5\n        return Math.floor(this._totalBarSpace - (deltaFromRight - 0.5) * this._barSpace);\n    };\n    TimeScaleStore.prototype.coordinateToDataIndex = function (x) {\n        return Math.ceil(this.coordinateToFloatIndex(x)) - 1;\n    };\n    TimeScaleStore.prototype.zoom = function (scale, coordinate) {\n        var _this = this;\n        var _a;\n        if (!this._zoomEnabled) {\n            return;\n        }\n        var zoomCoordinate = coordinate !== null && coordinate !== void 0 ? coordinate : null;\n        if (!isNumber(zoomCoordinate === null || zoomCoordinate === void 0 ? void 0 : zoomCoordinate.x)) {\n            var crosshair = this._chartStore.getTooltipStore().getCrosshair();\n            zoomCoordinate = { x: (_a = crosshair === null || crosshair === void 0 ? void 0 : crosshair.x) !== null && _a !== void 0 ? _a : this._totalBarSpace / 2 };\n        }\n        var x = zoomCoordinate.x;\n        var floatIndex = this.coordinateToFloatIndex(x);\n        var prevBarSpace = this._barSpace;\n        var barSpace = this._barSpace + scale * (this._barSpace / SCALE_MULTIPLIER);\n        this.setBarSpace(barSpace, function () {\n            _this._lastBarRightSideDiffBarCount += (floatIndex - _this.coordinateToFloatIndex(x));\n        });\n        var realScale = this._barSpace / prevBarSpace;\n        if (realScale !== 1) {\n            this._chartStore.getActionStore().execute(ActionType.OnZoom, { scale: realScale });\n        }\n    };\n    TimeScaleStore.prototype.setZoomEnabled = function (enabled) {\n        this._zoomEnabled = enabled;\n        return this;\n    };\n    TimeScaleStore.prototype.getZoomEnabled = function () {\n        return this._zoomEnabled;\n    };\n    TimeScaleStore.prototype.setScrollEnabled = function (enabled) {\n        this._scrollEnabled = enabled;\n        return this;\n    };\n    TimeScaleStore.prototype.getScrollEnabled = function () {\n        return this._scrollEnabled;\n    };\n    TimeScaleStore.prototype.clear = function () {\n        this._visibleRange = getDefaultVisibleRange();\n    };\n    return TimeScaleStore;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * average price\n */\nvar averagePrice = {\n    name: 'AVP',\n    shortName: 'AVP',\n    series: IndicatorSeries.Price,\n    precision: 2,\n    figures: [\n        { key: 'avp', title: 'AVP: ', type: 'line' }\n    ],\n    calc: function (dataList) {\n        var totalTurnover = 0;\n        var totalVolume = 0;\n        return dataList.map(function (kLineData) {\n            var _a, _b;\n            var avp = {};\n            var turnover = (_a = kLineData === null || kLineData === void 0 ? void 0 : kLineData.turnover) !== null && _a !== void 0 ? _a : 0;\n            var volume = (_b = kLineData === null || kLineData === void 0 ? void 0 : kLineData.volume) !== null && _b !== void 0 ? _b : 0;\n            totalTurnover += turnover;\n            totalVolume += volume;\n            if (totalVolume !== 0) {\n                avp.avp = totalTurnover / totalVolume;\n            }\n            return avp;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar awesomeOscillator = {\n    name: 'AO',\n    shortName: 'AO',\n    calcParams: [5, 34],\n    figures: [{\n            key: 'ao',\n            title: 'AO: ',\n            type: 'bar',\n            baseValue: 0,\n            styles: function (data, indicator, defaultStyles) {\n                var _a, _b, _c, _d;\n                var prev = data.prev, current = data.current;\n                var prevAo = (_b = (_a = prev.indicatorData) === null || _a === void 0 ? void 0 : _a.ao) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER;\n                var currentAo = (_d = (_c = current.indicatorData) === null || _c === void 0 ? void 0 : _c.ao) !== null && _d !== void 0 ? _d : Number.MIN_SAFE_INTEGER;\n                var color;\n                if (currentAo > prevAo) {\n                    color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor);\n                }\n                else {\n                    color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor);\n                }\n                var style = currentAo > prevAo ? PolygonType.Stroke : PolygonType.Fill;\n                return { color: color, style: style, borderColor: color };\n            }\n        }],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var maxPeriod = Math.max(params[0], params[1]);\n        var shortSum = 0;\n        var longSum = 0;\n        var short = 0;\n        var long = 0;\n        return dataList.map(function (kLineData, i) {\n            var ao = {};\n            var middle = (kLineData.low + kLineData.high) / 2;\n            shortSum += middle;\n            longSum += middle;\n            if (i >= params[0] - 1) {\n                short = shortSum / params[0];\n                var agoKLineData = dataList[i - (params[0] - 1)];\n                shortSum -= ((agoKLineData.low + agoKLineData.high) / 2);\n            }\n            if (i >= params[1] - 1) {\n                long = longSum / params[1];\n                var agoKLineData = dataList[i - (params[1] - 1)];\n                longSum -= ((agoKLineData.low + agoKLineData.high) / 2);\n            }\n            if (i >= maxPeriod - 1) {\n                ao.ao = short - long;\n            }\n            return ao;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * BIAS\n * ä¹–ç¦»çŽ‡=[(å½“æ—¥æ”¶ç›˜ä»·-Næ—¥å¹³å‡ä»·)/Næ—¥å¹³å‡ä»·]*100%\n */\nvar bias = {\n    name: 'BIAS',\n    shortName: 'BIAS',\n    calcParams: [6, 12, 24],\n    figures: [\n        { key: 'bias1', title: 'BIAS6: ', type: 'line' },\n        { key: 'bias2', title: 'BIAS12: ', type: 'line' },\n        { key: 'bias3', title: 'BIAS24: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) {\n        return params.map(function (p, i) {\n            return { key: \"bias\".concat(i + 1), title: \"BIAS\".concat(p, \": \"), type: 'line' };\n        });\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var closeSums = [];\n        return dataList.map(function (kLineData, i) {\n            var bias = {};\n            var close = kLineData.close;\n            params.forEach(function (p, index) {\n                var _a;\n                closeSums[index] = ((_a = closeSums[index]) !== null && _a !== void 0 ? _a : 0) + close;\n                if (i >= p - 1) {\n                    var mean = closeSums[index] / params[index];\n                    bias[figures[index].key] = (close - mean) / mean * 100;\n                    closeSums[index] -= dataList[i - (p - 1)].close;\n                }\n            });\n            return bias;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * è®¡ç®—å¸ƒæž—æŒ‡æ ‡ä¸­çš„æ ‡å‡†å·®\n * @param dataList\n * @param ma\n * @return {number}\n */\nfunction getBollMd(dataList, ma) {\n    var dataSize = dataList.length;\n    var sum = 0;\n    dataList.forEach(function (data) {\n        var closeMa = data.close - ma;\n        sum += closeMa * closeMa;\n    });\n    sum = Math.abs(sum);\n    return Math.sqrt(sum / dataSize);\n}\n/**\n * BOLL\n */\nvar bollingerBands = {\n    name: 'BOLL',\n    shortName: 'BOLL',\n    series: IndicatorSeries.Price,\n    calcParams: [20, 2],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        { key: 'up', title: 'UP: ', type: 'line' },\n        { key: 'mid', title: 'MID: ', type: 'line' },\n        { key: 'dn', title: 'DN: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var p = params[0] - 1;\n        var closeSum = 0;\n        return dataList.map(function (kLineData, i) {\n            var close = kLineData.close;\n            var boll = {};\n            closeSum += close;\n            if (i >= p) {\n                boll.mid = closeSum / params[0];\n                var md = getBollMd(dataList.slice(i - p, i + 1), boll.mid);\n                boll.up = boll.mid + params[1] * md;\n                boll.dn = boll.mid - params[1] * md;\n                closeSum -= dataList[i - p].close;\n            }\n            return boll;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * BRAR\n * é»˜è®¤å‚æ•°æ˜¯26ã€‚\n * å…¬å¼Næ—¥BR=Næ—¥å†…ï¼ˆHï¼CYï¼‰ä¹‹å’Œé™¤ä»¥Næ—¥å†…ï¼ˆCYï¼Lï¼‰ä¹‹å’Œ*100ï¼Œ\n * å…¶ä¸­ï¼ŒHä¸ºå½“æ—¥æœ€é«˜ä»·ï¼ŒLä¸ºå½“æ—¥æœ€ä½Žä»·ï¼ŒCYä¸ºå‰ä¸€äº¤æ˜“æ—¥çš„æ”¶ç›˜ä»·ï¼ŒNä¸ºè®¾å®šçš„æ—¶é—´å‚æ•°ã€‚\n * Næ—¥AR=(Næ—¥å†…ï¼ˆHï¼Oï¼‰ä¹‹å’Œé™¤ä»¥Næ—¥å†…ï¼ˆOï¼Lï¼‰ä¹‹å’Œ)*100ï¼Œ\n * å…¶ä¸­ï¼ŒHä¸ºå½“æ—¥æœ€é«˜ä»·ï¼ŒLä¸ºå½“æ—¥æœ€ä½Žä»·ï¼ŒOä¸ºå½“æ—¥å¼€ç›˜ä»·ï¼ŒNä¸ºè®¾å®šçš„æ—¶é—´å‚æ•°\n *\n */\nvar brar = {\n    name: 'BRAR',\n    shortName: 'BRAR',\n    calcParams: [26],\n    figures: [\n        { key: 'br', title: 'BR: ', type: 'line' },\n        { key: 'ar', title: 'AR: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var hcy = 0;\n        var cyl = 0;\n        var ho = 0;\n        var ol = 0;\n        return dataList.map(function (kLineData, i) {\n            var _a, _b;\n            var brar = {};\n            var high = kLineData.high;\n            var low = kLineData.low;\n            var open = kLineData.open;\n            var prevClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            ho += (high - open);\n            ol += (open - low);\n            hcy += (high - prevClose);\n            cyl += (prevClose - low);\n            if (i >= params[0] - 1) {\n                if (ol !== 0) {\n                    brar.ar = ho / ol * 100;\n                }\n                else {\n                    brar.ar = 0;\n                }\n                if (cyl !== 0) {\n                    brar.br = hcy / cyl * 100;\n                }\n                else {\n                    brar.br = 0;\n                }\n                var agoKLineData = dataList[i - (params[0] - 1)];\n                var agoHigh = agoKLineData.high;\n                var agoLow = agoKLineData.low;\n                var agoOpen = agoKLineData.open;\n                var agoPreClose = ((_b = dataList[i - params[0]]) !== null && _b !== void 0 ? _b : dataList[i - (params[0] - 1)]).close;\n                hcy -= (agoHigh - agoPreClose);\n                cyl -= (agoPreClose - agoLow);\n                ho -= (agoHigh - agoOpen);\n                ol -= (agoOpen - agoLow);\n            }\n            return brar;\n        });\n    }\n};\n\n/**\n * å¤šç©ºæŒ‡æ ‡\n * å…¬å¼: BBI = (MA(CLOSE, M) + MA(CLOSE, N) + MA(CLOSE, O) + MA(CLOSE, P)) / 4\n *\n */\nvar bullAndBearIndex = {\n    name: 'BBI',\n    shortName: 'BBI',\n    series: IndicatorSeries.Price,\n    precision: 2,\n    calcParams: [3, 6, 12, 24],\n    shouldOhlc: true,\n    figures: [\n        { key: 'bbi', title: 'BBI: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var maxPeriod = Math.max.apply(Math, __spreadArray([], __read(params), false));\n        var closeSums = [];\n        var mas = [];\n        return dataList.map(function (kLineData, i) {\n            var bbi = {};\n            var close = kLineData.close;\n            params.forEach(function (p, index) {\n                var _a;\n                closeSums[index] = ((_a = closeSums[index]) !== null && _a !== void 0 ? _a : 0) + close;\n                if (i >= p - 1) {\n                    mas[index] = closeSums[index] / p;\n                    closeSums[index] -= dataList[i - (p - 1)].close;\n                }\n            });\n            if (i >= maxPeriod - 1) {\n                var maSum_1 = 0;\n                mas.forEach(function (ma) {\n                    maSum_1 += ma;\n                });\n                bbi.bbi = maSum_1 / 4;\n            }\n            return bbi;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * CCI\n * CCIï¼ˆNæ—¥ï¼‰=ï¼ˆTPï¼MAï¼‰Ã·MDÃ·0.015\n * å…¶ä¸­ï¼ŒTP=ï¼ˆæœ€é«˜ä»·+æœ€ä½Žä»·+æ”¶ç›˜ä»·ï¼‰Ã·3\n * MA=è¿‘Næ—¥TPä»·çš„ç´¯è®¡ä¹‹å’ŒÃ·N\n * MD=è¿‘Næ—¥TP - å½“å‰MAç»å¯¹å€¼çš„ç´¯è®¡ä¹‹å’ŒÃ·N\n *\n */\nvar commodityChannelIndex = {\n    name: 'CCI',\n    shortName: 'CCI',\n    calcParams: [20],\n    figures: [\n        { key: 'cci', title: 'CCI: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var p = params[0] - 1;\n        var tpSum = 0;\n        var tpList = [];\n        return dataList.map(function (kLineData, i) {\n            var cci = {};\n            var tp = (kLineData.high + kLineData.low + kLineData.close) / 3;\n            tpSum += tp;\n            tpList.push(tp);\n            if (i >= p) {\n                var maTp_1 = tpSum / params[0];\n                var sliceTpList = tpList.slice(i - p, i + 1);\n                var sum_1 = 0;\n                sliceTpList.forEach(function (tp) {\n                    sum_1 += Math.abs(tp - maTp_1);\n                });\n                var md = sum_1 / params[0];\n                cci.cci = md !== 0 ? (tp - maTp_1) / md / 0.015 : 0;\n                var agoTp = (dataList[i - p].high + dataList[i - p].low + dataList[i - p].close) / 3;\n                tpSum -= agoTp;\n            }\n            return cci;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * MID:=REF(HIGH+LOW,1)/2;\n * CR:SUM(MAX(0,HIGH-MID),N)/SUM(MAX(0,MID-LOW),N)*100;\n * MA1:REF(MA(CR,M1),M1/2.5+1);\n * MA2:REF(MA(CR,M2),M2/2.5+1);\n * MA3:REF(MA(CR,M3),M3/2.5+1);\n * MA4:REF(MA(CR,M4),M4/2.5+1);\n * MIDèµ‹å€¼:(æ˜¨æ—¥æœ€é«˜ä»·+æ˜¨æ—¥æœ€ä½Žä»·)/2\n * è¾“å‡ºå¸¦çŠ¶èƒ½é‡çº¿:0å’Œæœ€é«˜ä»·-MIDçš„è¾ƒå¤§å€¼çš„Næ—¥ç´¯å’Œ/0å’ŒMID-æœ€ä½Žä»·çš„è¾ƒå¤§å€¼çš„Næ—¥ç´¯å’Œ*100\n * è¾“å‡ºMA1:M1(5)/2.5+1æ—¥å‰çš„CRçš„M1(5)æ—¥ç®€å•ç§»åŠ¨å¹³å‡\n * è¾“å‡ºMA2:M2(10)/2.5+1æ—¥å‰çš„CRçš„M2(10)æ—¥ç®€å•ç§»åŠ¨å¹³å‡\n * è¾“å‡ºMA3:M3(20)/2.5+1æ—¥å‰çš„CRçš„M3(20)æ—¥ç®€å•ç§»åŠ¨å¹³å‡\n * è¾“å‡ºMA4:M4/2.5+1æ—¥å‰çš„CRçš„M4æ—¥ç®€å•ç§»åŠ¨å¹³å‡\n *\n */\nvar currentRatio = {\n    name: 'CR',\n    shortName: 'CR',\n    calcParams: [26, 10, 20, 40, 60],\n    figures: [\n        { key: 'cr', title: 'CR: ', type: 'line' },\n        { key: 'ma1', title: 'MA1: ', type: 'line' },\n        { key: 'ma2', title: 'MA2: ', type: 'line' },\n        { key: 'ma3', title: 'MA3: ', type: 'line' },\n        { key: 'ma4', title: 'MA4: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var ma1ForwardPeriod = Math.ceil(params[1] / 2.5 + 1);\n        var ma2ForwardPeriod = Math.ceil(params[2] / 2.5 + 1);\n        var ma3ForwardPeriod = Math.ceil(params[3] / 2.5 + 1);\n        var ma4ForwardPeriod = Math.ceil(params[4] / 2.5 + 1);\n        var ma1Sum = 0;\n        var ma1List = [];\n        var ma2Sum = 0;\n        var ma2List = [];\n        var ma3Sum = 0;\n        var ma3List = [];\n        var ma4Sum = 0;\n        var ma4List = [];\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d, _e;\n            var cr = {};\n            var prevData = (_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData;\n            var prevMid = (prevData.high + prevData.close + prevData.low + prevData.open) / 4;\n            var highSubPreMid = Math.max(0, kLineData.high - prevMid);\n            var preMidSubLow = Math.max(0, prevMid - kLineData.low);\n            if (i >= params[0] - 1) {\n                if (preMidSubLow !== 0) {\n                    cr.cr = highSubPreMid / preMidSubLow * 100;\n                }\n                else {\n                    cr.cr = 0;\n                }\n                ma1Sum += cr.cr;\n                ma2Sum += cr.cr;\n                ma3Sum += cr.cr;\n                ma4Sum += cr.cr;\n                if (i >= params[0] + params[1] - 2) {\n                    ma1List.push(ma1Sum / params[1]);\n                    if (i >= params[0] + params[1] + ma1ForwardPeriod - 3) {\n                        cr.ma1 = ma1List[ma1List.length - 1 - ma1ForwardPeriod];\n                    }\n                    ma1Sum -= ((_b = result[i - (params[1] - 1)].cr) !== null && _b !== void 0 ? _b : 0);\n                }\n                if (i >= params[0] + params[2] - 2) {\n                    ma2List.push(ma2Sum / params[2]);\n                    if (i >= params[0] + params[2] + ma2ForwardPeriod - 3) {\n                        cr.ma2 = ma2List[ma2List.length - 1 - ma2ForwardPeriod];\n                    }\n                    ma2Sum -= ((_c = result[i - (params[2] - 1)].cr) !== null && _c !== void 0 ? _c : 0);\n                }\n                if (i >= params[0] + params[3] - 2) {\n                    ma3List.push(ma3Sum / params[3]);\n                    if (i >= params[0] + params[3] + ma3ForwardPeriod - 3) {\n                        cr.ma3 = ma3List[ma3List.length - 1 - ma3ForwardPeriod];\n                    }\n                    ma3Sum -= ((_d = result[i - (params[3] - 1)].cr) !== null && _d !== void 0 ? _d : 0);\n                }\n                if (i >= params[0] + params[4] - 2) {\n                    ma4List.push(ma4Sum / params[4]);\n                    if (i >= params[0] + params[4] + ma4ForwardPeriod - 3) {\n                        cr.ma4 = ma4List[ma4List.length - 1 - ma4ForwardPeriod];\n                    }\n                    ma4Sum -= ((_e = result[i - (params[4] - 1)].cr) !== null && _e !== void 0 ? _e : 0);\n                }\n            }\n            result.push(cr);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * DMA\n * å…¬å¼ï¼šDIF:MA(CLOSE,N1)-MA(CLOSE,N2);DIFMA:MA(DIF,M)\n */\nvar differentOfMovingAverage = {\n    name: 'DMA',\n    shortName: 'DMA',\n    calcParams: [10, 50, 10],\n    figures: [\n        { key: 'dma', title: 'DMA: ', type: 'line' },\n        { key: 'ama', title: 'AMA: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var maxPeriod = Math.max(params[0], params[1]);\n        var closeSum1 = 0;\n        var closeSum2 = 0;\n        var dmaSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a;\n            var dma = {};\n            var close = kLineData.close;\n            closeSum1 += close;\n            closeSum2 += close;\n            var ma1 = 0;\n            var ma2 = 0;\n            if (i >= params[0] - 1) {\n                ma1 = closeSum1 / params[0];\n                closeSum1 -= dataList[i - (params[0] - 1)].close;\n            }\n            if (i >= params[1] - 1) {\n                ma2 = closeSum2 / params[1];\n                closeSum2 -= dataList[i - (params[1] - 1)].close;\n            }\n            if (i >= maxPeriod - 1) {\n                var dif = ma1 - ma2;\n                dma.dma = dif;\n                dmaSum += dif;\n                if (i >= maxPeriod + params[2] - 2) {\n                    dma.ama = dmaSum / params[2];\n                    dmaSum -= ((_a = result[i - (params[2] - 1)].dma) !== null && _a !== void 0 ? _a : 0);\n                }\n            }\n            result.push(dma);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * DMI\n *\n * MTR:=EXPMEMA(MAX(MAX(HIGH-LOW,ABS(HIGH-REF(CLOSE,1))),ABS(REF(CLOSE,1)-LOW)),N)\n * HD :=HIGH-REF(HIGH,1);\n * LD :=REF(LOW,1)-LOW;\n * DMP:=EXPMEMA(IF(HD>0&&HD>LD,HD,0),N);\n * DMM:=EXPMEMA(IF(LD>0&&LD>HD,LD,0),N);\n *\n * PDI: DMP*100/MTR;\n * MDI: DMM*100/MTR;\n * ADX: EXPMEMA(ABS(MDI-PDI)/(MDI+PDI)*100,MM);\n * ADXR:EXPMEMA(ADX,MM);\n * å…¬å¼å«ä¹‰ï¼š\n * MTRèµ‹å€¼:æœ€é«˜ä»·-æœ€ä½Žä»·å’Œæœ€é«˜ä»·-æ˜¨æ”¶çš„ç»å¯¹å€¼çš„è¾ƒå¤§å€¼å’Œæ˜¨æ”¶-æœ€ä½Žä»·çš„ç»å¯¹å€¼çš„è¾ƒå¤§å€¼çš„Næ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡\n * HDèµ‹å€¼:æœ€é«˜ä»·-æ˜¨æ—¥æœ€é«˜ä»·\n * LDèµ‹å€¼:æ˜¨æ—¥æœ€ä½Žä»·-æœ€ä½Žä»·\n * DMPèµ‹å€¼:å¦‚æžœHD>0å¹¶ä¸”HD>LD,è¿”å›žHD,å¦åˆ™è¿”å›ž0çš„Næ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡\n * DMMèµ‹å€¼:å¦‚æžœLD>0å¹¶ä¸”LD>HD,è¿”å›žLD,å¦åˆ™è¿”å›ž0çš„Næ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡\n * è¾“å‡ºPDI:DMP*100/MTR\n * è¾“å‡ºMDI:DMM*100/MTR\n * è¾“å‡ºADX:MDI-PDIçš„ç»å¯¹å€¼/(MDI+PDI)*100çš„MMæ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡\n * è¾“å‡ºADXR:ADXçš„MMæ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡\n *\n */\nvar directionalMovementIndex = {\n    name: 'DMI',\n    shortName: 'DMI',\n    calcParams: [14, 6],\n    figures: [\n        { key: 'pdi', title: 'PDI: ', type: 'line' },\n        { key: 'mdi', title: 'MDI: ', type: 'line' },\n        { key: 'adx', title: 'ADX: ', type: 'line' },\n        { key: 'adxr', title: 'ADXR: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var trSum = 0;\n        var hSum = 0;\n        var lSum = 0;\n        var mtr = 0;\n        var dmp = 0;\n        var dmm = 0;\n        var dxSum = 0;\n        var adx = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b;\n            var dmi = {};\n            var prevKLineData = (_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData;\n            var preClose = prevKLineData.close;\n            var high = kLineData.high;\n            var low = kLineData.low;\n            var hl = high - low;\n            var hcy = Math.abs(high - preClose);\n            var lcy = Math.abs(preClose - low);\n            var hhy = high - prevKLineData.high;\n            var lyl = prevKLineData.low - low;\n            var tr = Math.max(Math.max(hl, hcy), lcy);\n            var h = (hhy > 0 && hhy > lyl) ? hhy : 0;\n            var l = (lyl > 0 && lyl > hhy) ? lyl : 0;\n            trSum += tr;\n            hSum += h;\n            lSum += l;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    mtr = mtr - mtr / params[0] + tr;\n                    dmp = dmp - dmp / params[0] + h;\n                    dmm = dmm - dmm / params[0] + l;\n                }\n                else {\n                    mtr = trSum;\n                    dmp = hSum;\n                    dmm = lSum;\n                }\n                var pdi = 0;\n                var mdi = 0;\n                if (mtr !== 0) {\n                    pdi = dmp * 100 / mtr;\n                    mdi = dmm * 100 / mtr;\n                }\n                dmi.pdi = pdi;\n                dmi.mdi = mdi;\n                var dx = 0;\n                if (mdi + pdi !== 0) {\n                    dx = Math.abs((mdi - pdi)) / (mdi + pdi) * 100;\n                }\n                dxSum += dx;\n                if (i >= params[0] * 2 - 2) {\n                    if (i > params[0] * 2 - 2) {\n                        adx = (adx * (params[0] - 1) + dx) / params[0];\n                    }\n                    else {\n                        adx = dxSum / params[0];\n                    }\n                    dmi.adx = adx;\n                    if (i >= params[0] * 2 + params[1] - 3) {\n                        dmi.adxr = (((_b = result[i - (params[1] - 1)].adx) !== null && _b !== void 0 ? _b : 0) + adx) / 2;\n                    }\n                }\n            }\n            result.push(dmi);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n *\n * EMV ç®€æ˜“æ³¢åŠ¨æŒ‡æ ‡\n * å…¬å¼ï¼š\n * A=ï¼ˆä»Šæ—¥æœ€é«˜+ä»Šæ—¥æœ€ä½Žï¼‰/2\n * B=ï¼ˆå‰æ—¥æœ€é«˜+å‰æ—¥æœ€ä½Žï¼‰/2\n * C=ä»Šæ—¥æœ€é«˜-ä»Šæ—¥æœ€ä½Ž\n * EM=ï¼ˆA-Bï¼‰*C/ä»Šæ—¥æˆäº¤é¢\n * EMV=Næ—¥å†…EMçš„ç´¯å’Œ\n * MAEMV=EMVçš„Mæ—¥çš„ç®€å•ç§»åŠ¨å¹³å‡\n *\n */\nvar easeOfMovementValue = {\n    name: 'EMV',\n    shortName: 'EMV',\n    calcParams: [14, 9],\n    figures: [\n        { key: 'emv', title: 'EMV: ', type: 'line' },\n        { key: 'maEmv', title: 'MAEMV: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var emvValueSum = 0;\n        var emvValueList = [];\n        return dataList.map(function (kLineData, i) {\n            var _a;\n            var emv = {};\n            if (i > 0) {\n                var prevKLineData = dataList[i - 1];\n                var high = kLineData.high;\n                var low = kLineData.low;\n                var volume = (_a = kLineData.volume) !== null && _a !== void 0 ? _a : 0;\n                var distanceMoved = (high + low) / 2 - (prevKLineData.high + prevKLineData.low) / 2;\n                if (volume === 0 || high - low === 0) {\n                    emv.emv = 0;\n                }\n                else {\n                    var ratio = volume / 100000000 / (high - low);\n                    emv.emv = distanceMoved / ratio;\n                }\n                emvValueSum += emv.emv;\n                emvValueList.push(emv.emv);\n                if (i >= params[0]) {\n                    emv.maEmv = emvValueSum / params[0];\n                    emvValueSum -= emvValueList[i - params[0]];\n                }\n            }\n            return emv;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * EMA æŒ‡æ•°ç§»åŠ¨å¹³å‡\n */\nvar exponentialMovingAverage = {\n    name: 'EMA',\n    shortName: 'EMA',\n    series: IndicatorSeries.Price,\n    calcParams: [6, 12, 20],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        { key: 'ema1', title: 'EMA6: ', type: 'line' },\n        { key: 'ema2', title: 'EMA12: ', type: 'line' },\n        { key: 'ema3', title: 'EMA20: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) {\n        return params.map(function (p, i) {\n            return { key: \"ema\".concat(i + 1), title: \"EMA\".concat(p, \": \"), type: 'line' };\n        });\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var closeSum = 0;\n        var emaValues = [];\n        return dataList.map(function (kLineData, i) {\n            var ema = {};\n            var close = kLineData.close;\n            closeSum += close;\n            params.forEach(function (p, index) {\n                if (i >= p - 1) {\n                    if (i > p - 1) {\n                        emaValues[index] = (2 * close + (p - 1) * emaValues[index]) / (p + 1);\n                    }\n                    else {\n                        emaValues[index] = closeSum / p;\n                    }\n                    ema[figures[index].key] = emaValues[index];\n                }\n            });\n            return ema;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * mtm\n * å…¬å¼ MTMï¼ˆNæ—¥ï¼‰=Cï¼CN\n */\nvar momentum = {\n    name: 'MTM',\n    shortName: 'MTM',\n    calcParams: [12, 6],\n    figures: [\n        { key: 'mtm', title: 'MTM: ', type: 'line' },\n        { key: 'maMtm', title: 'MAMTM: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var mtmSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a;\n            var mtm = {};\n            if (i >= params[0]) {\n                var close_1 = kLineData.close;\n                var agoClose = dataList[i - params[0]].close;\n                mtm.mtm = close_1 - agoClose;\n                mtmSum += mtm.mtm;\n                if (i >= params[0] + params[1] - 1) {\n                    mtm.maMtm = mtmSum / params[1];\n                    mtmSum -= ((_a = result[i - (params[1] - 1)].mtm) !== null && _a !== void 0 ? _a : 0);\n                }\n            }\n            result.push(mtm);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * MA ç§»åŠ¨å¹³å‡\n */\nvar movingAverage = {\n    name: 'MA',\n    shortName: 'MA',\n    series: IndicatorSeries.Price,\n    calcParams: [5, 10, 30, 60],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        { key: 'ma5', title: 'MA5: ', type: 'line' },\n        { key: 'ma10', title: 'MA10: ', type: 'line' },\n        { key: 'ma30', title: 'MA30: ', type: 'line' },\n        { key: 'ma60', title: 'MA60: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) {\n        return params.map(function (p, i) {\n            return { key: \"ma\".concat(i + 1), title: \"MA\".concat(p, \": \"), type: 'line' };\n        });\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var closeSums = [];\n        return dataList.map(function (kLineData, i) {\n            var ma = {};\n            var close = kLineData.close;\n            params.forEach(function (p, index) {\n                var _a;\n                closeSums[index] = ((_a = closeSums[index]) !== null && _a !== void 0 ? _a : 0) + close;\n                if (i >= p - 1) {\n                    ma[figures[index].key] = closeSums[index] / p;\n                    closeSums[index] -= dataList[i - (p - 1)].close;\n                }\n            });\n            return ma;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * MACDï¼šå‚æ•°å¿«çº¿ç§»åŠ¨å¹³å‡ã€æ…¢çº¿ç§»åŠ¨å¹³å‡ã€ç§»åŠ¨å¹³å‡ï¼Œ\n * é»˜è®¤å‚æ•°å€¼12ã€26ã€9ã€‚\n * å…¬å¼ï¼šâ’ˆé¦–å…ˆåˆ†åˆ«è®¡ç®—å‡ºæ”¶ç›˜ä»·12æ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡çº¿ä¸Ž26æ—¥æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡çº¿ï¼Œåˆ†åˆ«è®°ä¸ºEMA(12ï¼‰ä¸ŽEMA(26ï¼‰ã€‚\n * â’‰æ±‚è¿™ä¸¤æ¡æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡çº¿çš„å·®ï¼Œå³ï¼šDIFF = EMA(SHORT) ï¼ EMA(LONG)ã€‚\n * â’Šå†è®¡ç®—DIFFçš„Mæ—¥çš„å¹³å‡çš„æŒ‡æ•°å¹³æ»‘ç§»åŠ¨å¹³å‡çº¿ï¼Œè®°ä¸ºDEAã€‚\n * â’‹æœ€åŽç”¨DIFFå‡DEAï¼Œå¾—MACDã€‚MACDé€šå¸¸ç»˜åˆ¶æˆå›´ç»•é›¶è½´çº¿æ³¢åŠ¨çš„æŸ±å½¢å›¾ã€‚MACDæŸ±çŠ¶å¤§äºŽ0æ¶¨é¢œè‰²ï¼Œå°äºŽ0è·Œé¢œè‰²ã€‚\n */\nvar movingAverageConvergenceDivergence = {\n    name: 'MACD',\n    shortName: 'MACD',\n    calcParams: [12, 26, 9],\n    figures: [\n        { key: 'dif', title: 'DIF: ', type: 'line' },\n        { key: 'dea', title: 'DEA: ', type: 'line' },\n        {\n            key: 'macd',\n            title: 'MACD: ',\n            type: 'bar',\n            baseValue: 0,\n            styles: function (data, indicator, defaultStyles) {\n                var _a, _b, _c, _d;\n                var prev = data.prev, current = data.current;\n                var prevMacd = (_b = (_a = prev.indicatorData) === null || _a === void 0 ? void 0 : _a.macd) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER;\n                var currentMacd = (_d = (_c = current.indicatorData) === null || _c === void 0 ? void 0 : _c.macd) !== null && _d !== void 0 ? _d : Number.MIN_SAFE_INTEGER;\n                var color;\n                if (currentMacd > 0) {\n                    color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor);\n                }\n                else if (currentMacd < 0) {\n                    color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor);\n                }\n                else {\n                    color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor);\n                }\n                var style = prevMacd < currentMacd ? PolygonType.Stroke : PolygonType.Fill;\n                return { style: style, color: color, borderColor: color };\n            }\n        }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var closeSum = 0;\n        var emaShort;\n        var emaLong;\n        var dif = 0;\n        var difSum = 0;\n        var dea = 0;\n        var maxPeriod = Math.max(params[0], params[1]);\n        return dataList.map(function (kLineData, i) {\n            var macd = {};\n            var close = kLineData.close;\n            closeSum += close;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    emaShort = (2 * close + (params[0] - 1) * emaShort) / (params[0] + 1);\n                }\n                else {\n                    emaShort = closeSum / params[0];\n                }\n            }\n            if (i >= params[1] - 1) {\n                if (i > params[1] - 1) {\n                    emaLong = (2 * close + (params[1] - 1) * emaLong) / (params[1] + 1);\n                }\n                else {\n                    emaLong = closeSum / params[1];\n                }\n            }\n            if (i >= maxPeriod - 1) {\n                dif = emaShort - emaLong;\n                macd.dif = dif;\n                difSum += dif;\n                if (i >= maxPeriod + params[2] - 2) {\n                    if (i > maxPeriod + params[2] - 2) {\n                        dea = (dif * 2 + dea * (params[2] - 1)) / (params[2] + 1);\n                    }\n                    else {\n                        dea = difSum / params[2];\n                    }\n                    macd.macd = (dif - dea) * 2;\n                    macd.dea = dea;\n                }\n            }\n            return macd;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * OBV\n * OBV = REF(OBV) + sign * V\n */\nvar onBalanceVolume = {\n    name: 'OBV',\n    shortName: 'OBV',\n    calcParams: [30],\n    figures: [\n        { key: 'obv', title: 'OBV: ', type: 'line' },\n        { key: 'maObv', title: 'MAOBV: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var obvSum = 0;\n        var oldObv = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d;\n            var prevKLineData = (_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData;\n            if (kLineData.close < prevKLineData.close) {\n                oldObv -= ((_b = kLineData.volume) !== null && _b !== void 0 ? _b : 0);\n            }\n            else if (kLineData.close > prevKLineData.close) {\n                oldObv += ((_c = kLineData.volume) !== null && _c !== void 0 ? _c : 0);\n            }\n            var obv = { obv: oldObv };\n            obvSum += oldObv;\n            if (i >= params[0] - 1) {\n                obv.maObv = obvSum / params[0];\n                obvSum -= ((_d = result[i - (params[0] - 1)].obv) !== null && _d !== void 0 ? _d : 0);\n            }\n            result.push(obv);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * ä»·é‡è¶‹åŠ¿æŒ‡æ ‡\n * å…¬å¼:\n * X = (CLOSE - REF(CLOSE, 1)) / REF(CLOSE, 1) * VOLUME\n * PVT = SUM(X)\n *\n */\nvar priceAndVolumeTrend = {\n    name: 'PVT',\n    shortName: 'PVT',\n    figures: [\n        { key: 'pvt', title: 'PVT: ', type: 'line' }\n    ],\n    calc: function (dataList) {\n        var sum = 0;\n        return dataList.map(function (kLineData, i) {\n            var _a, _b;\n            var pvt = {};\n            var close = kLineData.close;\n            var volume = (_a = kLineData.volume) !== null && _a !== void 0 ? _a : 1;\n            var prevClose = ((_b = dataList[i - 1]) !== null && _b !== void 0 ? _b : kLineData).close;\n            var x = 0;\n            var total = prevClose * volume;\n            if (total !== 0) {\n                x = (close - prevClose) / total;\n            }\n            sum += x;\n            pvt.pvt = sum;\n            return pvt;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * PSY\n * å…¬å¼ï¼šPSY=Næ—¥å†…çš„ä¸Šæ¶¨å¤©æ•°/NÃ—100%ã€‚\n */\nvar psychologicalLine = {\n    name: 'PSY',\n    shortName: 'PSY',\n    calcParams: [12, 6],\n    figures: [\n        { key: 'psy', title: 'PSY: ', type: 'line' },\n        { key: 'maPsy', title: 'MAPSY: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var upCount = 0;\n        var psySum = 0;\n        var upList = [];\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b;\n            var psy = {};\n            var prevClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            var upFlag = kLineData.close - prevClose > 0 ? 1 : 0;\n            upList.push(upFlag);\n            upCount += upFlag;\n            if (i >= params[0] - 1) {\n                psy.psy = upCount / params[0] * 100;\n                psySum += psy.psy;\n                if (i >= params[0] + params[1] - 2) {\n                    psy.maPsy = psySum / params[1];\n                    psySum -= ((_b = result[i - (params[1] - 1)].psy) !== null && _b !== void 0 ? _b : 0);\n                }\n                upCount -= upList[i - (params[0] - 1)];\n            }\n            result.push(psy);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * å˜åŠ¨çŽ‡æŒ‡æ ‡\n * å…¬å¼ï¼šROC = (CLOSE - REF(CLOSE, N)) / REF(CLOSE, N)\n */\nvar rateOfChange = {\n    name: 'ROC',\n    shortName: 'ROC',\n    calcParams: [12, 6],\n    figures: [\n        { key: 'roc', title: 'ROC: ', type: 'line' },\n        { key: 'maRoc', title: 'MAROC: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var result = [];\n        var rocSum = 0;\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b;\n            var roc = {};\n            if (i >= params[0] - 1) {\n                var close_1 = kLineData.close;\n                var agoClose = ((_a = dataList[i - params[0]]) !== null && _a !== void 0 ? _a : dataList[i - (params[0] - 1)]).close;\n                if (agoClose !== 0) {\n                    roc.roc = (close_1 - agoClose) / agoClose * 100;\n                }\n                else {\n                    roc.roc = 0;\n                }\n                rocSum += roc.roc;\n                if (i >= params[0] - 1 + params[1] - 1) {\n                    roc.maRoc = rocSum / params[1];\n                    rocSum -= ((_b = result[i - (params[1] - 1)].roc) !== null && _b !== void 0 ? _b : 0);\n                }\n            }\n            result.push(roc);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * RSI\n * RSI = SUM(MAX(CLOSE - REF(CLOSE,1),0),N) / SUM(ABS(CLOSE - REF(CLOSE,1)),N) Ã— 100\n */\nvar relativeStrengthIndex = {\n    name: 'RSI',\n    shortName: 'RSI',\n    calcParams: [6, 12, 24],\n    figures: [\n        { key: 'rsi1', title: 'RSI1: ', type: 'line' },\n        { key: 'rsi2', title: 'RSI2: ', type: 'line' },\n        { key: 'rsi3', title: 'RSI3: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) {\n        return params.map(function (_, index) {\n            var num = index + 1;\n            return { key: \"rsi\".concat(num), title: \"RSI\".concat(num, \": \"), type: 'line' };\n        });\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var sumCloseAs = [];\n        var sumCloseBs = [];\n        return dataList.map(function (kLineData, i) {\n            var _a;\n            var rsi = {};\n            var prevClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            var tmp = kLineData.close - prevClose;\n            params.forEach(function (p, index) {\n                var _a, _b, _c;\n                if (tmp > 0) {\n                    sumCloseAs[index] = ((_a = sumCloseAs[index]) !== null && _a !== void 0 ? _a : 0) + tmp;\n                }\n                else {\n                    sumCloseBs[index] = ((_b = sumCloseBs[index]) !== null && _b !== void 0 ? _b : 0) + Math.abs(tmp);\n                }\n                if (i >= p - 1) {\n                    if (sumCloseBs[index] !== 0) {\n                        rsi[figures[index].key] = 100 - (100.0 / (1 + sumCloseAs[index] / sumCloseBs[index]));\n                    }\n                    else {\n                        rsi[figures[index].key] = 0;\n                    }\n                    var agoData = dataList[i - (p - 1)];\n                    var agoPreData = (_c = dataList[i - p]) !== null && _c !== void 0 ? _c : agoData;\n                    var agoTmp = agoData.close - agoPreData.close;\n                    if (agoTmp > 0) {\n                        sumCloseAs[index] -= agoTmp;\n                    }\n                    else {\n                        sumCloseBs[index] -= Math.abs(agoTmp);\n                    }\n                }\n            });\n            return rsi;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * sma\n */\nvar simpleMovingAverage = {\n    name: 'SMA',\n    shortName: 'SMA',\n    series: IndicatorSeries.Price,\n    calcParams: [12, 2],\n    precision: 2,\n    figures: [\n        { key: 'sma', title: 'SMA: ', type: 'line' }\n    ],\n    shouldOhlc: true,\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var closeSum = 0;\n        var smaValue = 0;\n        return dataList.map(function (kLineData, i) {\n            var sma = {};\n            var close = kLineData.close;\n            closeSum += close;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    smaValue = (close * params[1] + smaValue * (params[0] - params[1] + 1)) / (params[0] + 1);\n                }\n                else {\n                    smaValue = closeSum / params[0];\n                }\n                sma.sma = smaValue;\n            }\n            return sma;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * KDJ\n *\n * å½“æ—¥Kå€¼=2/3Ã—å‰ä¸€æ—¥Kå€¼+1/3Ã—å½“æ—¥RSV\n * å½“æ—¥Då€¼=2/3Ã—å‰ä¸€æ—¥Då€¼+1/3Ã—å½“æ—¥Kå€¼\n * è‹¥æ— å‰ä¸€æ—¥K å€¼ä¸ŽDå€¼ï¼Œåˆ™å¯åˆ†åˆ«ç”¨50æ¥ä»£æ›¿ã€‚\n * Jå€¼=3*å½“æ—¥Kå€¼-2*å½“æ—¥Då€¼\n */\nvar stoch = {\n    name: 'KDJ',\n    shortName: 'KDJ',\n    calcParams: [9, 3, 3],\n    figures: [\n        { key: 'k', title: 'K: ', type: 'line' },\n        { key: 'd', title: 'D: ', type: 'line' },\n        { key: 'j', title: 'J: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d;\n            var kdj = {};\n            var close = kLineData.close;\n            if (i >= params[0] - 1) {\n                var lhn = getMaxMin(dataList.slice(i - (params[0] - 1), i + 1), 'high', 'low');\n                var hn = lhn[0];\n                var ln = lhn[1];\n                var hnSubLn = hn - ln;\n                var rsv = (close - ln) / (hnSubLn === 0 ? 1 : hnSubLn) * 100;\n                kdj.k = ((params[1] - 1) * ((_b = (_a = result[i - 1]) === null || _a === void 0 ? void 0 : _a.k) !== null && _b !== void 0 ? _b : 50) + rsv) / params[1];\n                kdj.d = ((params[2] - 1) * ((_d = (_c = result[i - 1]) === null || _c === void 0 ? void 0 : _c.d) !== null && _d !== void 0 ? _d : 50) + kdj.k) / params[2];\n                kdj.j = 3.0 * kdj.k - 2.0 * kdj.d;\n            }\n            result.push(kdj);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar stopAndReverse = {\n    name: 'SAR',\n    shortName: 'SAR',\n    series: IndicatorSeries.Price,\n    calcParams: [2, 2, 20],\n    precision: 2,\n    shouldOhlc: true,\n    figures: [\n        {\n            key: 'sar',\n            title: 'SAR: ',\n            type: 'circle',\n            styles: function (data, indicator, defaultStyles) {\n                var _a, _b;\n                var current = data.current;\n                var sar = (_b = (_a = current.indicatorData) === null || _a === void 0 ? void 0 : _a.sar) !== null && _b !== void 0 ? _b : Number.MIN_SAFE_INTEGER;\n                var kLineData = current.kLineData;\n                var halfHL = ((kLineData === null || kLineData === void 0 ? void 0 : kLineData.high) + (kLineData === null || kLineData === void 0 ? void 0 : kLineData.low)) / 2;\n                var color = sar < halfHL\n                    ? formatValue(indicator.styles, 'circles[0].upColor', (defaultStyles.circles)[0].upColor)\n                    : formatValue(indicator.styles, 'circles[0].downColor', (defaultStyles.circles)[0].downColor);\n                return { color: color };\n            }\n        }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var startAf = params[0] / 100;\n        var step = params[1] / 100;\n        var maxAf = params[2] / 100;\n        // åŠ é€Ÿå› å­\n        var af = startAf;\n        // æžå€¼\n        var ep = -100;\n        // åˆ¤æ–­æ˜¯ä¸Šæ¶¨è¿˜æ˜¯ä¸‹è·Œ  falseï¼šä¸‹è·Œ\n        var isIncreasing = false;\n        var sar = 0;\n        return dataList.map(function (kLineData, i) {\n            // ä¸Šä¸€ä¸ªå‘¨æœŸçš„sar\n            var preSar = sar;\n            var high = kLineData.high;\n            var low = kLineData.low;\n            if (isIncreasing) {\n                // ä¸Šæ¶¨\n                if (ep === -100 || ep < high) {\n                    // é‡æ–°åˆå§‹åŒ–å€¼\n                    ep = high;\n                    af = Math.min(af + step, maxAf);\n                }\n                sar = preSar + af * (ep - preSar);\n                var lowMin = Math.min(dataList[Math.max(1, i) - 1].low, low);\n                if (sar > kLineData.low) {\n                    sar = ep;\n                    // é‡æ–°åˆå§‹åŒ–å€¼\n                    af = startAf;\n                    ep = -100;\n                    isIncreasing = !isIncreasing;\n                }\n                else if (sar > lowMin) {\n                    sar = lowMin;\n                }\n            }\n            else {\n                if (ep === -100 || ep > low) {\n                    // é‡æ–°åˆå§‹åŒ–å€¼\n                    ep = low;\n                    af = Math.min(af + step, maxAf);\n                }\n                sar = preSar + af * (ep - preSar);\n                var highMax = Math.max(dataList[Math.max(1, i) - 1].high, high);\n                if (sar < kLineData.high) {\n                    sar = ep;\n                    // é‡æ–°åˆå§‹åŒ–å€¼\n                    af = 0;\n                    ep = -100;\n                    isIncreasing = !isIncreasing;\n                }\n                else if (sar < highMax) {\n                    sar = highMax;\n                }\n            }\n            return { sar: sar };\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http:*www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * trix\n *\n * TR=æ”¶ç›˜ä»·çš„Næ—¥æŒ‡æ•°ç§»åŠ¨å¹³å‡çš„Næ—¥æŒ‡æ•°ç§»åŠ¨å¹³å‡çš„Næ—¥æŒ‡æ•°ç§»åŠ¨å¹³å‡ï¼›\n * TRIX=(TR-æ˜¨æ—¥TR)/æ˜¨æ—¥TR*100ï¼›\n * MATRIX=TRIXçš„Mæ—¥ç®€å•ç§»åŠ¨å¹³å‡ï¼›\n * é»˜è®¤å‚æ•°Nè®¾ä¸º12ï¼Œé»˜è®¤å‚æ•°Mè®¾ä¸º9ï¼›\n * é»˜è®¤å‚æ•°12ã€9\n * å…¬å¼ï¼šMTR:=EMA(EMA(EMA(CLOSE,N),N),N)\n * TRIX:(MTR-REF(MTR,1))/REF(MTR,1)*100;\n * TRMA:MA(TRIX,M)\n *\n */\nvar tripleExponentiallySmoothedAverage = {\n    name: 'TRIX',\n    shortName: 'TRIX',\n    calcParams: [12, 9],\n    figures: [\n        { key: 'trix', title: 'TRIX: ', type: 'line' },\n        { key: 'maTrix', title: 'MATRIX: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var closeSum = 0;\n        var ema1;\n        var ema2;\n        var oldTr;\n        var ema1Sum = 0;\n        var ema2Sum = 0;\n        var trixSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a;\n            var trix = {};\n            var close = kLineData.close;\n            closeSum += close;\n            if (i >= params[0] - 1) {\n                if (i > params[0] - 1) {\n                    ema1 = (2 * close + (params[0] - 1) * ema1) / (params[0] + 1);\n                }\n                else {\n                    ema1 = closeSum / params[0];\n                }\n                ema1Sum += ema1;\n                if (i >= params[0] * 2 - 2) {\n                    if (i > params[0] * 2 - 2) {\n                        ema2 = (2 * ema1 + (params[0] - 1) * ema2) / (params[0] + 1);\n                    }\n                    else {\n                        ema2 = ema1Sum / params[0];\n                    }\n                    ema2Sum += ema2;\n                    if (i >= params[0] * 3 - 3) {\n                        var tr = void 0;\n                        var trixValue = 0;\n                        if (i > params[0] * 3 - 3) {\n                            tr = (2 * ema2 + (params[0] - 1) * oldTr) / (params[0] + 1);\n                            trixValue = (tr - oldTr) / oldTr * 100;\n                        }\n                        else {\n                            tr = ema2Sum / params[0];\n                        }\n                        oldTr = tr;\n                        trix.trix = trixValue;\n                        trixSum += trixValue;\n                        if (i >= params[0] * 3 + params[1] - 4) {\n                            trix.maTrix = trixSum / params[1];\n                            trixSum -= ((_a = result[i - (params[1] - 1)].trix) !== null && _a !== void 0 ? _a : 0);\n                        }\n                    }\n                }\n            }\n            result.push(trix);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getVolumeFigure() {\n    return {\n        key: 'volume',\n        title: 'VOLUME: ',\n        type: 'bar',\n        baseValue: 0,\n        styles: function (data, indicator, defaultStyles) {\n            var kLineData = data.current.kLineData;\n            var color = formatValue(indicator.styles, 'bars[0].noChangeColor', (defaultStyles.bars)[0].noChangeColor);\n            if (isValid(kLineData)) {\n                if (kLineData.close > kLineData.open) {\n                    color = formatValue(indicator.styles, 'bars[0].upColor', (defaultStyles.bars)[0].upColor);\n                }\n                else if (kLineData.close < kLineData.open) {\n                    color = formatValue(indicator.styles, 'bars[0].downColor', (defaultStyles.bars)[0].downColor);\n                }\n            }\n            return { color: color };\n        }\n    };\n}\nvar volume = {\n    name: 'VOL',\n    shortName: 'VOL',\n    series: IndicatorSeries.Volume,\n    calcParams: [5, 10, 20],\n    shouldFormatBigNumber: true,\n    precision: 0,\n    minValue: 0,\n    figures: [\n        { key: 'ma1', title: 'MA5: ', type: 'line' },\n        { key: 'ma2', title: 'MA10: ', type: 'line' },\n        { key: 'ma3', title: 'MA20: ', type: 'line' },\n        getVolumeFigure()\n    ],\n    regenerateFigures: function (params) {\n        var figures = params.map(function (p, i) {\n            return { key: \"ma\".concat(i + 1), title: \"MA\".concat(p, \": \"), type: 'line' };\n        });\n        figures.push(getVolumeFigure());\n        return figures;\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        var volSums = [];\n        return dataList.map(function (kLineData, i) {\n            var _a;\n            var volume = (_a = kLineData.volume) !== null && _a !== void 0 ? _a : 0;\n            var vol = { volume: volume };\n            params.forEach(function (p, index) {\n                var _a, _b;\n                volSums[index] = ((_a = volSums[index]) !== null && _a !== void 0 ? _a : 0) + volume;\n                if (i >= p - 1) {\n                    vol[figures[index].key] = volSums[index] / p;\n                    volSums[index] -= ((_b = dataList[i - (p - 1)].volume) !== null && _b !== void 0 ? _b : 0);\n                }\n            });\n            return vol;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * VR\n * VR=ï¼ˆUVS+1/2PVSï¼‰/ï¼ˆDVS+1/2PVSï¼‰\n * 24å¤©ä»¥æ¥å‡¡æ˜¯è‚¡ä»·ä¸Šæ¶¨é‚£ä¸€å¤©çš„æˆäº¤é‡éƒ½ç§°ä¸ºAVï¼Œå°†24å¤©å†…çš„AVæ€»å’Œç›¸åŠ åŽç§°ä¸ºUVS\n * 24å¤©ä»¥æ¥å‡¡æ˜¯è‚¡ä»·ä¸‹è·Œé‚£ä¸€å¤©çš„æˆäº¤é‡éƒ½ç§°ä¸ºBVï¼Œå°†24å¤©å†…çš„BVæ€»å’Œç›¸åŠ åŽç§°ä¸ºDVS\n * 24å¤©ä»¥æ¥å‡¡æ˜¯è‚¡ä»·ä¸æ¶¨ä¸è·Œï¼Œåˆ™é‚£ä¸€å¤©çš„æˆäº¤é‡éƒ½ç§°ä¸ºCVï¼Œå°†24å¤©å†…çš„CVæ€»å’Œç›¸åŠ åŽç§°ä¸ºPVS\n *\n */\nvar volumeRatio = {\n    name: 'VR',\n    shortName: 'VR',\n    calcParams: [26, 6],\n    figures: [\n        { key: 'vr', title: 'VR: ', type: 'line' },\n        { key: 'maVr', title: 'MAVR: ', type: 'line' }\n    ],\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams;\n        var uvs = 0;\n        var dvs = 0;\n        var pvs = 0;\n        var vrSum = 0;\n        var result = [];\n        dataList.forEach(function (kLineData, i) {\n            var _a, _b, _c, _d, _e;\n            var vr = {};\n            var close = kLineData.close;\n            var preClose = ((_a = dataList[i - 1]) !== null && _a !== void 0 ? _a : kLineData).close;\n            var volume = (_b = kLineData.volume) !== null && _b !== void 0 ? _b : 0;\n            if (close > preClose) {\n                uvs += volume;\n            }\n            else if (close < preClose) {\n                dvs += volume;\n            }\n            else {\n                pvs += volume;\n            }\n            if (i >= params[0] - 1) {\n                var halfPvs = pvs / 2;\n                if (dvs + halfPvs === 0) {\n                    vr.vr = 0;\n                }\n                else {\n                    vr.vr = (uvs + halfPvs) / (dvs + halfPvs) * 100;\n                }\n                vrSum += vr.vr;\n                if (i >= params[0] + params[1] - 2) {\n                    vr.maVr = vrSum / params[1];\n                    vrSum -= ((_c = result[i - (params[1] - 1)].vr) !== null && _c !== void 0 ? _c : 0);\n                }\n                var agoData = dataList[i - (params[0] - 1)];\n                var agoPreData = (_d = dataList[i - params[0]]) !== null && _d !== void 0 ? _d : agoData;\n                var agoClose = agoData.close;\n                var agoVolume = (_e = agoData.volume) !== null && _e !== void 0 ? _e : 0;\n                if (agoClose > agoPreData.close) {\n                    uvs -= agoVolume;\n                }\n                else if (agoClose < agoPreData.close) {\n                    dvs -= agoVolume;\n                }\n                else {\n                    pvs -= agoVolume;\n                }\n            }\n            result.push(vr);\n        });\n        return result;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * WR\n * å…¬å¼ WR(N) = 100 * [ C - HIGH(N) ] / [ HIGH(N)-LOW(N) ]\n */\nvar williamsR = {\n    name: 'WR',\n    shortName: 'WR',\n    calcParams: [6, 10, 14],\n    figures: [\n        { key: 'wr1', title: 'WR1: ', type: 'line' },\n        { key: 'wr2', title: 'WR2: ', type: 'line' },\n        { key: 'wr3', title: 'WR3: ', type: 'line' }\n    ],\n    regenerateFigures: function (params) {\n        return params.map(function (_, i) {\n            return { key: \"wr\".concat(i + 1), title: \"WR\".concat(i + 1, \": \"), type: 'line' };\n        });\n    },\n    calc: function (dataList, indicator) {\n        var params = indicator.calcParams, figures = indicator.figures;\n        return dataList.map(function (kLineData, i) {\n            var wr = {};\n            var close = kLineData.close;\n            params.forEach(function (param, index) {\n                var p = param - 1;\n                if (i >= p) {\n                    var hln = getMaxMin(dataList.slice(i - p, i + 1), 'high', 'low');\n                    var hn = hln[0];\n                    var ln = hln[1];\n                    var hnSubLn = hn - ln;\n                    wr[figures[index].key] = hnSubLn === 0 ? 0 : (close - hn) / hnSubLn * 100;\n                }\n            });\n            return wr;\n        });\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar indicators = {};\nvar extensions$2 = [\n    averagePrice, awesomeOscillator, bias, bollingerBands, brar,\n    bullAndBearIndex, commodityChannelIndex, currentRatio, differentOfMovingAverage,\n    directionalMovementIndex, easeOfMovementValue, exponentialMovingAverage, momentum,\n    movingAverage, movingAverageConvergenceDivergence, onBalanceVolume, priceAndVolumeTrend,\n    psychologicalLine, rateOfChange, relativeStrengthIndex, simpleMovingAverage,\n    stoch, stopAndReverse, tripleExponentiallySmoothedAverage, volume, volumeRatio, williamsR\n];\nextensions$2.forEach(function (indicator) {\n    indicators[indicator.name] = IndicatorImp.extend(indicator);\n});\nfunction registerIndicator(indicator) {\n    indicators[indicator.name] = IndicatorImp.extend(indicator);\n}\nfunction getIndicatorClass(name) {\n    var _a;\n    return (_a = indicators[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getSupportedIndicators() {\n    return Object.keys(indicators);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorStore = /** @class */ (function () {\n    function IndicatorStore(chartStore) {\n        this._instances = new Map();\n        this._chartStore = chartStore;\n    }\n    IndicatorStore.prototype._overrideInstance = function (instance, indicator) {\n        var shortName = indicator.shortName, series = indicator.series, calcParams = indicator.calcParams, precision = indicator.precision, figures = indicator.figures, minValue = indicator.minValue, maxValue = indicator.maxValue, shouldOhlc = indicator.shouldOhlc, shouldFormatBigNumber = indicator.shouldFormatBigNumber, visible = indicator.visible, zLevel = indicator.zLevel, styles = indicator.styles, extendData = indicator.extendData, regenerateFigures = indicator.regenerateFigures, createTooltipDataSource = indicator.createTooltipDataSource, draw = indicator.draw, calc = indicator.calc;\n        var updateFlag = false;\n        if (isString(shortName) && instance.setShortName(shortName)) {\n            updateFlag = true;\n        }\n        if (isValid(series) && instance.setSeries(series)) {\n            updateFlag = true;\n        }\n        var calcFlag = false;\n        if (isArray(calcParams) && instance.setCalcParams(calcParams)) {\n            updateFlag = true;\n            calcFlag = true;\n        }\n        if (isArray(figures) && instance.setFigures(figures)) {\n            updateFlag = true;\n            calcFlag = true;\n        }\n        if (minValue !== undefined && instance.setMinValue(minValue)) {\n            updateFlag = true;\n        }\n        if (maxValue !== undefined && instance.setMinValue(maxValue)) {\n            updateFlag = true;\n        }\n        if (isNumber(precision) && instance.setPrecision(precision)) {\n            updateFlag = true;\n        }\n        if (isBoolean(shouldOhlc) && instance.setShouldOhlc(shouldOhlc)) {\n            updateFlag = true;\n        }\n        if (isBoolean(shouldFormatBigNumber) && instance.setShouldFormatBigNumber(shouldFormatBigNumber)) {\n            updateFlag = true;\n        }\n        if (isBoolean(visible) && instance.setVisible(visible)) {\n            updateFlag = true;\n        }\n        var sortFlag = false;\n        if (isNumber(zLevel) && instance.setZLevel(zLevel)) {\n            updateFlag = true;\n            sortFlag = true;\n        }\n        if (isValid(styles) && instance.setStyles(styles)) {\n            updateFlag = true;\n        }\n        if (extendData !== undefined && instance.setExtendData(extendData)) {\n            updateFlag = true;\n            calcFlag = true;\n        }\n        if (regenerateFigures !== undefined && instance.setRegenerateFigures(regenerateFigures)) {\n            updateFlag = true;\n        }\n        if (createTooltipDataSource !== undefined && instance.setCreateTooltipDataSource(createTooltipDataSource)) {\n            updateFlag = true;\n        }\n        if (draw !== undefined && instance.setDraw(draw)) {\n            updateFlag = true;\n        }\n        if (isFunction(calc)) {\n            instance.calc = calc;\n            calcFlag = true;\n        }\n        return [updateFlag, calcFlag, sortFlag];\n    };\n    IndicatorStore.prototype._sort = function (paneId) {\n        var _a;\n        if (isString(paneId)) {\n            (_a = this._instances.get(paneId)) === null || _a === void 0 ? void 0 : _a.sort(function (i1, i2) { return i1.zLevel - i2.zLevel; });\n        }\n        else {\n            this._instances.forEach(function (paneInstances) {\n                paneInstances.sort(function (i1, i2) { return i1.zLevel - i2.zLevel; });\n            });\n        }\n    };\n    IndicatorStore.prototype.addInstance = function (indicator, paneId, isStack) {\n        return __awaiter(this, void 0, void 0, function () {\n            var name, paneInstances, instance_1, IndicatorClazz, instance;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        name = indicator.name;\n                        paneInstances = this._instances.get(paneId);\n                        if (!isValid(paneInstances)) return [3 /*break*/, 2];\n                        instance_1 = paneInstances.find(function (ins) { return ins.name === name; });\n                        if (!isValid(instance_1)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, Promise.reject(new Error('Duplicate indicators.'))];\n                    case 1: return [2 /*return*/, _a.sent()];\n                    case 2:\n                        if (!isValid(paneInstances)) {\n                            paneInstances = [];\n                        }\n                        IndicatorClazz = getIndicatorClass(name);\n                        instance = new IndicatorClazz();\n                        this.synchronizeSeriesPrecision(instance);\n                        this._overrideInstance(instance, indicator);\n                        if (!isStack) {\n                            paneInstances = [];\n                        }\n                        paneInstances.push(instance);\n                        this._instances.set(paneId, paneInstances);\n                        this._sort(paneId);\n                        return [4 /*yield*/, instance.calcIndicator(this._chartStore.getDataList())];\n                    case 3: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    IndicatorStore.prototype.getInstances = function (paneId) {\n        var _a;\n        return (_a = this._instances.get(paneId)) !== null && _a !== void 0 ? _a : [];\n    };\n    IndicatorStore.prototype.removeInstance = function (paneId, name) {\n        var _a;\n        var removed = false;\n        var paneInstances = this._instances.get(paneId);\n        if (isValid(paneInstances)) {\n            if (isString(name)) {\n                var index = paneInstances.findIndex(function (ins) { return ins.name === name; });\n                if (index > -1) {\n                    paneInstances.splice(index, 1);\n                    removed = true;\n                }\n            }\n            else {\n                this._instances.set(paneId, []);\n                removed = true;\n            }\n            if (((_a = this._instances.get(paneId)) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n                this._instances.delete(paneId);\n            }\n        }\n        return removed;\n    };\n    IndicatorStore.prototype.hasInstances = function (paneId) {\n        return this._instances.has(paneId);\n    };\n    IndicatorStore.prototype.calcInstance = function (name, paneId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tasks, paneInstances, instance, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tasks = [];\n                        if (isString(name)) {\n                            if (isString(paneId)) {\n                                paneInstances = this._instances.get(paneId);\n                                if (isValid(paneInstances)) {\n                                    instance = paneInstances.find(function (ins) { return ins.name === name; });\n                                    if (isValid(instance)) {\n                                        tasks.push(instance.calcIndicator(this._chartStore.getDataList()));\n                                    }\n                                }\n                            }\n                            else {\n                                this._instances.forEach(function (paneInstances) {\n                                    var instance = paneInstances.find(function (ins) { return ins.name === name; });\n                                    if (isValid(instance)) {\n                                        tasks.push(instance.calcIndicator(_this._chartStore.getDataList()));\n                                    }\n                                });\n                            }\n                        }\n                        else {\n                            this._instances.forEach(function (paneInstances) {\n                                paneInstances.forEach(function (instance) {\n                                    tasks.push(instance.calcIndicator(_this._chartStore.getDataList()));\n                                });\n                            });\n                        }\n                        return [4 /*yield*/, Promise.all(tasks)];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, result.includes(true)];\n                }\n            });\n        });\n    };\n    IndicatorStore.prototype.getInstanceByPaneId = function (paneId, name) {\n        var _a, _b;\n        var createMapping = function (instances) {\n            var mapping = new Map();\n            instances.forEach(function (ins) {\n                mapping.set(ins.name, ins);\n            });\n            return mapping;\n        };\n        if (isString(paneId)) {\n            var paneInstances = (_a = this._instances.get(paneId)) !== null && _a !== void 0 ? _a : [];\n            if (isString(name)) {\n                return (_b = paneInstances === null || paneInstances === void 0 ? void 0 : paneInstances.find(function (ins) { return ins.name === name; })) !== null && _b !== void 0 ? _b : null;\n            }\n            return createMapping(paneInstances);\n        }\n        var mapping = new Map();\n        this._instances.forEach(function (instances, paneId) {\n            mapping.set(paneId, createMapping(instances));\n        });\n        return mapping;\n    };\n    IndicatorStore.prototype.synchronizeSeriesPrecision = function (indicator) {\n        var _a = this._chartStore.getPrecision(), pricePrecision = _a.price, volumePrecision = _a.volume;\n        var synchronize = function (instance) {\n            switch (instance.series) {\n                case IndicatorSeries.Price: {\n                    instance.setPrecision(pricePrecision, true);\n                    break;\n                }\n                case IndicatorSeries.Volume: {\n                    instance.setPrecision(volumePrecision, true);\n                    break;\n                }\n            }\n        };\n        if (isValid(indicator)) {\n            synchronize(indicator);\n        }\n        else {\n            this._instances.forEach(function (paneInstances) {\n                paneInstances.forEach(function (instance) {\n                    synchronize(instance);\n                });\n            });\n        }\n    };\n    IndicatorStore.prototype.override = function (indicator, paneId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var name, instances, paneInstances, onlyUpdateFlag, tasks, sortFlag, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        name = indicator.name;\n                        instances = new Map();\n                        if (paneId !== null) {\n                            paneInstances = this._instances.get(paneId);\n                            if (isValid(paneInstances)) {\n                                instances.set(paneId, paneInstances);\n                            }\n                        }\n                        else {\n                            instances = this._instances;\n                        }\n                        onlyUpdateFlag = false;\n                        tasks = [];\n                        sortFlag = false;\n                        instances.forEach(function (paneInstances) {\n                            var instance = paneInstances.find(function (ins) { return ins.name === name; });\n                            if (isValid(instance)) {\n                                var overrideResult = _this._overrideInstance(instance, indicator);\n                                if (overrideResult[2]) {\n                                    sortFlag = true;\n                                }\n                                if (overrideResult[1]) {\n                                    tasks.push(instance.calcIndicator(_this._chartStore.getDataList()));\n                                }\n                                else {\n                                    if (overrideResult[0]) {\n                                        onlyUpdateFlag = true;\n                                    }\n                                }\n                            }\n                        });\n                        if (sortFlag) {\n                            this._sort();\n                        }\n                        return [4 /*yield*/, Promise.all(tasks)];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, [onlyUpdateFlag, result.includes(true)]];\n                }\n            });\n        });\n    };\n    return IndicatorStore;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar TooltipStore = /** @class */ (function () {\n    function TooltipStore(chartStore) {\n        this._crosshair = {};\n        this._activeIcon = null;\n        this._chartStore = chartStore;\n    }\n    /**\n      * è®¾ç½®åå­—å…‰æ ‡ç‚¹ä¿¡æ¯\n      * @param crosshair\n      * @param options\n      */\n    TooltipStore.prototype.setCrosshair = function (crosshair, options) {\n        var _a = options !== null && options !== void 0 ? options : {}, notInvalidate = _a.notInvalidate, notExecuteAction = _a.notExecuteAction;\n        var dataList = this._chartStore.getDataList();\n        var cr = crosshair !== null && crosshair !== void 0 ? crosshair : {};\n        var realDataIndex;\n        var dataIndex;\n        if (isNumber(cr.x)) {\n            realDataIndex = this._chartStore.getTimeScaleStore().coordinateToDataIndex(cr.x);\n            if (realDataIndex < 0) {\n                dataIndex = 0;\n            }\n            else if (realDataIndex > dataList.length - 1) {\n                dataIndex = dataList.length - 1;\n            }\n            else {\n                dataIndex = realDataIndex;\n            }\n        }\n        else {\n            realDataIndex = dataList.length - 1;\n            dataIndex = realDataIndex;\n        }\n        var kLineData = dataList[dataIndex];\n        var realX = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(realDataIndex);\n        var prevCrosshair = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId };\n        this._crosshair = __assign(__assign({}, cr), { realX: realX, kLineData: kLineData, realDataIndex: realDataIndex, dataIndex: dataIndex });\n        if (prevCrosshair.x !== cr.x || prevCrosshair.y !== cr.y || prevCrosshair.paneId !== cr.paneId) {\n            if (kLineData !== null && !(notExecuteAction !== null && notExecuteAction !== void 0 ? notExecuteAction : false)) {\n                this._chartStore.getChart().crosshairChange(this._crosshair);\n            }\n            if (!(notInvalidate !== null && notInvalidate !== void 0 ? notInvalidate : false)) {\n                this._chartStore.getChart().updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n    };\n    /**\n     * é‡æ–°è®¡ç®—åå­—å…‰æ ‡\n     * @param notInvalidate\n     */\n    TooltipStore.prototype.recalculateCrosshair = function (notInvalidate) {\n        this.setCrosshair(this._crosshair, { notInvalidate: notInvalidate });\n    };\n    /**\n     * èŽ·å–crosshairä¿¡æ¯\n     * @returns\n     */\n    TooltipStore.prototype.getCrosshair = function () {\n        return this._crosshair;\n    };\n    TooltipStore.prototype.setActiveIcon = function (icon) {\n        this._activeIcon = icon !== null && icon !== void 0 ? icon : null;\n    };\n    TooltipStore.prototype.getActiveIcon = function () {\n        return this._activeIcon;\n    };\n    TooltipStore.prototype.clear = function () {\n        this.setCrosshair({}, { notInvalidate: true });\n        this.setActiveIcon();\n    };\n    return TooltipStore;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar fibonacciLine = {\n    name: 'fibonacciLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var _b;\n        var coordinates = _a.coordinates, bounding = _a.bounding, overlay = _a.overlay, precision = _a.precision, thousandsSeparator = _a.thousandsSeparator, decimalFoldThreshold = _a.decimalFoldThreshold, yAxis = _a.yAxis;\n        var points = overlay.points;\n        if (coordinates.length > 0) {\n            var currentPrecision_1 = ((_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isInCandle()) !== null && _b !== void 0 ? _b : true) ? precision.price : precision.excludePriceVolumeMax;\n            var lines_1 = [];\n            var texts_1 = [];\n            var startX_1 = 0;\n            var endX_1 = bounding.width;\n            if (coordinates.length > 1 && isNumber(points[0].value) && isNumber(points[1].value)) {\n                var percents = [1, 0.786, 0.618, 0.5, 0.382, 0.236, 0];\n                var yDif_1 = coordinates[0].y - coordinates[1].y;\n                var valueDif_1 = points[0].value - points[1].value;\n                percents.forEach(function (percent) {\n                    var _a;\n                    var y = coordinates[1].y + yDif_1 * percent;\n                    var value = formatFoldDecimal(formatThousands((((_a = points[1].value) !== null && _a !== void 0 ? _a : 0) + valueDif_1 * percent).toFixed(currentPrecision_1), thousandsSeparator), decimalFoldThreshold);\n                    lines_1.push({ coordinates: [{ x: startX_1, y: y }, { x: endX_1, y: y }] });\n                    texts_1.push({\n                        x: startX_1,\n                        y: y,\n                        text: \"\".concat(value, \" (\").concat((percent * 100).toFixed(1), \"%)\"),\n                        baseline: 'bottom'\n                    });\n                });\n            }\n            return [\n                {\n                    type: 'line',\n                    attrs: lines_1\n                }, {\n                    type: 'text',\n                    isCheckEvent: false,\n                    attrs: texts_1\n                }\n            ];\n        }\n        return [];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar horizontalRayLine = {\n    name: 'horizontalRayLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        var coordinate = { x: 0, y: coordinates[0].y };\n        if (isValid(coordinates[1]) && coordinates[0].x < coordinates[1].x) {\n            coordinate.x = bounding.width;\n        }\n        return [\n            {\n                type: 'line',\n                attrs: { coordinates: [coordinates[0], coordinate] }\n            }\n        ];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].value = performPoint.value;\n        points[1].value = performPoint.value;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].value = performPoint.value;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar horizontalSegment = {\n    name: 'horizontalSegment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates;\n        var lines = [];\n        if (coordinates.length === 2) {\n            lines.push({ coordinates: coordinates });\n        }\n        return [\n            {\n                type: 'line',\n                attrs: lines\n            }\n        ];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].value = performPoint.value;\n        points[1].value = performPoint.value;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].value = performPoint.value;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar horizontalStraightLine = {\n    name: 'horizontalStraightLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [{\n                type: 'line',\n                attrs: {\n                    coordinates: [\n                        {\n                            x: 0,\n                            y: coordinates[0].y\n                        }, {\n                            x: bounding.width,\n                            y: coordinates[0].y\n                        }\n                    ]\n                }\n            }];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Eventful = /** @class */ (function () {\n    function Eventful() {\n        this._children = [];\n        this._callbacks = new Map();\n    }\n    Eventful.prototype.registerEvent = function (name, callback) {\n        this._callbacks.set(name, callback);\n        return this;\n    };\n    Eventful.prototype.onEvent = function (name, event, other) {\n        var callback = this._callbacks.get(name);\n        if (isValid(callback) && this.checkEventOn(event)) {\n            return callback(event, other);\n        }\n        return false;\n    };\n    Eventful.prototype.checkEventOn = function (event) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this._children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var eventful = _c.value;\n                if (eventful.checkEventOn(event)) {\n                    return true;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return false;\n    };\n    Eventful.prototype.dispatchEvent = function (name, event, other) {\n        var start = this._children.length - 1;\n        if (start > -1) {\n            for (var i = start; i > -1; i--) {\n                if (this._children[i].dispatchEvent(name, event, other)) {\n                    return true;\n                }\n            }\n        }\n        return this.onEvent(name, event, other);\n    };\n    Eventful.prototype.addChild = function (eventful) {\n        this._children.push(eventful);\n        return this;\n    };\n    Eventful.prototype.clear = function () {\n        this._children = [];\n    };\n    return Eventful;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEVIATION = 2;\nvar FigureImp = /** @class */ (function (_super) {\n    __extends(FigureImp, _super);\n    function FigureImp(figure) {\n        var _this = _super.call(this) || this;\n        _this.attrs = figure.attrs;\n        _this.styles = figure.styles;\n        return _this;\n    }\n    FigureImp.prototype.checkEventOn = function (event) {\n        return this.checkEventOnImp(event, this.attrs, this.styles);\n    };\n    FigureImp.prototype.setAttrs = function (attrs) {\n        this.attrs = attrs;\n        return this;\n    };\n    FigureImp.prototype.setStyles = function (styles) {\n        this.styles = styles;\n        return this;\n    };\n    FigureImp.prototype.draw = function (ctx) {\n        this.drawImp(ctx, this.attrs, this.styles);\n    };\n    FigureImp.extend = function (figure) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            Custom.prototype.checkEventOnImp = function (coordinate, attrs, styles) {\n                return figure.checkEventOn(coordinate, attrs, styles);\n            };\n            Custom.prototype.drawImp = function (ctx, attrs, styles) {\n                figure.draw(ctx, attrs, styles);\n            };\n            return Custom;\n        }(FigureImp));\n        return Custom;\n    };\n    return FigureImp;\n}(Eventful));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnLine(coordinate, attrs) {\n    var lines = [];\n    lines = lines.concat(attrs);\n    for (var i = 0; i < lines.length; i++) {\n        var coordinates = lines[i].coordinates;\n        if (coordinates.length > 1) {\n            for (var i_1 = 1; i_1 < coordinates.length; i_1++) {\n                var prevCoordinate = coordinates[i_1 - 1];\n                var currentCoordinate = coordinates[i_1];\n                if (prevCoordinate.x === currentCoordinate.x) {\n                    if (Math.abs(prevCoordinate.y - coordinate.y) + Math.abs(currentCoordinate.y - coordinate.y) - Math.abs(prevCoordinate.y - currentCoordinate.y) < DEVIATION + DEVIATION &&\n                        Math.abs(coordinate.x - prevCoordinate.x) < DEVIATION) {\n                        return true;\n                    }\n                }\n                else {\n                    var kb = getLinearSlopeIntercept(prevCoordinate, currentCoordinate);\n                    var y = getLinearYFromSlopeIntercept(kb, coordinate);\n                    var yDif = Math.abs(y - coordinate.y);\n                    if (Math.abs(prevCoordinate.x - coordinate.x) + Math.abs(currentCoordinate.x - coordinate.x) - Math.abs(prevCoordinate.x - currentCoordinate.x) < DEVIATION + DEVIATION &&\n                        yDif * yDif / (kb[0] * kb[0] + 1) < DEVIATION * DEVIATION) {\n                        return true;\n                    }\n                }\n            }\n        }\n    }\n    return false;\n}\nfunction getLinearYFromSlopeIntercept(kb, coordinate) {\n    if (kb !== null) {\n        return coordinate.x * kb[0] + kb[1];\n    }\n    return coordinate.y;\n}\n/**\n * èŽ·å–ç‚¹åœ¨ä¸¤ç‚¹å†³å®šçš„ä¸€æ¬¡å‡½æ•°ä¸Šçš„yå€¼\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nfunction getLinearYFromCoordinates(coordinate1, coordinate2, targetCoordinate) {\n    var kb = getLinearSlopeIntercept(coordinate1, coordinate2);\n    return getLinearYFromSlopeIntercept(kb, targetCoordinate);\n}\nfunction getLinearSlopeIntercept(coordinate1, coordinate2) {\n    var difX = coordinate1.x - coordinate2.x;\n    if (difX !== 0) {\n        var k = (coordinate1.y - coordinate2.y) / difX;\n        var b = coordinate1.y - k * coordinate1.x;\n        return [k, b];\n    }\n    return null;\n}\nfunction lineTo(ctx, coordinates, smooth) {\n    var length = coordinates.length;\n    var smoothParam = isNumber(smooth) ? (smooth > 0 && smooth < 1 ? smooth : 0) : (smooth ? 0.5 : 0);\n    if ((smoothParam > 0) && length > 2) {\n        var cpx0 = coordinates[0].x;\n        var cpy0 = coordinates[0].y;\n        for (var i = 1; i < length - 1; i++) {\n            var prevCoordinate = coordinates[i - 1];\n            var coordinate = coordinates[i];\n            var nextCoordinate = coordinates[i + 1];\n            var dx01 = coordinate.x - prevCoordinate.x;\n            var dy01 = coordinate.y - prevCoordinate.y;\n            var dx12 = nextCoordinate.x - coordinate.x;\n            var dy12 = nextCoordinate.y - coordinate.y;\n            var dx02 = nextCoordinate.x - prevCoordinate.x;\n            var dy02 = nextCoordinate.y - prevCoordinate.y;\n            var prevSegmentLength = Math.sqrt(dx01 * dx01 + dy01 * dy01);\n            var nextSegmentLength = Math.sqrt(dx12 * dx12 + dy12 * dy12);\n            var segmentLengthRatio = nextSegmentLength / (nextSegmentLength + prevSegmentLength);\n            var nextCpx = coordinate.x + dx02 * smoothParam * segmentLengthRatio;\n            var nextCpy = coordinate.y + dy02 * smoothParam * segmentLengthRatio;\n            nextCpx = Math.min(nextCpx, Math.max(nextCoordinate.x, coordinate.x));\n            nextCpy = Math.min(nextCpy, Math.max(nextCoordinate.y, coordinate.y));\n            nextCpx = Math.max(nextCpx, Math.min(nextCoordinate.x, coordinate.x));\n            nextCpy = Math.max(nextCpy, Math.min(nextCoordinate.y, coordinate.y));\n            dx02 = nextCpx - coordinate.x;\n            dy02 = nextCpy - coordinate.y;\n            var cpx1 = coordinate.x - dx02 * prevSegmentLength / nextSegmentLength;\n            var cpy1 = coordinate.y - dy02 * prevSegmentLength / nextSegmentLength;\n            cpx1 = Math.min(cpx1, Math.max(prevCoordinate.x, coordinate.x));\n            cpy1 = Math.min(cpy1, Math.max(prevCoordinate.y, coordinate.y));\n            cpx1 = Math.max(cpx1, Math.min(prevCoordinate.x, coordinate.x));\n            cpy1 = Math.max(cpy1, Math.min(prevCoordinate.y, coordinate.y));\n            dx02 = coordinate.x - cpx1;\n            dy02 = coordinate.y - cpy1;\n            nextCpx = coordinate.x + dx02 * nextSegmentLength / prevSegmentLength;\n            nextCpy = coordinate.y + dy02 * nextSegmentLength / prevSegmentLength;\n            ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, coordinate.x, coordinate.y);\n            cpx0 = nextCpx;\n            cpy0 = nextCpy;\n        }\n        var lastCoordinate = coordinates[length - 1];\n        ctx.bezierCurveTo(cpx0, cpy0, lastCoordinate.x, lastCoordinate.y, lastCoordinate.x, lastCoordinate.y);\n    }\n    else {\n        for (var i = 1; i < length; i++) {\n            ctx.lineTo(coordinates[i].x, coordinates[i].y);\n        }\n    }\n}\nfunction drawLine(ctx, attrs, styles) {\n    var lines = [];\n    lines = lines.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? LineType.Solid : _a, _b = styles.smooth, smooth = _b === void 0 ? false : _b, _c = styles.size, size = _c === void 0 ? 1 : _c, _d = styles.color, color = _d === void 0 ? 'currentColor' : _d, _e = styles.dashedValue, dashedValue = _e === void 0 ? [2, 2] : _e;\n    ctx.lineWidth = size;\n    ctx.strokeStyle = color;\n    if (style === LineType.Dashed) {\n        ctx.setLineDash(dashedValue);\n    }\n    else {\n        ctx.setLineDash([]);\n    }\n    var correction = size % 2 === 1 ? 0.5 : 0;\n    lines.forEach(function (_a) {\n        var coordinates = _a.coordinates;\n        if (coordinates.length > 1) {\n            if (coordinates.length === 2 &&\n                (coordinates[0].x === coordinates[1].x ||\n                    coordinates[0].y === coordinates[1].y)) {\n                ctx.beginPath();\n                if (coordinates[0].x === coordinates[1].x) {\n                    ctx.moveTo(coordinates[0].x + correction, coordinates[0].y);\n                    ctx.lineTo(coordinates[1].x + correction, coordinates[1].y);\n                }\n                else {\n                    ctx.moveTo(coordinates[0].x, coordinates[0].y + correction);\n                    ctx.lineTo(coordinates[1].x, coordinates[1].y + correction);\n                }\n                ctx.stroke();\n                ctx.closePath();\n            }\n            else {\n                ctx.save();\n                if (size % 2 === 1) {\n                    ctx.translate(0.5, 0.5);\n                }\n                ctx.beginPath();\n                ctx.moveTo(coordinates[0].x, coordinates[0].y);\n                lineTo(ctx, coordinates, smooth);\n                ctx.stroke();\n                ctx.closePath();\n                ctx.restore();\n            }\n        }\n    });\n}\nvar line = {\n    name: 'line',\n    checkEventOn: checkCoordinateOnLine,\n    draw: function (ctx, attrs, styles) {\n        drawLine(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * èŽ·å–å¹³è¡Œçº¿\n * @param coordinates\n * @param bounding\n * @param extendParallelLineCount\n * @returns {Array}\n */\nfunction getParallelLines(coordinates, bounding, extendParallelLineCount) {\n    var count = extendParallelLineCount !== null && extendParallelLineCount !== void 0 ? extendParallelLineCount : 0;\n    var lines = [];\n    if (coordinates.length > 1) {\n        if (coordinates[0].x === coordinates[1].x) {\n            var startY = 0;\n            var endY = bounding.height;\n            lines.push({ coordinates: [{ x: coordinates[0].x, y: startY }, { x: coordinates[0].x, y: endY }] });\n            if (coordinates.length > 2) {\n                lines.push({ coordinates: [{ x: coordinates[2].x, y: startY }, { x: coordinates[2].x, y: endY }] });\n                var distance = coordinates[0].x - coordinates[2].x;\n                for (var i = 0; i < count; i++) {\n                    var d = distance * (i + 1);\n                    lines.push({ coordinates: [{ x: coordinates[0].x + d, y: startY }, { x: coordinates[0].x + d, y: endY }] });\n                }\n            }\n        }\n        else {\n            var startX = 0;\n            var endX = bounding.width;\n            var kb = getLinearSlopeIntercept(coordinates[0], coordinates[1]);\n            var k = kb[0];\n            var b = kb[1];\n            lines.push({ coordinates: [{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }] });\n            if (coordinates.length > 2) {\n                var b1 = coordinates[2].y - k * coordinates[2].x;\n                lines.push({ coordinates: [{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }] });\n                var distance = b - b1;\n                for (var i = 0; i < count; i++) {\n                    var b2 = b + distance * (i + 1);\n                    lines.push({ coordinates: [{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }] });\n                }\n            }\n        }\n    }\n    return lines;\n}\nvar parallelStraightLine = {\n    name: 'parallelStraightLine',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: getParallelLines(coordinates, bounding)\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar priceChannelLine = {\n    name: 'priceChannelLine',\n    totalStep: 4,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: getParallelLines(coordinates, bounding, 1)\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar priceLine = {\n    name: 'priceLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var _b;\n        var coordinates = _a.coordinates, bounding = _a.bounding, precision = _a.precision, overlay = _a.overlay, thousandsSeparator = _a.thousandsSeparator, decimalFoldThreshold = _a.decimalFoldThreshold, yAxis = _a.yAxis;\n        var _c = (overlay.points)[0].value, value = _c === void 0 ? 0 : _c;\n        var currentPrecision = ((_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isInCandle()) !== null && _b !== void 0 ? _b : true) ? precision.price : precision.excludePriceVolumeMax;\n        return [\n            {\n                type: 'line',\n                attrs: { coordinates: [coordinates[0], { x: bounding.width, y: coordinates[0].y }] }\n            },\n            {\n                type: 'text',\n                ignoreEvent: true,\n                attrs: {\n                    x: coordinates[0].x,\n                    y: coordinates[0].y,\n                    text: formatFoldDecimal(formatThousands(value.toFixed(currentPrecision), thousandsSeparator), decimalFoldThreshold),\n                    baseline: 'bottom'\n                }\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getRayLine(coordinates, bounding) {\n    if (coordinates.length > 1) {\n        var coordinate = void 0;\n        if (coordinates[0].x === coordinates[1].x && coordinates[0].y !== coordinates[1].y) {\n            if (coordinates[0].y < coordinates[1].y) {\n                coordinate = {\n                    x: coordinates[0].x,\n                    y: bounding.height\n                };\n            }\n            else {\n                coordinate = {\n                    x: coordinates[0].x,\n                    y: 0\n                };\n            }\n        }\n        else if (coordinates[0].x > coordinates[1].x) {\n            coordinate = {\n                x: 0,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n            };\n        }\n        else {\n            coordinate = {\n                x: bounding.width,\n                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n            };\n        }\n        return { coordinates: [coordinates[0], coordinate] };\n    }\n    return [];\n}\nvar rayLine = {\n    name: 'rayLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: getRayLine(coordinates, bounding)\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar segment = {\n    name: 'segment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates;\n        if (coordinates.length === 2) {\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates: coordinates }\n                }\n            ];\n        }\n        return [];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar straightLine = {\n    name: 'straightLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        if (coordinates.length === 2) {\n            if (coordinates[0].x === coordinates[1].x) {\n                return [\n                    {\n                        type: 'line',\n                        attrs: {\n                            coordinates: [\n                                {\n                                    x: coordinates[0].x,\n                                    y: 0\n                                }, {\n                                    x: coordinates[0].x,\n                                    y: bounding.height\n                                }\n                            ]\n                        }\n                    }\n                ];\n            }\n            return [\n                {\n                    type: 'line',\n                    attrs: {\n                        coordinates: [\n                            {\n                                x: 0,\n                                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: 0, y: coordinates[0].y })\n                            }, {\n                                x: bounding.width,\n                                y: getLinearYFromCoordinates(coordinates[0], coordinates[1], { x: bounding.width, y: coordinates[0].y })\n                            }\n                        ]\n                    }\n                }\n            ];\n        }\n        return [];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar verticalRayLine = {\n    name: 'verticalRayLine',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        if (coordinates.length === 2) {\n            var coordinate = { x: coordinates[0].x, y: 0 };\n            if (coordinates[0].y < coordinates[1].y) {\n                coordinate.y = bounding.height;\n            }\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates: [coordinates[0], coordinate] }\n                }\n            ];\n        }\n        return [];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].timestamp = performPoint.timestamp;\n        points[0].dataIndex = performPoint.dataIndex;\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].timestamp = performPoint.timestamp;\n            points[0].dataIndex = performPoint.dataIndex;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar verticalSegment = {\n    name: 'verticalSegment',\n    totalStep: 3,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates;\n        if (coordinates.length === 2) {\n            return [\n                {\n                    type: 'line',\n                    attrs: { coordinates: coordinates }\n                }\n            ];\n        }\n        return [];\n    },\n    performEventPressedMove: function (_a) {\n        var points = _a.points, performPoint = _a.performPoint;\n        points[0].timestamp = performPoint.timestamp;\n        points[0].dataIndex = performPoint.dataIndex;\n        points[1].timestamp = performPoint.timestamp;\n        points[1].dataIndex = performPoint.dataIndex;\n    },\n    performEventMoveForDrawing: function (_a) {\n        var currentStep = _a.currentStep, points = _a.points, performPoint = _a.performPoint;\n        if (currentStep === 2) {\n            points[0].timestamp = performPoint.timestamp;\n            points[0].dataIndex = performPoint.dataIndex;\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar verticalStraightLine = {\n    name: 'verticalStraightLine',\n    totalStep: 2,\n    needDefaultPointFigure: true,\n    needDefaultXAxisFigure: true,\n    needDefaultYAxisFigure: true,\n    createPointFigures: function (_a) {\n        var coordinates = _a.coordinates, bounding = _a.bounding;\n        return [\n            {\n                type: 'line',\n                attrs: {\n                    coordinates: [\n                        {\n                            x: coordinates[0].x,\n                            y: 0\n                        }, {\n                            x: coordinates[0].x,\n                            y: bounding.height\n                        }\n                    ]\n                }\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar simpleAnnotation = {\n    name: 'simpleAnnotation',\n    totalStep: 2,\n    styles: {\n        line: { style: LineType.Dashed }\n    },\n    createPointFigures: function (_a) {\n        var _b;\n        var overlay = _a.overlay, coordinates = _a.coordinates;\n        var text;\n        if (isValid(overlay.extendData)) {\n            if (!isFunction(overlay.extendData)) {\n                text = (_b = overlay.extendData) !== null && _b !== void 0 ? _b : '';\n            }\n            else {\n                text = overlay.extendData(overlay);\n            }\n        }\n        var startX = coordinates[0].x;\n        var startY = coordinates[0].y - 6;\n        var lineEndY = startY - 50;\n        var arrowEndY = lineEndY - 5;\n        return [\n            {\n                type: 'line',\n                attrs: { coordinates: [{ x: startX, y: startY }, { x: startX, y: lineEndY }] },\n                ignoreEvent: true\n            },\n            {\n                type: 'polygon',\n                attrs: { coordinates: [{ x: startX, y: lineEndY }, { x: startX - 4, y: arrowEndY }, { x: startX + 4, y: arrowEndY }] },\n                ignoreEvent: true\n            },\n            {\n                type: 'text',\n                attrs: { x: startX, y: arrowEndY, text: text !== null && text !== void 0 ? text : '', align: 'center', baseline: 'bottom' },\n                ignoreEvent: true\n            }\n        ];\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar simpleTag = {\n    name: 'simpleTag',\n    totalStep: 2,\n    styles: {\n        line: { style: LineType.Dashed }\n    },\n    createPointFigures: function (_a) {\n        var bounding = _a.bounding, coordinates = _a.coordinates;\n        return {\n            type: 'line',\n            attrs: {\n                coordinates: [\n                    { x: 0, y: coordinates[0].y },\n                    { x: bounding.width, y: coordinates[0].y }\n                ]\n            },\n            ignoreEvent: true\n        };\n    },\n    createYAxisFigures: function (_a) {\n        var _b, _c;\n        var overlay = _a.overlay, coordinates = _a.coordinates, bounding = _a.bounding, yAxis = _a.yAxis, precision = _a.precision;\n        var isFromZero = (_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isFromZero()) !== null && _b !== void 0 ? _b : false;\n        var textAlign;\n        var x;\n        if (isFromZero) {\n            textAlign = 'left';\n            x = 0;\n        }\n        else {\n            textAlign = 'right';\n            x = bounding.width;\n        }\n        var text;\n        if (isValid(overlay.extendData)) {\n            if (!isFunction(overlay.extendData)) {\n                text = (_c = overlay.extendData) !== null && _c !== void 0 ? _c : '';\n            }\n            else {\n                text = overlay.extendData(overlay);\n            }\n        }\n        if (!isValid(text) && isNumber(overlay.points[0].value)) {\n            text = formatPrecision(overlay.points[0].value, precision.price);\n        }\n        return { type: 'text', attrs: { x: x, y: coordinates[0].y, text: text !== null && text !== void 0 ? text : '', align: textAlign, baseline: 'middle' } };\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar overlays = {};\nvar extensions$1 = [\n    fibonacciLine, horizontalRayLine, horizontalSegment, horizontalStraightLine,\n    parallelStraightLine, priceChannelLine, priceLine, rayLine, segment,\n    straightLine, verticalRayLine, verticalSegment, verticalStraightLine,\n    simpleAnnotation, simpleTag\n];\nextensions$1.forEach(function (template) {\n    overlays[template.name] = OverlayImp.extend(template);\n});\nfunction registerOverlay(template) {\n    overlays[template.name] = OverlayImp.extend(template);\n}\nfunction getOverlayInnerClass(name) {\n    var _a;\n    return (_a = overlays[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getOverlayClass(name) {\n    var _a;\n    return (_a = overlays[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getSupportedOverlays() {\n    return Object.keys(overlays);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar PANE_MIN_HEIGHT = 30;\nvar PANE_DEFAULT_HEIGHT = 100;\nvar PaneIdConstants = {\n    CANDLE: 'candle_pane',\n    INDICATOR: 'indicator_pane_',\n    X_AXIS: 'x_axis_pane'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayStore = /** @class */ (function () {\n    function OverlayStore(chartStore) {\n        this._instances = new Map();\n        /**\n         * Overlay information in painting\n         */\n        this._progressInstanceInfo = null;\n        /**\n         * Overlay information by the mouse pressed\n         */\n        this._pressedInstanceInfo = {\n            paneId: '',\n            instance: null,\n            figureType: 0 /* EventOverlayInfoFigureType.None */,\n            figureKey: '',\n            figureIndex: -1,\n            attrsIndex: -1\n        };\n        /**\n         * Overlay information by hover\n         */\n        this._hoverInstanceInfo = {\n            paneId: '',\n            instance: null,\n            figureType: 0 /* EventOverlayInfoFigureType.None */,\n            figureKey: '',\n            figureIndex: -1,\n            attrsIndex: -1\n        };\n        /**\n         * Overlay information by the mouse click\n         */\n        this._clickInstanceInfo = {\n            paneId: '',\n            instance: null,\n            figureType: 0 /* EventOverlayInfoFigureType.None */,\n            figureKey: '',\n            figureIndex: -1,\n            attrsIndex: -1\n        };\n        this._chartStore = chartStore;\n    }\n    OverlayStore.prototype._overrideInstance = function (instance, overlay) {\n        var id = overlay.id, groupId = overlay.groupId, points = overlay.points, styles = overlay.styles, lock = overlay.lock, visible = overlay.visible, zLevel = overlay.zLevel, mode = overlay.mode, modeSensitivity = overlay.modeSensitivity, extendData = overlay.extendData, onDrawStart = overlay.onDrawStart, onDrawing = overlay.onDrawing, onDrawEnd = overlay.onDrawEnd, onClick = overlay.onClick, onDoubleClick = overlay.onDoubleClick, onRightClick = overlay.onRightClick, onPressedMoveStart = overlay.onPressedMoveStart, onPressedMoving = overlay.onPressedMoving, onPressedMoveEnd = overlay.onPressedMoveEnd, onMouseEnter = overlay.onMouseEnter, onMouseLeave = overlay.onMouseLeave, onRemoved = overlay.onRemoved, onSelected = overlay.onSelected, onDeselected = overlay.onDeselected;\n        var updateFlag = false;\n        var sortFlag = false;\n        if (isString(id)) {\n            instance.setId(id);\n        }\n        if (isString(groupId)) {\n            instance.setGroupId(groupId);\n        }\n        if (isArray(points) && instance.setPoints(points)) {\n            updateFlag = true;\n        }\n        if (isValid(styles) && instance.setStyles(styles)) {\n            updateFlag = true;\n        }\n        if (isBoolean(lock)) {\n            instance.setLock(lock);\n        }\n        if (isBoolean(visible) && instance.setVisible(visible)) {\n            updateFlag = true;\n        }\n        if (isNumber(zLevel) && instance.setZLevel(zLevel)) {\n            updateFlag = true;\n            sortFlag = true;\n        }\n        if (isValid(mode)) {\n            instance.setMode(mode);\n        }\n        if (isNumber(modeSensitivity)) {\n            instance.setModeSensitivity(modeSensitivity);\n        }\n        if (extendData !== undefined && instance.setExtendData(extendData)) {\n            updateFlag = true;\n        }\n        if (onDrawStart !== undefined) {\n            instance.setOnDrawStartCallback(onDrawStart);\n        }\n        if (onDrawing !== undefined) {\n            instance.setOnDrawingCallback(onDrawing);\n        }\n        if (onDrawEnd !== undefined) {\n            instance.setOnDrawEndCallback(onDrawEnd);\n        }\n        if (onClick !== undefined) {\n            instance.setOnClickCallback(onClick);\n        }\n        if (onDoubleClick !== undefined) {\n            instance.setOnDoubleClickCallback(onDoubleClick);\n        }\n        if (onRightClick !== undefined) {\n            instance.setOnRightClickCallback(onRightClick);\n        }\n        if (onPressedMoveStart !== undefined) {\n            instance.setOnPressedMoveStartCallback(onPressedMoveStart);\n        }\n        if (onPressedMoving !== undefined) {\n            instance.setOnPressedMovingCallback(onPressedMoving);\n        }\n        if (onPressedMoveEnd !== undefined) {\n            instance.setOnPressedMoveEndCallback(onPressedMoveEnd);\n        }\n        if (onMouseEnter !== undefined) {\n            instance.setOnMouseEnterCallback(onMouseEnter);\n        }\n        if (onMouseLeave !== undefined) {\n            instance.setOnMouseLeaveCallback(onMouseLeave);\n        }\n        if (onRemoved !== undefined) {\n            instance.setOnRemovedCallback(onRemoved);\n        }\n        if (onSelected !== undefined) {\n            instance.setOnSelectedCallback(onSelected);\n        }\n        if (onDeselected !== undefined) {\n            instance.setOnDeselectedCallback(onDeselected);\n        }\n        return [updateFlag, sortFlag];\n    };\n    OverlayStore.prototype.getInstanceById = function (id) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this._instances), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var entry = _c.value;\n                var paneShapes = entry[1];\n                var overlay = paneShapes.find(function (s) { return s.id === id; });\n                if (isValid(overlay)) {\n                    return overlay;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (this._progressInstanceInfo !== null) {\n            if (this._progressInstanceInfo.instance.id === id) {\n                return this._progressInstanceInfo.instance;\n            }\n        }\n        return null;\n    };\n    OverlayStore.prototype._sort = function (paneId) {\n        var _a;\n        if (isString(paneId)) {\n            (_a = this._instances.get(paneId)) === null || _a === void 0 ? void 0 : _a.sort(function (o1, o2) { return o1.zLevel - o2.zLevel; });\n        }\n        else {\n            this._instances.forEach(function (paneInstances) {\n                paneInstances.sort(function (o1, o2) { return o1.zLevel - o2.zLevel; });\n            });\n        }\n    };\n    OverlayStore.prototype.addInstances = function (overlays, paneId, appointPaneFlag) {\n        var _this = this;\n        var ids = overlays.map(function (overlay) {\n            var _a, _b, _c, _d;\n            var id = (_a = overlay.id) !== null && _a !== void 0 ? _a : createId(OVERLAY_ID_PREFIX);\n            if (_this.getInstanceById(id) === null) {\n                var OverlayClazz = getOverlayInnerClass(overlay.name);\n                if (OverlayClazz !== null) {\n                    var instance = new OverlayClazz();\n                    instance.setPaneId(paneId);\n                    var groupId = (_b = overlay.groupId) !== null && _b !== void 0 ? _b : id;\n                    overlay.id = id;\n                    overlay.groupId = groupId;\n                    _this._overrideInstance(instance, overlay);\n                    if (instance.isDrawing()) {\n                        _this._progressInstanceInfo = { paneId: paneId, instance: instance, appointPaneFlag: appointPaneFlag };\n                    }\n                    else {\n                        if (!_this._instances.has(paneId)) {\n                            _this._instances.set(paneId, []);\n                        }\n                        (_c = _this._instances.get(paneId)) === null || _c === void 0 ? void 0 : _c.push(instance);\n                    }\n                    if (instance.isStart()) {\n                        (_d = instance.onDrawStart) === null || _d === void 0 ? void 0 : _d.call(instance, ({ overlay: instance }));\n                    }\n                    return id;\n                }\n            }\n            return null;\n        });\n        if (ids.some(function (id) { return id !== null; })) {\n            this._sort();\n            var chart = this._chartStore.getChart();\n            chart.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n            chart.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n        }\n        return ids;\n    };\n    OverlayStore.prototype.getProgressInstanceInfo = function () {\n        return this._progressInstanceInfo;\n    };\n    OverlayStore.prototype.progressInstanceComplete = function () {\n        var _a;\n        if (this._progressInstanceInfo !== null) {\n            var _b = this._progressInstanceInfo, instance = _b.instance, paneId = _b.paneId;\n            if (!instance.isDrawing()) {\n                if (!this._instances.has(paneId)) {\n                    this._instances.set(paneId, []);\n                }\n                (_a = this._instances.get(paneId)) === null || _a === void 0 ? void 0 : _a.push(instance);\n                this._sort(paneId);\n                this._progressInstanceInfo = null;\n            }\n        }\n    };\n    OverlayStore.prototype.updateProgressInstanceInfo = function (paneId, appointPaneFlag) {\n        if (this._progressInstanceInfo !== null) {\n            if (isBoolean(appointPaneFlag) && appointPaneFlag) {\n                this._progressInstanceInfo.appointPaneFlag = appointPaneFlag;\n            }\n            this._progressInstanceInfo.paneId = paneId;\n            this._progressInstanceInfo.instance.setPaneId(paneId);\n        }\n    };\n    OverlayStore.prototype.getInstances = function (paneId) {\n        var _a;\n        if (!isString(paneId)) {\n            var instances_1 = [];\n            this._instances.forEach(function (paneInstances) {\n                instances_1 = instances_1.concat(paneInstances);\n            });\n            return instances_1;\n        }\n        return (_a = this._instances.get(paneId)) !== null && _a !== void 0 ? _a : [];\n    };\n    OverlayStore.prototype.override = function (overlay) {\n        var _this = this;\n        var id = overlay.id, groupId = overlay.groupId, name = overlay.name;\n        var updateFlag = false;\n        var sortFlag = false;\n        var setFlag = function (instance) {\n            var flags = _this._overrideInstance(instance, overlay);\n            if (flags[0]) {\n                updateFlag = true;\n            }\n            if (flags[1]) {\n                sortFlag = true;\n            }\n        };\n        if (isString(id)) {\n            var instance = this.getInstanceById(id);\n            if (instance !== null) {\n                setFlag(instance);\n            }\n        }\n        else {\n            var nameValid_1 = isString(name);\n            var groupIdValid_1 = isString(groupId);\n            this._instances.forEach(function (paneInstances) {\n                paneInstances.forEach(function (instance) {\n                    if ((nameValid_1 && instance.name === name) ||\n                        (groupIdValid_1 && instance.groupId === groupId) ||\n                        (!nameValid_1 && !groupIdValid_1)) {\n                        setFlag(instance);\n                    }\n                });\n            });\n            if (this._progressInstanceInfo !== null) {\n                var progressInstance = this._progressInstanceInfo.instance;\n                if ((nameValid_1 && progressInstance.name === name) ||\n                    (groupIdValid_1 && progressInstance.groupId === groupId) ||\n                    (!nameValid_1 && !groupIdValid_1)) {\n                    setFlag(progressInstance);\n                }\n            }\n        }\n        if (sortFlag) {\n            this._sort();\n        }\n        if (updateFlag) {\n            this._chartStore.getChart().updatePane(1 /* UpdateLevel.Overlay */);\n        }\n    };\n    OverlayStore.prototype.removeInstance = function (overlayRemove) {\n        var e_2, _a;\n        var _b;\n        var match = function (remove, overlay) {\n            if (isString(remove.id)) {\n                if (overlay.id !== remove.id) {\n                    return false;\n                }\n            }\n            else {\n                if (isString(remove.groupId)) {\n                    if (overlay.groupId !== remove.groupId) {\n                        return false;\n                    }\n                }\n                else {\n                    if (isString(remove.name)) {\n                        if (overlay.name !== remove.name) {\n                            return false;\n                        }\n                    }\n                }\n            }\n            return true;\n        };\n        var updatePaneIds = [];\n        var overlayRemoveValid = isValid(overlayRemove);\n        if (this._progressInstanceInfo !== null) {\n            var instance = this._progressInstanceInfo.instance;\n            if (!overlayRemoveValid ||\n                (overlayRemoveValid && match(overlayRemove, instance))) {\n                updatePaneIds.push(this._progressInstanceInfo.paneId);\n                (_b = instance.onRemoved) === null || _b === void 0 ? void 0 : _b.call(instance, { overlay: instance });\n                this._progressInstanceInfo = null;\n            }\n        }\n        if (overlayRemoveValid) {\n            var instances = new Map();\n            var _loop_1 = function (entry) {\n                var paneInstances = entry[1];\n                var newPaneInstances = paneInstances.filter(function (instance) {\n                    var _a;\n                    if (match(overlayRemove, instance)) {\n                        if (!updatePaneIds.includes(entry[0])) {\n                            updatePaneIds.push(entry[0]);\n                        }\n                        (_a = instance.onRemoved) === null || _a === void 0 ? void 0 : _a.call(instance, { overlay: instance });\n                        return false;\n                    }\n                    return true;\n                });\n                if (newPaneInstances.length > 0) {\n                    instances.set(entry[0], newPaneInstances);\n                }\n            };\n            try {\n                for (var _c = __values(this._instances), _d = _c.next(); !_d.done; _d = _c.next()) {\n                    var entry = _d.value;\n                    _loop_1(entry);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            this._instances = instances;\n        }\n        else {\n            this._instances.forEach(function (paneInstances, paneId) {\n                updatePaneIds.push(paneId);\n                paneInstances.forEach(function (instance) {\n                    var _a;\n                    (_a = instance.onRemoved) === null || _a === void 0 ? void 0 : _a.call(instance, { overlay: instance });\n                });\n            });\n            this._instances.clear();\n        }\n        if (updatePaneIds.length > 0) {\n            var chart_1 = this._chartStore.getChart();\n            updatePaneIds.forEach(function (paneId) {\n                chart_1.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n            });\n            chart_1.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n        }\n    };\n    OverlayStore.prototype.setPressedInstanceInfo = function (info) {\n        this._pressedInstanceInfo = info;\n    };\n    OverlayStore.prototype.getPressedInstanceInfo = function () {\n        return this._pressedInstanceInfo;\n    };\n    OverlayStore.prototype.updatePointPosition = function (dataChangeLength, type) {\n        if (dataChangeLength > 0) {\n            var dataList_1 = this._chartStore.getDataList();\n            this._instances.forEach(function (overlays) {\n                overlays.forEach(function (o) {\n                    var points = o.points;\n                    points.forEach(function (point) {\n                        if (!isValid(point.timestamp) && isValid(point.dataIndex)) {\n                            if (type === LoadDataType.Forward) {\n                                point.dataIndex = point.dataIndex + dataChangeLength;\n                            }\n                            var data = dataList_1[point.dataIndex];\n                            point.timestamp = data === null || data === void 0 ? void 0 : data.timestamp;\n                        }\n                    });\n                });\n            });\n        }\n    };\n    OverlayStore.prototype.setHoverInstanceInfo = function (info, event) {\n        var _a, _b;\n        var _c = this._hoverInstanceInfo, instance = _c.instance, figureType = _c.figureType, figureKey = _c.figureKey, figureIndex = _c.figureIndex;\n        if ((instance === null || instance === void 0 ? void 0 : instance.id) !== ((_a = info.instance) === null || _a === void 0 ? void 0 : _a.id) ||\n            figureType !== info.figureType ||\n            figureIndex !== info.figureIndex) {\n            this._hoverInstanceInfo = info;\n            if ((instance === null || instance === void 0 ? void 0 : instance.id) !== ((_b = info.instance) === null || _b === void 0 ? void 0 : _b.id)) {\n                var ignoreUpdateFlag = false;\n                var sortFlag = false;\n                if (instance !== null) {\n                    sortFlag = true;\n                    if (isFunction(instance.onMouseLeave)) {\n                        instance.onMouseLeave(__assign({ overlay: instance, figureKey: figureKey, figureIndex: figureIndex }, event));\n                        ignoreUpdateFlag = true;\n                    }\n                }\n                if (info.instance !== null) {\n                    sortFlag = true;\n                    if (isFunction(info.instance.onMouseEnter)) {\n                        info.instance.onMouseEnter(__assign({ overlay: info.instance, figureKey: info.figureKey, figureIndex: info.figureIndex }, event));\n                        ignoreUpdateFlag = true;\n                    }\n                }\n                if (sortFlag) {\n                    this._sort();\n                }\n                if (!ignoreUpdateFlag) {\n                    this._chartStore.getChart().updatePane(1 /* UpdateLevel.Overlay */);\n                }\n            }\n        }\n    };\n    OverlayStore.prototype.getHoverInstanceInfo = function () {\n        return this._hoverInstanceInfo;\n    };\n    OverlayStore.prototype.setClickInstanceInfo = function (info, event) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        var _k = this._clickInstanceInfo, paneId = _k.paneId, instance = _k.instance, figureType = _k.figureType, figureKey = _k.figureKey, figureIndex = _k.figureIndex;\n        if (!((_b = (_a = info.instance) === null || _a === void 0 ? void 0 : _a.isDrawing()) !== null && _b !== void 0 ? _b : false)) {\n            (_d = (_c = info.instance) === null || _c === void 0 ? void 0 : _c.onClick) === null || _d === void 0 ? void 0 : _d.call(_c, __assign({ overlay: info.instance, figureKey: info.figureKey, figureIndex: info.figureIndex }, event));\n        }\n        if ((instance === null || instance === void 0 ? void 0 : instance.id) !== ((_e = info.instance) === null || _e === void 0 ? void 0 : _e.id) || figureType !== info.figureType || figureIndex !== info.figureIndex) {\n            this._clickInstanceInfo = info;\n            if ((instance === null || instance === void 0 ? void 0 : instance.id) !== ((_f = info.instance) === null || _f === void 0 ? void 0 : _f.id)) {\n                (_g = instance === null || instance === void 0 ? void 0 : instance.onDeselected) === null || _g === void 0 ? void 0 : _g.call(instance, __assign({ overlay: instance, figureKey: figureKey, figureIndex: figureIndex }, event));\n                (_j = (_h = info.instance) === null || _h === void 0 ? void 0 : _h.onSelected) === null || _j === void 0 ? void 0 : _j.call(_h, __assign({ overlay: info.instance, figureKey: info.figureKey, figureIndex: info.figureIndex }, event));\n                var chart = this._chartStore.getChart();\n                chart.updatePane(1 /* UpdateLevel.Overlay */, info.paneId);\n                if (paneId !== info.paneId) {\n                    chart.updatePane(1 /* UpdateLevel.Overlay */, paneId);\n                }\n                chart.updatePane(1 /* UpdateLevel.Overlay */, PaneIdConstants.X_AXIS);\n            }\n        }\n    };\n    OverlayStore.prototype.getClickInstanceInfo = function () {\n        return this._clickInstanceInfo;\n    };\n    OverlayStore.prototype.isEmpty = function () {\n        return this._instances.size === 0 && this._progressInstanceInfo === null;\n    };\n    OverlayStore.prototype.isDrawing = function () {\n        var _a, _b;\n        return this._progressInstanceInfo !== null && ((_b = (_a = this._progressInstanceInfo) === null || _a === void 0 ? void 0 : _a.instance.isDrawing()) !== null && _b !== void 0 ? _b : false);\n    };\n    return OverlayStore;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ActionStore = /** @class */ (function () {\n    function ActionStore() {\n        /**\n         * Chart action map\n         */\n        this._actions = new Map();\n    }\n    ActionStore.prototype.execute = function (type, data) {\n        var _a;\n        (_a = this._actions.get(type)) === null || _a === void 0 ? void 0 : _a.execute(data);\n    };\n    ActionStore.prototype.subscribe = function (type, callback) {\n        var _a;\n        if (!this._actions.has(type)) {\n            this._actions.set(type, new Delegate());\n        }\n        (_a = this._actions.get(type)) === null || _a === void 0 ? void 0 : _a.subscribe(callback);\n    };\n    /**\n     * å–æ¶ˆäº‹ä»¶è®¢é˜…\n     * @param type\n     * @param callback\n     * @return {boolean}\n     */\n    ActionStore.prototype.unsubscribe = function (type, callback) {\n        var action = this._actions.get(type);\n        if (isValid(action)) {\n            action.unsubscribe(callback);\n            if (action.isEmpty()) {\n                this._actions.delete(type);\n            }\n        }\n    };\n    ActionStore.prototype.has = function (type) {\n        var action = this._actions.get(type);\n        return isValid(action) && !action.isEmpty();\n    };\n    return ActionStore;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar light = {\n    grid: {\n        horizontal: {\n            color: '#EDEDED'\n        },\n        vertical: {\n            color: '#EDEDED'\n        }\n    },\n    candle: {\n        priceMark: {\n            high: {\n                color: '#76808F'\n            },\n            low: {\n                color: '#76808F'\n            }\n        },\n        tooltip: {\n            rect: {\n                color: '#FEFEFE',\n                borderColor: '#F2F3F5'\n            },\n            text: {\n                color: '#76808F'\n            }\n        }\n    },\n    indicator: {\n        tooltip: {\n            text: {\n                color: '#76808F'\n            }\n        }\n    },\n    xAxis: {\n        axisLine: {\n            color: '#DDDDDD'\n        },\n        tickText: {\n            color: '#76808F'\n        },\n        tickLine: {\n            color: '#DDDDDD'\n        }\n    },\n    yAxis: {\n        axisLine: {\n            color: '#DDDDDD'\n        },\n        tickText: {\n            color: '#76808F'\n        },\n        tickLine: {\n            color: '#DDDDDD'\n        }\n    },\n    separator: {\n        color: '#DDDDDD'\n    },\n    crosshair: {\n        horizontal: {\n            line: {\n                color: '#76808F'\n            },\n            text: {\n                borderColor: '#686D76',\n                backgroundColor: '#686D76'\n            }\n        },\n        vertical: {\n            line: {\n                color: '#76808F'\n            },\n            text: {\n                borderColor: '#686D76',\n                backgroundColor: '#686D76'\n            }\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar dark = {\n    grid: {\n        horizontal: {\n            color: '#292929'\n        },\n        vertical: {\n            color: '#292929'\n        }\n    },\n    candle: {\n        priceMark: {\n            high: {\n                color: '#929AA5'\n            },\n            low: {\n                color: '#929AA5'\n            }\n        },\n        tooltip: {\n            rect: {\n                color: 'rgba(10, 10, 10, .6)',\n                borderColor: 'rgba(10, 10, 10, .6)'\n            },\n            text: {\n                color: '#929AA5'\n            }\n        }\n    },\n    indicator: {\n        tooltip: {\n            text: {\n                color: '#929AA5'\n            }\n        }\n    },\n    xAxis: {\n        axisLine: {\n            color: '#333333'\n        },\n        tickText: {\n            color: '#929AA5'\n        },\n        tickLine: {\n            color: '#333333'\n        }\n    },\n    yAxis: {\n        axisLine: {\n            color: '#333333'\n        },\n        tickText: {\n            color: '#929AA5'\n        },\n        tickLine: {\n            color: '#333333'\n        }\n    },\n    separator: {\n        color: '#333333'\n    },\n    crosshair: {\n        horizontal: {\n            line: {\n                color: '#929AA5'\n            },\n            text: {\n                borderColor: '#373a40',\n                backgroundColor: '#373a40'\n            }\n        },\n        vertical: {\n            line: {\n                color: '#929AA5'\n            },\n            text: {\n                borderColor: '#373a40',\n                backgroundColor: '#373a40'\n            }\n        }\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar styles = {\n    light: light,\n    dark: dark\n};\nfunction registerStyles(name, ss) {\n    styles[name] = ss;\n}\nfunction getStyles(name) {\n    var _a;\n    return (_a = styles[name]) !== null && _a !== void 0 ? _a : null;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ChartStore = /** @class */ (function () {\n    function ChartStore(chart, options) {\n        /**\n         * Style config\n         */\n        this._styles = getDefaultStyles();\n        /**\n         * Custom api\n         */\n        this._customApi = getDefaultCustomApi();\n        /**\n         * language\n         */\n        this._locale = defaultLocale;\n        /**\n         * Price and volume precision\n         */\n        this._precision = { price: 2, volume: 0 };\n        /**\n         * Thousands separator\n         */\n        this._thousandsSeparator = ',';\n        // Decimal fold threshold\n        this._decimalFoldThreshold = 3;\n        /**\n         * Data source\n         */\n        this._dataList = [];\n        /**\n         * Load more data callback\n         * Since v9.8.0 deprecated, since v10 removed\n         * @deprecated\n         */\n        this._loadMoreCallback = null;\n        /**\n         * Load data callback\n         */\n        this._loadDataCallback = null;\n        /**\n         * Is loading data flag\n         */\n        this._loading = true;\n        /**\n         * Whether there are forward more flag\n         */\n        this._forwardMore = true;\n        /**\n         * Whether there are forward more flag\n         */\n        this._backwardMore = true;\n        /**\n         * Time scale store\n         */\n        this._timeScaleStore = new TimeScaleStore(this);\n        /**\n         * Indicator store\n         */\n        this._indicatorStore = new IndicatorStore(this);\n        /**\n         * Overlay store\n         */\n        this._overlayStore = new OverlayStore(this);\n        /**\n         * Tooltip store\n         */\n        this._tooltipStore = new TooltipStore(this);\n        /**\n         * Chart action store\n         */\n        this._actionStore = new ActionStore();\n        /**\n         * Visible data array\n         */\n        this._visibleDataList = [];\n        this._chart = chart;\n        this.setOptions(options);\n    }\n    /**\n     * @description Adjust visible data\n     * @return {*}\n     */\n    ChartStore.prototype.adjustVisibleDataList = function () {\n        this._visibleDataList = [];\n        var _a = this._timeScaleStore.getVisibleRange(), realFrom = _a.realFrom, realTo = _a.realTo;\n        for (var i = realFrom; i < realTo; i++) {\n            var kLineData = this._dataList[i];\n            var x = this._timeScaleStore.dataIndexToCoordinate(i);\n            this._visibleDataList.push({\n                dataIndex: i,\n                x: x,\n                data: kLineData\n            });\n        }\n    };\n    ChartStore.prototype.setOptions = function (options) {\n        var _a, _b, _c, _d;\n        if (isValid(options)) {\n            var locale = options.locale, timezone = options.timezone, styles = options.styles, customApi = options.customApi, thousandsSeparator = options.thousandsSeparator, decimalFoldThreshold = options.decimalFoldThreshold;\n            if (isString(locale)) {\n                this._locale = locale;\n            }\n            if (isString(timezone)) {\n                this._timeScaleStore.setTimezone(timezone);\n            }\n            if (isValid(styles)) {\n                var ss = null;\n                if (isString(styles)) {\n                    ss = getStyles(styles);\n                }\n                else {\n                    ss = styles;\n                }\n                merge(this._styles, ss);\n                // `candle.tooltip.custom` should override\n                if (isArray((_b = (_a = ss === null || ss === void 0 ? void 0 : ss.candle) === null || _a === void 0 ? void 0 : _a.tooltip) === null || _b === void 0 ? void 0 : _b.custom)) {\n                    this._styles.candle.tooltip.custom = (_d = (_c = ss === null || ss === void 0 ? void 0 : ss.candle) === null || _c === void 0 ? void 0 : _c.tooltip) === null || _d === void 0 ? void 0 : _d.custom;\n                }\n            }\n            if (isValid(customApi)) {\n                merge(this._customApi, customApi);\n            }\n            if (isString(thousandsSeparator)) {\n                this._thousandsSeparator = thousandsSeparator;\n            }\n            if (isNumber(decimalFoldThreshold) && decimalFoldThreshold > 0) {\n                this._decimalFoldThreshold = decimalFoldThreshold;\n            }\n        }\n        return this;\n    };\n    ChartStore.prototype.getStyles = function () {\n        return this._styles;\n    };\n    ChartStore.prototype.getLocale = function () {\n        return this._locale;\n    };\n    ChartStore.prototype.getCustomApi = function () {\n        return this._customApi;\n    };\n    ChartStore.prototype.getThousandsSeparator = function () {\n        return this._thousandsSeparator;\n    };\n    ChartStore.prototype.getDecimalFoldThreshold = function () {\n        return this._decimalFoldThreshold;\n    };\n    ChartStore.prototype.getPrecision = function () {\n        return this._precision;\n    };\n    ChartStore.prototype.setPrecision = function (precision) {\n        this._precision = precision;\n        this._indicatorStore.synchronizeSeriesPrecision();\n        return this;\n    };\n    ChartStore.prototype.getDataList = function () {\n        return this._dataList;\n    };\n    ChartStore.prototype.getVisibleFirstData = function () {\n        var _a;\n        var from = this._timeScaleStore.getVisibleRange().from;\n        return (_a = this._dataList[from]) !== null && _a !== void 0 ? _a : null;\n    };\n    ChartStore.prototype.getVisibleDataList = function () {\n        return this._visibleDataList;\n    };\n    ChartStore.prototype.addData = function (data, type, more) {\n        return __awaiter(this, void 0, void 0, function () {\n            var success, adjustFlag, dataLengthChange, dataCount, timestamp, lastDataTimestamp, lastBarRightSideDiffBarCount;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        success = false;\n                        adjustFlag = false;\n                        dataLengthChange = 0;\n                        if (isArray(data)) {\n                            dataLengthChange = data.length;\n                            switch (type) {\n                                case LoadDataType.Init: {\n                                    this.clear();\n                                    this._dataList = data;\n                                    this._forwardMore = more !== null && more !== void 0 ? more : true;\n                                    this._timeScaleStore.resetOffsetRightDistance();\n                                    adjustFlag = true;\n                                    break;\n                                }\n                                case LoadDataType.Backward: {\n                                    this._dataList = this._dataList.concat(data);\n                                    this._backwardMore = more !== null && more !== void 0 ? more : false;\n                                    adjustFlag = dataLengthChange > 0;\n                                    break;\n                                }\n                                case LoadDataType.Forward: {\n                                    this._dataList = data.concat(this._dataList);\n                                    this._forwardMore = more !== null && more !== void 0 ? more : false;\n                                    adjustFlag = dataLengthChange > 0;\n                                }\n                            }\n                            this._loading = false;\n                            success = true;\n                        }\n                        else {\n                            dataCount = this._dataList.length;\n                            timestamp = data.timestamp;\n                            lastDataTimestamp = formatValue(this._dataList[dataCount - 1], 'timestamp', 0);\n                            if (timestamp > lastDataTimestamp) {\n                                this._dataList.push(data);\n                                lastBarRightSideDiffBarCount = this._timeScaleStore.getLastBarRightSideDiffBarCount();\n                                if (lastBarRightSideDiffBarCount < 0) {\n                                    this._timeScaleStore.setLastBarRightSideDiffBarCount(--lastBarRightSideDiffBarCount);\n                                }\n                                dataLengthChange = 1;\n                                success = true;\n                                adjustFlag = true;\n                            }\n                            else if (timestamp === lastDataTimestamp) {\n                                this._dataList[dataCount - 1] = data;\n                                success = true;\n                                adjustFlag = true;\n                            }\n                        }\n                        if (!success) return [3 /*break*/, 5];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 4, , 5]);\n                        this._overlayStore.updatePointPosition(dataLengthChange, type);\n                        if (!adjustFlag) return [3 /*break*/, 3];\n                        this._timeScaleStore.adjustVisibleRange();\n                        this._tooltipStore.recalculateCrosshair(true);\n                        return [4 /*yield*/, this._indicatorStore.calcInstance()];\n                    case 2:\n                        _b.sent();\n                        this._chart.adjustPaneViewport(false, true, true, true);\n                        _b.label = 3;\n                    case 3:\n                        this._actionStore.execute(ActionType.OnDataReady);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        _b.sent();\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ChartStore.prototype.setLoadMoreCallback = function (callback) {\n        this._loadMoreCallback = callback;\n    };\n    ChartStore.prototype.executeLoadMoreCallback = function (timestamp) {\n        if (this._forwardMore && !this._loading && isValid(this._loadMoreCallback)) {\n            this._loading = true;\n            this._loadMoreCallback(timestamp);\n        }\n    };\n    ChartStore.prototype.setLoadDataCallback = function (callback) {\n        this._loadDataCallback = callback;\n    };\n    ChartStore.prototype.executeLoadDataCallback = function (params) {\n        var _this = this;\n        if (!this._loading &&\n            isValid(this._loadDataCallback) &&\n            ((this._forwardMore && params.type === LoadDataType.Forward) ||\n                (this._backwardMore && params.type === LoadDataType.Backward))) {\n            var cb = function (data, more) {\n                _this.addData(data, params.type, more).then(function () { }).catch(function () { });\n            };\n            this._loading = true;\n            this._loadDataCallback(__assign(__assign({}, params), { callback: cb }));\n        }\n    };\n    ChartStore.prototype.clear = function () {\n        this._forwardMore = true;\n        this._backwardMore = true;\n        this._loading = true;\n        this._dataList = [];\n        this._visibleDataList = [];\n        this._timeScaleStore.clear();\n        this._tooltipStore.clear();\n    };\n    ChartStore.prototype.getTimeScaleStore = function () {\n        return this._timeScaleStore;\n    };\n    ChartStore.prototype.getIndicatorStore = function () {\n        return this._indicatorStore;\n    };\n    ChartStore.prototype.getOverlayStore = function () {\n        return this._overlayStore;\n    };\n    ChartStore.prototype.getTooltipStore = function () {\n        return this._tooltipStore;\n    };\n    ChartStore.prototype.getActionStore = function () {\n        return this._actionStore;\n    };\n    ChartStore.prototype.getChart = function () {\n        return this._chart;\n    };\n    return ChartStore;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar WidgetNameConstants = {\n    MAIN: 'main',\n    X_AXIS: 'xAxis',\n    Y_AXIS: 'yAxis',\n    SEPARATOR: 'separator'\n};\nvar REAL_SEPARATOR_HEIGHT = 7;\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isSupportedDevicePixelContentBox() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new Promise(function (resolve) {\n                        var ro = new ResizeObserver(function (entries) {\n                            resolve(entries.every(function (entry) { return 'devicePixelContentBoxSize' in entry; }));\n                            ro.disconnect();\n                        });\n                        ro.observe(document.body, { box: 'device-pixel-content-box' });\n                    }).catch(function () { return false; })];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    });\n}\nvar Canvas = /** @class */ (function () {\n    function Canvas(style, listener) {\n        var _this = this;\n        this._supportedDevicePixelContentBox = false;\n        this._width = 0;\n        this._height = 0;\n        this._pixelWidth = 0;\n        this._pixelHeight = 0;\n        this._nextPixelWidth = 0;\n        this._nextPixelHeight = 0;\n        this._requestAnimationId = DEFAULT_REQUEST_ID;\n        this._mediaQueryListener = function () {\n            var pixelRatio = getPixelRatio(_this._element);\n            _this._nextPixelWidth = Math.round(_this._element.clientWidth * pixelRatio);\n            _this._nextPixelHeight = Math.round(_this._element.clientHeight * pixelRatio);\n            _this._resetPixelRatio();\n        };\n        this._listener = listener;\n        this._element = createDom('canvas', style);\n        this._ctx = this._element.getContext('2d', { willReadFrequently: true });\n        isSupportedDevicePixelContentBox().then(function (result) {\n            _this._supportedDevicePixelContentBox = result;\n            if (result) {\n                _this._resizeObserver = new ResizeObserver(function (entries) {\n                    var _a;\n                    var entry = entries.find(function (entry) { return entry.target === _this._element; });\n                    var size = (_a = entry === null || entry === void 0 ? void 0 : entry.devicePixelContentBoxSize) === null || _a === void 0 ? void 0 : _a[0];\n                    if (isValid(size)) {\n                        _this._nextPixelWidth = size.inlineSize;\n                        _this._nextPixelHeight = size.blockSize;\n                        if (_this._pixelWidth !== _this._nextPixelWidth || _this._pixelHeight !== _this._nextPixelHeight) {\n                            _this._resetPixelRatio();\n                        }\n                    }\n                });\n                _this._resizeObserver.observe(_this._element, { box: 'device-pixel-content-box' });\n            }\n            else {\n                _this._mediaQueryList = window.matchMedia(\"(resolution: \".concat(getPixelRatio(_this._element), \"dppx)\"));\n                _this._mediaQueryList.addListener(_this._mediaQueryListener);\n            }\n        }).catch(function (_) { return false; });\n    }\n    Canvas.prototype._resetPixelRatio = function () {\n        var _this = this;\n        this._executeListener(function () {\n            var width = _this._element.clientWidth;\n            var height = _this._element.clientHeight;\n            var horizontalPixelRatio = _this._nextPixelWidth / width;\n            var verticalPixelRatio = _this._nextPixelHeight / height;\n            _this._width = width;\n            _this._height = height;\n            _this._pixelWidth = _this._nextPixelWidth;\n            _this._pixelHeight = _this._nextPixelHeight;\n            _this._element.width = _this._nextPixelWidth;\n            _this._element.height = _this._nextPixelHeight;\n            _this._ctx.scale(horizontalPixelRatio, verticalPixelRatio);\n        });\n    };\n    Canvas.prototype._executeListener = function (fn) {\n        var _this = this;\n        if (this._requestAnimationId === DEFAULT_REQUEST_ID) {\n            this._requestAnimationId = requestAnimationFrame(function () {\n                _this._ctx.clearRect(0, 0, _this._width, _this._height);\n                fn === null || fn === void 0 ? void 0 : fn();\n                _this._listener();\n                _this._requestAnimationId = DEFAULT_REQUEST_ID;\n            });\n        }\n    };\n    Canvas.prototype.update = function (w, h) {\n        if (this._width !== w || this._height !== h) {\n            this._element.style.width = \"\".concat(w, \"px\");\n            this._element.style.height = \"\".concat(h, \"px\");\n            if (!this._supportedDevicePixelContentBox) {\n                var pixelRatio = getPixelRatio(this._element);\n                this._nextPixelWidth = Math.round(w * pixelRatio);\n                this._nextPixelHeight = Math.round(h * pixelRatio);\n                this._resetPixelRatio();\n            }\n        }\n        else {\n            this._executeListener();\n        }\n    };\n    Canvas.prototype.getElement = function () {\n        return this._element;\n    };\n    Canvas.prototype.getContext = function () {\n        return this._ctx;\n    };\n    Canvas.prototype.destroy = function () {\n        if (isValid(this._resizeObserver)) {\n            this._resizeObserver.unobserve(this._element);\n        }\n        if (isValid(this._mediaQueryList)) {\n            this._mediaQueryList.removeListener(this._mediaQueryListener);\n        }\n    };\n    return Canvas;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction createDefaultBounding(bounding) {\n    var defaultBounding = {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n    };\n    if (isValid(bounding)) {\n        merge(defaultBounding, bounding);\n    }\n    return defaultBounding;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Widget = /** @class */ (function (_super) {\n    __extends(Widget, _super);\n    function Widget(rootContainer, pane) {\n        var _this = _super.call(this) || this;\n        _this._bounding = createDefaultBounding();\n        _this._pane = pane;\n        _this._rootContainer = rootContainer;\n        _this._container = _this.createContainer();\n        rootContainer.appendChild(_this._container);\n        return _this;\n    }\n    Widget.prototype.setBounding = function (bounding) {\n        merge(this._bounding, bounding);\n        return this;\n    };\n    Widget.prototype.getContainer = function () { return this._container; };\n    Widget.prototype.getBounding = function () {\n        return this._bounding;\n    };\n    Widget.prototype.getPane = function () {\n        return this._pane;\n    };\n    Widget.prototype.update = function (level) {\n        this.updateImp(this._container, this._bounding, level !== null && level !== void 0 ? level : 3 /* UpdateLevel.Drawer */);\n    };\n    Widget.prototype.destroy = function () {\n        this._rootContainer.removeChild(this._container);\n    };\n    return Widget;\n}(Eventful));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DrawWidget = /** @class */ (function (_super) {\n    __extends(DrawWidget, _super);\n    function DrawWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._mainCanvas = new Canvas({\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            zIndex: '2',\n            boxSizing: 'border-box'\n        }, function () {\n            _this.updateMain(_this._mainCanvas.getContext());\n        });\n        _this._overlayCanvas = new Canvas({\n            position: 'absolute',\n            top: '0',\n            left: '0',\n            zIndex: '2',\n            boxSizing: 'border-box'\n        }, function () {\n            _this.updateOverlay(_this._overlayCanvas.getContext());\n        });\n        var container = _this.getContainer();\n        container.appendChild(_this._mainCanvas.getElement());\n        container.appendChild(_this._overlayCanvas.getElement());\n        return _this;\n    }\n    DrawWidget.prototype.createContainer = function () {\n        return createDom('div', {\n            margin: '0',\n            padding: '0',\n            position: 'absolute',\n            top: '0',\n            overflow: 'hidden',\n            boxSizing: 'border-box',\n            zIndex: '1'\n        });\n    };\n    DrawWidget.prototype.updateImp = function (container, bounding, level) {\n        var width = bounding.width, height = bounding.height, left = bounding.left;\n        container.style.left = \"\".concat(left, \"px\");\n        var l = level;\n        var w = container.clientWidth;\n        var h = container.clientHeight;\n        if (width !== w || height !== h) {\n            container.style.width = \"\".concat(width, \"px\");\n            container.style.height = \"\".concat(height, \"px\");\n            l = 3 /* UpdateLevel.Drawer */;\n        }\n        switch (l) {\n            case 0 /* UpdateLevel.Main */: {\n                this._mainCanvas.update(width, height);\n                break;\n            }\n            case 1 /* UpdateLevel.Overlay */: {\n                this._overlayCanvas.update(width, height);\n                break;\n            }\n            case 3 /* UpdateLevel.Drawer */:\n            case 4 /* UpdateLevel.All */: {\n                this._mainCanvas.update(width, height);\n                this._overlayCanvas.update(width, height);\n                break;\n            }\n        }\n    };\n    DrawWidget.prototype.destroy = function () {\n        this._mainCanvas.destroy();\n        this._overlayCanvas.destroy();\n    };\n    DrawWidget.prototype.getImage = function (includeOverlay) {\n        var _a = this.getBounding(), width = _a.width, height = _a.height;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.drawImage(this._mainCanvas.getElement(), 0, 0, width, height);\n        if (includeOverlay) {\n            ctx.drawImage(this._overlayCanvas.getElement(), 0, 0, width, height);\n        }\n        return canvas;\n    };\n    return DrawWidget;\n}(Widget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isTransparent(color) {\n    return color === 'transparent' ||\n        color === 'none' ||\n        /^[rR][gG][Bb][Aa]\\(([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\\s]*,){3}[\\s]*0[\\s]*\\)$/.test(color) ||\n        /^[hH][Ss][Ll][Aa]\\(([\\s]*(360ï½œ3[0-5][0-9]|[012]?[0-9][0-9]?)[\\s]*,)([\\s]*((100|[0-9][0-9]?)%|0)[\\s]*,){2}([\\s]*0[\\s]*)\\)$/.test(color);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnCircle(coordinate, attrs) {\n    var circles = [];\n    circles = circles.concat(attrs);\n    for (var i = 0; i < circles.length; i++) {\n        var _a = circles[i], x = _a.x, y = _a.y, r = _a.r;\n        var difX = coordinate.x - x;\n        var difY = coordinate.y - y;\n        if (!(difX * difX + difY * difY > r * r)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction drawCircle(ctx, attrs, styles) {\n    var circles = [];\n    circles = circles.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? PolygonType.Fill : _a, _b = styles.color, color = _b === void 0 ? 'currentColor' : _b, _c = styles.borderSize, borderSize = _c === void 0 ? 1 : _c, _d = styles.borderColor, borderColor = _d === void 0 ? 'currentColor' : _d, _e = styles.borderStyle, borderStyle = _e === void 0 ? LineType.Solid : _e, _f = styles.borderDashedValue, borderDashedValue = _f === void 0 ? [2, 2] : _f;\n    var solid = (style === PolygonType.Fill || styles.style === PolygonType.StrokeFill) && (!isString(color) || !isTransparent(color));\n    if (solid) {\n        ctx.fillStyle = color;\n        circles.forEach(function (_a) {\n            var x = _a.x, y = _a.y, r = _a.r;\n            ctx.beginPath();\n            ctx.arc(x, y, r, 0, Math.PI * 2);\n            ctx.closePath();\n            ctx.fill();\n        });\n    }\n    if ((style === PolygonType.Stroke || styles.style === PolygonType.StrokeFill) && borderSize > 0 && !isTransparent(borderColor)) {\n        ctx.strokeStyle = borderColor;\n        ctx.lineWidth = borderSize;\n        if (borderStyle === LineType.Dashed) {\n            ctx.setLineDash(borderDashedValue);\n        }\n        else {\n            ctx.setLineDash([]);\n        }\n        circles.forEach(function (_a) {\n            var x = _a.x, y = _a.y, r = _a.r;\n            if (!solid || r > borderSize) {\n                ctx.beginPath();\n                ctx.arc(x, y, r, 0, Math.PI * 2);\n                ctx.closePath();\n                ctx.stroke();\n            }\n        });\n    }\n}\nvar circle = {\n    name: 'circle',\n    checkEventOn: checkCoordinateOnCircle,\n    draw: function (ctx, attrs, styles) {\n        drawCircle(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnPolygon(coordinate, attrs) {\n    var polygons = [];\n    polygons = polygons.concat(attrs);\n    for (var i = 0; i < polygons.length; i++) {\n        var on = false;\n        var coordinates = polygons[i].coordinates;\n        for (var i_1 = 0, j = coordinates.length - 1; i_1 < coordinates.length; j = i_1++) {\n            if ((coordinates[i_1].y > coordinate.y) !== (coordinates[j].y > coordinate.y) &&\n                (coordinate.x < (coordinates[j].x - coordinates[i_1].x) * (coordinate.y - coordinates[i_1].y) / (coordinates[j].y - coordinates[i_1].y) + coordinates[i_1].x)) {\n                on = !on;\n            }\n        }\n        if (on) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction drawPolygon(ctx, attrs, styles) {\n    var polygons = [];\n    polygons = polygons.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? PolygonType.Fill : _a, _b = styles.color, color = _b === void 0 ? 'currentColor' : _b, _c = styles.borderSize, borderSize = _c === void 0 ? 1 : _c, _d = styles.borderColor, borderColor = _d === void 0 ? 'currentColor' : _d, _e = styles.borderStyle, borderStyle = _e === void 0 ? LineType.Solid : _e, _f = styles.borderDashedValue, borderDashedValue = _f === void 0 ? [2, 2] : _f;\n    if ((style === PolygonType.Fill || styles.style === PolygonType.StrokeFill) &&\n        (!isString(color) || !isTransparent(color))) {\n        ctx.fillStyle = color;\n        polygons.forEach(function (_a) {\n            var coordinates = _a.coordinates;\n            ctx.beginPath();\n            ctx.moveTo(coordinates[0].x, coordinates[0].y);\n            for (var i = 1; i < coordinates.length; i++) {\n                ctx.lineTo(coordinates[i].x, coordinates[i].y);\n            }\n            ctx.closePath();\n            ctx.fill();\n        });\n    }\n    if ((style === PolygonType.Stroke || styles.style === PolygonType.StrokeFill) && borderSize > 0 && !isTransparent(borderColor)) {\n        ctx.strokeStyle = borderColor;\n        ctx.lineWidth = borderSize;\n        if (borderStyle === LineType.Dashed) {\n            ctx.setLineDash(borderDashedValue);\n        }\n        else {\n            ctx.setLineDash([]);\n        }\n        polygons.forEach(function (_a) {\n            var coordinates = _a.coordinates;\n            ctx.beginPath();\n            ctx.moveTo(coordinates[0].x, coordinates[0].y);\n            for (var i = 1; i < coordinates.length; i++) {\n                ctx.lineTo(coordinates[i].x, coordinates[i].y);\n            }\n            ctx.closePath();\n            ctx.stroke();\n        });\n    }\n}\nvar polygon = {\n    name: 'polygon',\n    checkEventOn: checkCoordinateOnPolygon,\n    draw: function (ctx, attrs, styles) {\n        drawPolygon(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnRect(coordinate, attrs) {\n    var rects = [];\n    rects = rects.concat(attrs);\n    for (var i = 0; i < rects.length; i++) {\n        var rect_1 = rects[i];\n        var x = rect_1.x;\n        var width = rect_1.width;\n        if (width < DEVIATION * 2) {\n            x -= DEVIATION;\n            width = DEVIATION * 2;\n        }\n        var y = rect_1.y;\n        var height = rect_1.height;\n        if (height < DEVIATION * 2) {\n            y -= DEVIATION;\n            height = DEVIATION * 2;\n        }\n        if (coordinate.x >= x &&\n            coordinate.x <= x + width &&\n            coordinate.y >= y &&\n            coordinate.y <= y + height) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction drawRect(ctx, attrs, styles) {\n    var _a;\n    var rects = [];\n    rects = rects.concat(attrs);\n    var _b = styles.style, style = _b === void 0 ? PolygonType.Fill : _b, _c = styles.color, color = _c === void 0 ? 'transparent' : _c, _d = styles.borderSize, borderSize = _d === void 0 ? 1 : _d, _e = styles.borderColor, borderColor = _e === void 0 ? 'transparent' : _e, _f = styles.borderStyle, borderStyle = _f === void 0 ? LineType.Solid : _f, _g = styles.borderRadius, r = _g === void 0 ? 0 : _g, _h = styles.borderDashedValue, borderDashedValue = _h === void 0 ? [2, 2] : _h;\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    var draw = (_a = ctx.roundRect) !== null && _a !== void 0 ? _a : ctx.rect;\n    var solid = (style === PolygonType.Fill || styles.style === PolygonType.StrokeFill) && (!isString(color) || !isTransparent(color));\n    if (solid) {\n        ctx.fillStyle = color;\n        rects.forEach(function (_a) {\n            var x = _a.x, y = _a.y, w = _a.width, h = _a.height;\n            ctx.beginPath();\n            draw.call(ctx, x, y, w, h, r);\n            ctx.closePath();\n            ctx.fill();\n        });\n    }\n    if ((style === PolygonType.Stroke || styles.style === PolygonType.StrokeFill) && borderSize > 0 && !isTransparent(borderColor)) {\n        ctx.strokeStyle = borderColor;\n        ctx.fillStyle = borderColor;\n        ctx.lineWidth = borderSize;\n        if (borderStyle === LineType.Dashed) {\n            ctx.setLineDash(borderDashedValue);\n        }\n        else {\n            ctx.setLineDash([]);\n        }\n        var correction_1 = borderSize % 2 === 1 ? 0.5 : 0;\n        var doubleCorrection_1 = Math.round(correction_1 * 2);\n        rects.forEach(function (_a) {\n            var x = _a.x, y = _a.y, w = _a.width, h = _a.height;\n            if (w > borderSize * 2 && h > borderSize * 2) {\n                ctx.beginPath();\n                draw.call(ctx, x + correction_1, y + correction_1, w - doubleCorrection_1, h - doubleCorrection_1, r);\n                ctx.closePath();\n                ctx.stroke();\n            }\n            else {\n                if (!solid) {\n                    ctx.fillRect(x, y, w, h);\n                }\n            }\n        });\n    }\n}\nvar rect = {\n    name: 'rect',\n    checkEventOn: checkCoordinateOnRect,\n    draw: function (ctx, attrs, styles) {\n        drawRect(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getTextRect(attrs, styles) {\n    var _a = styles.size, size = _a === void 0 ? 12 : _a, _b = styles.paddingLeft, paddingLeft = _b === void 0 ? 0 : _b, _c = styles.paddingTop, paddingTop = _c === void 0 ? 0 : _c, _d = styles.paddingRight, paddingRight = _d === void 0 ? 0 : _d, _e = styles.paddingBottom, paddingBottom = _e === void 0 ? 0 : _e, _f = styles.weight, weight = _f === void 0 ? 'normal' : _f, family = styles.family;\n    var x = attrs.x, y = attrs.y, text = attrs.text, _g = attrs.align, align = _g === void 0 ? 'left' : _g, _h = attrs.baseline, baseline = _h === void 0 ? 'top' : _h, w = attrs.width, h = attrs.height;\n    var width = w !== null && w !== void 0 ? w : (paddingLeft + calcTextWidth(text, size, weight, family) + paddingRight);\n    var height = h !== null && h !== void 0 ? h : (paddingTop + size + paddingBottom);\n    var startX;\n    switch (align) {\n        case 'left':\n        case 'start': {\n            startX = x;\n            break;\n        }\n        case 'right':\n        case 'end': {\n            startX = x - width;\n            break;\n        }\n        default: {\n            startX = x - width / 2;\n            break;\n        }\n    }\n    var startY;\n    switch (baseline) {\n        case 'top':\n        case 'hanging': {\n            startY = y;\n            break;\n        }\n        case 'bottom':\n        case 'ideographic':\n        case 'alphabetic': {\n            startY = y - height;\n            break;\n        }\n        default: {\n            startY = y - height / 2;\n            break;\n        }\n    }\n    return { x: startX, y: startY, width: width, height: height };\n}\nfunction checkCoordinateOnText(coordinate, attrs, styles) {\n    var texts = [];\n    texts = texts.concat(attrs);\n    for (var i = 0; i < texts.length; i++) {\n        var _a = getTextRect(texts[i], styles), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        if (coordinate.x >= x &&\n            coordinate.x <= x + width &&\n            coordinate.y >= y &&\n            coordinate.y <= y + height) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction drawText(ctx, attrs, styles) {\n    var texts = [];\n    texts = texts.concat(attrs);\n    var _a = styles.color, color = _a === void 0 ? 'currentColor' : _a, _b = styles.size, size = _b === void 0 ? 12 : _b, family = styles.family, weight = styles.weight, _c = styles.paddingLeft, paddingLeft = _c === void 0 ? 0 : _c, _d = styles.paddingTop, paddingTop = _d === void 0 ? 0 : _d, _e = styles.paddingRight, paddingRight = _e === void 0 ? 0 : _e;\n    var rects = texts.map(function (text) { return getTextRect(text, styles); });\n    drawRect(ctx, rects, __assign(__assign({}, styles), { color: styles.backgroundColor }));\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'top';\n    ctx.font = createFont(size, weight, family);\n    ctx.fillStyle = color;\n    texts.forEach(function (text, index) {\n        var rect = rects[index];\n        ctx.fillText(text.text, rect.x + paddingLeft, rect.y + paddingTop, rect.width - paddingLeft - paddingRight);\n    });\n}\nvar text = {\n    name: 'text',\n    checkEventOn: checkCoordinateOnText,\n    draw: function (ctx, attrs, styles) {\n        drawText(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @deprecated\n * Starting from v10, it will be deleted\n */\nvar rectText = text;\n/**\n * @deprecated\n * Starting from v10, it will be deleted\n */\nvar drawRectText = drawText;\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getDistance(coordinate1, coordinate2) {\n    var xDif = coordinate1.x - coordinate2.x;\n    var yDif = coordinate1.y - coordinate2.y;\n    return Math.sqrt(xDif * xDif + yDif * yDif);\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction checkCoordinateOnArc(coordinate, attrs) {\n    var arcs = [];\n    arcs = arcs.concat(attrs);\n    for (var i = 0; i < arcs.length; i++) {\n        var arc_1 = arcs[i];\n        if (Math.abs(getDistance(coordinate, arc_1) - arc_1.r) < DEVIATION) {\n            var r = arc_1.r, startAngle = arc_1.startAngle, endAngle = arc_1.endAngle;\n            var startCoordinateX = r * Math.cos(startAngle) + arc_1.x;\n            var startCoordinateY = r * Math.sin(startAngle) + arc_1.y;\n            var endCoordinateX = r * Math.cos(endAngle) + arc_1.x;\n            var endCoordinateY = r * Math.sin(endAngle) + arc_1.y;\n            if (coordinate.x <= Math.max(startCoordinateX, endCoordinateX) + DEVIATION &&\n                coordinate.x >= Math.min(startCoordinateX, endCoordinateX) - DEVIATION &&\n                coordinate.y <= Math.max(startCoordinateY, endCoordinateY) + DEVIATION &&\n                coordinate.y >= Math.min(startCoordinateY, endCoordinateY) - DEVIATION) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction drawArc(ctx, attrs, styles) {\n    var arcs = [];\n    arcs = arcs.concat(attrs);\n    var _a = styles.style, style = _a === void 0 ? LineType.Solid : _a, _b = styles.size, size = _b === void 0 ? 1 : _b, _c = styles.color, color = _c === void 0 ? 'currentColor' : _c, _d = styles.dashedValue, dashedValue = _d === void 0 ? [2, 2] : _d;\n    ctx.lineWidth = size;\n    ctx.strokeStyle = color;\n    if (style === LineType.Dashed) {\n        ctx.setLineDash(dashedValue);\n    }\n    else {\n        ctx.setLineDash([]);\n    }\n    arcs.forEach(function (_a) {\n        var x = _a.x, y = _a.y, r = _a.r, startAngle = _a.startAngle, endAngle = _a.endAngle;\n        ctx.beginPath();\n        ctx.arc(x, y, r, startAngle, endAngle);\n        ctx.stroke();\n        ctx.closePath();\n    });\n}\nvar arc = {\n    name: 'arc',\n    checkEventOn: checkCoordinateOnArc,\n    draw: function (ctx, attrs, styles) {\n        drawArc(ctx, attrs, styles);\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar figures = {};\nvar extensions = [circle, line, polygon, rect, text, rectText, arc];\nextensions.forEach(function (figure) {\n    figures[figure.name] = FigureImp.extend(figure);\n});\nfunction getSupportedFigures() {\n    return Object.keys(figures);\n}\nfunction registerFigure(figure) {\n    figures[figure.name] = FigureImp.extend(figure);\n}\nfunction getInnerFigureClass(name) {\n    var _a;\n    return (_a = figures[name]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getFigureClass(name) {\n    var _a;\n    return (_a = figures[name]) !== null && _a !== void 0 ? _a : null;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(widget) {\n        var _this = _super.call(this) || this;\n        _this._widget = widget;\n        return _this;\n    }\n    View.prototype.getWidget = function () { return this._widget; };\n    View.prototype.createFigure = function (figure, eventHandler) {\n        var FigureClazz = getInnerFigureClass(figure.name);\n        if (FigureClazz !== null) {\n            var instance = new FigureClazz(figure);\n            if (isValid(eventHandler)) {\n                for (var key in eventHandler) {\n                    // eslint-disable-next-line no-prototype-builtins\n                    if (eventHandler.hasOwnProperty(key)) {\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                        instance.registerEvent(key, eventHandler[key]);\n                    }\n                }\n                this.addChild(instance);\n            }\n            return instance;\n        }\n        return null;\n    };\n    View.prototype.draw = function (ctx) {\n        this.clear();\n        this.drawImp(ctx);\n    };\n    return View;\n}(Eventful));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar GridView = /** @class */ (function (_super) {\n    __extends(GridView, _super);\n    function GridView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridView.prototype.drawImp = function (ctx) {\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = this.getWidget().getPane();\n        var chart = pane.getChart();\n        var bounding = widget.getBounding();\n        var gridStyles = chart.getStyles().grid;\n        var show = gridStyles.show;\n        if (show) {\n            ctx.save();\n            ctx.globalCompositeOperation = 'destination-over';\n            var horizontalStyles = gridStyles.horizontal;\n            var horizontalShow = horizontalStyles.show;\n            if (horizontalShow) {\n                var yAxis = pane.getAxisComponent();\n                var attrs = yAxis.getTicks().map(function (tick) { return ({\n                    coordinates: [\n                        { x: 0, y: tick.coord },\n                        { x: bounding.width, y: tick.coord }\n                    ]\n                }); });\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: attrs,\n                    styles: horizontalStyles\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n            var verticalStyles = gridStyles.vertical;\n            var verticalShow = verticalStyles.show;\n            if (verticalShow) {\n                var xAxis = chart.getXAxisPane().getAxisComponent();\n                var attrs = xAxis.getTicks().map(function (tick) { return ({\n                    coordinates: [\n                        { x: tick.coord, y: 0 },\n                        { x: tick.coord, y: bounding.height }\n                    ]\n                }); });\n                (_b = this.createFigure({\n                    name: 'line',\n                    attrs: attrs,\n                    styles: verticalStyles\n                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n            }\n            ctx.restore();\n        }\n    };\n    return GridView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar ChildrenView = /** @class */ (function (_super) {\n    __extends(ChildrenView, _super);\n    function ChildrenView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ChildrenView.prototype.eachChildren = function (childCallback) {\n        var pane = this.getWidget().getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var visibleDataList = chartStore.getVisibleDataList();\n        var barSpace = chartStore.getTimeScaleStore().getBarSpace();\n        visibleDataList.forEach(function (data, index) {\n            childCallback(data, barSpace, index);\n        });\n    };\n    return ChildrenView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleBarView = /** @class */ (function (_super) {\n    __extends(CandleBarView, _super);\n    function CandleBarView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._boundCandleBarClickEvent = function (data) { return function () {\n            _this.getWidget().getPane().getChart().getChartStore().getActionStore().execute(ActionType.OnCandleBarClick, data);\n            return false;\n        }; };\n        return _this;\n    }\n    CandleBarView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var pane = this.getWidget().getPane();\n        var isMain = pane.getId() === PaneIdConstants.CANDLE;\n        var chartStore = pane.getChart().getChartStore();\n        var candleBarOptions = this.getCandleBarOptions(chartStore);\n        if (candleBarOptions !== null) {\n            var ohlcSize_1 = 0;\n            var halfOhlcSize_1 = 0;\n            if (candleBarOptions.type === CandleType.Ohlc) {\n                var gapBar = chartStore.getTimeScaleStore().getBarSpace().gapBar;\n                ohlcSize_1 = Math.min(Math.max(Math.round(gapBar * 0.2), 1), 8);\n                if (ohlcSize_1 > 2 && ohlcSize_1 % 2 === 1) {\n                    ohlcSize_1--;\n                }\n                halfOhlcSize_1 = Math.floor(halfOhlcSize_1 / 2);\n            }\n            var yAxis_1 = pane.getAxisComponent();\n            this.eachChildren(function (data, barSpace) {\n                var kLineData = data.data, x = data.x;\n                if (isValid(kLineData)) {\n                    var open_1 = kLineData.open, high = kLineData.high, low = kLineData.low, close_1 = kLineData.close;\n                    var type = candleBarOptions.type, styles = candleBarOptions.styles;\n                    var colors = [];\n                    if (close_1 > open_1) {\n                        colors[0] = styles.upColor;\n                        colors[1] = styles.upBorderColor;\n                        colors[2] = styles.upWickColor;\n                    }\n                    else if (close_1 < open_1) {\n                        colors[0] = styles.downColor;\n                        colors[1] = styles.downBorderColor;\n                        colors[2] = styles.downWickColor;\n                    }\n                    else {\n                        colors[0] = styles.noChangeColor;\n                        colors[1] = styles.noChangeBorderColor;\n                        colors[2] = styles.noChangeWickColor;\n                    }\n                    var openY = yAxis_1.convertToPixel(open_1);\n                    var closeY = yAxis_1.convertToPixel(close_1);\n                    var priceY = [\n                        openY, closeY,\n                        yAxis_1.convertToPixel(high),\n                        yAxis_1.convertToPixel(low)\n                    ];\n                    priceY.sort(function (a, b) { return a - b; });\n                    var rects = [];\n                    switch (type) {\n                        case CandleType.CandleSolid: {\n                            rects = _this._createSolidBar(x, priceY, barSpace, colors);\n                            break;\n                        }\n                        case CandleType.CandleStroke: {\n                            rects = _this._createStrokeBar(x, priceY, barSpace, colors);\n                            break;\n                        }\n                        case CandleType.CandleUpStroke: {\n                            if (close_1 > open_1) {\n                                rects = _this._createStrokeBar(x, priceY, barSpace, colors);\n                            }\n                            else {\n                                rects = _this._createSolidBar(x, priceY, barSpace, colors);\n                            }\n                            break;\n                        }\n                        case CandleType.CandleDownStroke: {\n                            if (open_1 > close_1) {\n                                rects = _this._createStrokeBar(x, priceY, barSpace, colors);\n                            }\n                            else {\n                                rects = _this._createSolidBar(x, priceY, barSpace, colors);\n                            }\n                            break;\n                        }\n                        case CandleType.Ohlc: {\n                            rects = [\n                                {\n                                    name: 'rect',\n                                    attrs: [\n                                        {\n                                            x: x - halfOhlcSize_1,\n                                            y: priceY[0],\n                                            width: ohlcSize_1,\n                                            height: priceY[3] - priceY[0]\n                                        },\n                                        {\n                                            x: x - barSpace.halfGapBar,\n                                            y: openY + ohlcSize_1 > priceY[3] ? priceY[3] - ohlcSize_1 : openY,\n                                            width: barSpace.halfGapBar,\n                                            height: ohlcSize_1\n                                        },\n                                        {\n                                            x: x + halfOhlcSize_1,\n                                            y: closeY + ohlcSize_1 > priceY[3] ? priceY[3] - ohlcSize_1 : closeY,\n                                            width: barSpace.halfGapBar - halfOhlcSize_1,\n                                            height: ohlcSize_1\n                                        }\n                                    ],\n                                    styles: { color: colors[0] }\n                                }\n                            ];\n                            break;\n                        }\n                    }\n                    rects.forEach(function (rect) {\n                        var _a;\n                        var handler;\n                        if (isMain) {\n                            handler = {\n                                mouseClickEvent: _this._boundCandleBarClickEvent(data)\n                            };\n                        }\n                        (_a = _this.createFigure(rect, handler)) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                    });\n                }\n            });\n        }\n    };\n    CandleBarView.prototype.getCandleBarOptions = function (chartStore) {\n        var candleStyles = chartStore.getStyles().candle;\n        return {\n            type: candleStyles.type,\n            styles: candleStyles.bar\n        };\n    };\n    CandleBarView.prototype._createSolidBar = function (x, priceY, barSpace, colors) {\n        return [\n            {\n                name: 'rect',\n                attrs: {\n                    x: x,\n                    y: priceY[0],\n                    width: 1,\n                    height: priceY[3] - priceY[0]\n                },\n                styles: { color: colors[2] }\n            },\n            {\n                name: 'rect',\n                attrs: {\n                    x: x - barSpace.halfGapBar,\n                    y: priceY[1],\n                    width: barSpace.gapBar,\n                    height: Math.max(1, priceY[2] - priceY[1])\n                },\n                styles: {\n                    style: PolygonType.StrokeFill,\n                    color: colors[0],\n                    borderColor: colors[1]\n                }\n            }\n        ];\n    };\n    CandleBarView.prototype._createStrokeBar = function (x, priceY, barSpace, colors) {\n        return [\n            {\n                name: 'rect',\n                attrs: [\n                    {\n                        x: x,\n                        y: priceY[0],\n                        width: 1,\n                        height: priceY[1] - priceY[0]\n                    },\n                    {\n                        x: x,\n                        y: priceY[2],\n                        width: 1,\n                        height: priceY[3] - priceY[2]\n                    }\n                ],\n                styles: { color: colors[2] }\n            },\n            {\n                name: 'rect',\n                attrs: {\n                    x: x - barSpace.halfGapBar,\n                    y: priceY[1],\n                    width: barSpace.gapBar,\n                    height: Math.max(1, priceY[2] - priceY[1])\n                },\n                styles: {\n                    style: PolygonType.Stroke,\n                    borderColor: colors[1]\n                }\n            }\n        ];\n    };\n    return CandleBarView;\n}(ChildrenView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorView = /** @class */ (function (_super) {\n    __extends(IndicatorView, _super);\n    function IndicatorView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IndicatorView.prototype.getCandleBarOptions = function (chartStore) {\n        var e_1, _a;\n        var pane = this.getWidget().getPane();\n        var yAxis = pane.getAxisComponent();\n        if (!yAxis.isInCandle()) {\n            var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n            try {\n                for (var indicators_1 = __values(indicators), indicators_1_1 = indicators_1.next(); !indicators_1_1.done; indicators_1_1 = indicators_1.next()) {\n                    var indicator = indicators_1_1.value;\n                    if (indicator.shouldOhlc && indicator.visible) {\n                        var indicatorStyles = indicator.styles;\n                        var defaultStyles = chartStore.getStyles().indicator;\n                        var upColor = formatValue(indicatorStyles, 'ohlc.upColor', defaultStyles.ohlc.upColor);\n                        var downColor = formatValue(indicatorStyles, 'ohlc.downColor', defaultStyles.ohlc.downColor);\n                        var noChangeColor = formatValue(indicatorStyles, 'ohlc.noChangeColor', defaultStyles.ohlc.noChangeColor);\n                        return {\n                            type: CandleType.Ohlc,\n                            styles: {\n                                upColor: upColor,\n                                downColor: downColor,\n                                noChangeColor: noChangeColor,\n                                upBorderColor: upColor,\n                                downBorderColor: downColor,\n                                noChangeBorderColor: noChangeColor,\n                                upWickColor: upColor,\n                                downWickColor: downColor,\n                                noChangeWickColor: noChangeColor\n                            }\n                        };\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (indicators_1_1 && !indicators_1_1.done && (_a = indicators_1.return)) _a.call(indicators_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        return null;\n    };\n    IndicatorView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        _super.prototype.drawImp.call(this, ctx);\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var bounding = widget.getBounding();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var yAxis = pane.getAxisComponent();\n        var chartStore = chart.getChartStore();\n        var dataList = chartStore.getDataList();\n        var timeScaleStore = chartStore.getTimeScaleStore();\n        var visibleRange = timeScaleStore.getVisibleRange();\n        var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n        var defaultStyles = chartStore.getStyles().indicator;\n        ctx.save();\n        indicators.forEach(function (indicator) {\n            var _a;\n            if (indicator.visible) {\n                if (indicator.zLevel < 0) {\n                    ctx.globalCompositeOperation = 'destination-over';\n                }\n                else {\n                    ctx.globalCompositeOperation = 'source-over';\n                }\n                var isCover = false;\n                if (indicator.draw !== null) {\n                    ctx.save();\n                    isCover = (_a = indicator.draw({\n                        ctx: ctx,\n                        kLineDataList: dataList,\n                        indicator: indicator,\n                        visibleRange: visibleRange,\n                        bounding: bounding,\n                        barSpace: timeScaleStore.getBarSpace(),\n                        defaultStyles: defaultStyles,\n                        xAxis: xAxis,\n                        yAxis: yAxis\n                    })) !== null && _a !== void 0 ? _a : false;\n                    ctx.restore();\n                }\n                if (!isCover) {\n                    var result_1 = indicator.result;\n                    var lines_1 = [];\n                    _this.eachChildren(function (data, barSpace) {\n                        var _a, _b, _c;\n                        var halfGapBar = barSpace.halfGapBar;\n                        var dataIndex = data.dataIndex, x = data.x;\n                        var prevX = xAxis.convertToPixel(dataIndex - 1);\n                        var nextX = xAxis.convertToPixel(dataIndex + 1);\n                        var prevData = (_a = result_1[dataIndex - 1]) !== null && _a !== void 0 ? _a : null;\n                        var currentData = (_b = result_1[dataIndex]) !== null && _b !== void 0 ? _b : null;\n                        var nextData = (_c = result_1[dataIndex + 1]) !== null && _c !== void 0 ? _c : null;\n                        var prevCoordinate = { x: prevX };\n                        var currentCoordinate = { x: x };\n                        var nextCoordinate = { x: nextX };\n                        indicator.figures.forEach(function (_a) {\n                            var key = _a.key;\n                            var prevValue = prevData === null || prevData === void 0 ? void 0 : prevData[key];\n                            if (isNumber(prevValue)) {\n                                prevCoordinate[key] = yAxis.convertToPixel(prevValue);\n                            }\n                            var currentValue = currentData === null || currentData === void 0 ? void 0 : currentData[key];\n                            if (isNumber(currentValue)) {\n                                currentCoordinate[key] = yAxis.convertToPixel(currentValue);\n                            }\n                            var nextValue = nextData === null || nextData === void 0 ? void 0 : nextData[key];\n                            if (isNumber(nextValue)) {\n                                nextCoordinate[key] = yAxis.convertToPixel(nextValue);\n                            }\n                        });\n                        eachFigures(dataList, indicator, dataIndex, defaultStyles, function (figure, figureStyles, figureIndex) {\n                            var _a, _b, _c;\n                            if (isValid(currentData === null || currentData === void 0 ? void 0 : currentData[figure.key])) {\n                                var valueY = currentCoordinate[figure.key];\n                                var attrs = (_a = figure.attrs) === null || _a === void 0 ? void 0 : _a.call(figure, {\n                                    data: { prev: prevData, current: currentData, next: nextData },\n                                    coordinate: { prev: prevCoordinate, current: currentCoordinate, next: nextCoordinate },\n                                    bounding: bounding,\n                                    barSpace: barSpace,\n                                    xAxis: xAxis,\n                                    yAxis: yAxis\n                                });\n                                if (!isValid(attrs)) {\n                                    switch (figure.type) {\n                                        case 'circle': {\n                                            attrs = { x: x, y: valueY, r: Math.max(1, halfGapBar) };\n                                            break;\n                                        }\n                                        case 'rect':\n                                        case 'bar': {\n                                            var baseValue = (_b = figure.baseValue) !== null && _b !== void 0 ? _b : yAxis.getRange().from;\n                                            var baseValueY = yAxis.convertToPixel(baseValue);\n                                            var height = Math.abs(baseValueY - valueY);\n                                            if (baseValue !== (currentData === null || currentData === void 0 ? void 0 : currentData[figure.key])) {\n                                                height = Math.max(1, height);\n                                            }\n                                            var y = void 0;\n                                            if (valueY > baseValueY) {\n                                                y = baseValueY;\n                                            }\n                                            else {\n                                                y = valueY;\n                                            }\n                                            attrs = {\n                                                x: x - halfGapBar,\n                                                y: y,\n                                                width: Math.max(1, halfGapBar * 2),\n                                                height: height\n                                            };\n                                            break;\n                                        }\n                                        case 'line': {\n                                            if (!isValid(lines_1[figureIndex])) {\n                                                lines_1[figureIndex] = [];\n                                            }\n                                            if (isNumber(currentCoordinate[figure.key]) && isNumber(nextCoordinate[figure.key])) {\n                                                lines_1[figureIndex].push({\n                                                    coordinates: [\n                                                        { x: currentCoordinate.x, y: currentCoordinate[figure.key] },\n                                                        { x: nextCoordinate.x, y: nextCoordinate[figure.key] }\n                                                    ],\n                                                    styles: figureStyles\n                                                });\n                                            }\n                                            break;\n                                        }\n                                    }\n                                }\n                                var type = figure.type;\n                                if (isValid(attrs) && type !== 'line') {\n                                    (_c = _this.createFigure({\n                                        name: type === 'bar' ? 'rect' : type,\n                                        attrs: attrs,\n                                        styles: figureStyles\n                                    })) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n                                }\n                            }\n                        });\n                    });\n                    // merge line and render\n                    lines_1.forEach(function (items) {\n                        if (items.length > 1) {\n                            var mergeLines = [\n                                {\n                                    coordinates: [items[0].coordinates[0], items[0].coordinates[1]],\n                                    styles: items[0].styles\n                                }\n                            ];\n                            for (var i = 1; i < items.length; i++) {\n                                var lastMergeLine = mergeLines[mergeLines.length - 1];\n                                var current = items[i];\n                                var lastMergeLineLastCoordinate = lastMergeLine.coordinates[lastMergeLine.coordinates.length - 1];\n                                if (lastMergeLineLastCoordinate.x === current.coordinates[0].x &&\n                                    lastMergeLineLastCoordinate.y === current.coordinates[0].y &&\n                                    lastMergeLine.styles.style === current.styles.style &&\n                                    lastMergeLine.styles.color === current.styles.color &&\n                                    lastMergeLine.styles.size === current.styles.size &&\n                                    lastMergeLine.styles.smooth === current.styles.smooth &&\n                                    lastMergeLine.styles.dashedValue[0] === current.styles.dashedValue[0] &&\n                                    lastMergeLine.styles.dashedValue[1] === current.styles.dashedValue[1]) {\n                                    lastMergeLine.coordinates.push(current.coordinates[1]);\n                                }\n                                else {\n                                    mergeLines.push({\n                                        coordinates: [current.coordinates[0], current.coordinates[1]],\n                                        styles: current.styles\n                                    });\n                                }\n                            }\n                            mergeLines.forEach(function (_a) {\n                                var _b;\n                                var coordinates = _a.coordinates, styles = _a.styles;\n                                (_b = _this.createFigure({\n                                    name: 'line',\n                                    attrs: { coordinates: coordinates },\n                                    styles: styles\n                                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                            });\n                        }\n                    });\n                }\n            }\n        });\n        ctx.restore();\n    };\n    return IndicatorView;\n}(CandleBarView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairLineView = /** @class */ (function (_super) {\n    __extends(CrosshairLineView, _super);\n    function CrosshairLineView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairLineView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = widget.getPane().getChart().getChartStore();\n        var crosshair = chartStore.getTooltipStore().getCrosshair();\n        var styles = chartStore.getStyles().crosshair;\n        if (isString(crosshair.paneId) && styles.show) {\n            if (crosshair.paneId === pane.getId()) {\n                var y = crosshair.y;\n                this._drawLine(ctx, [\n                    { x: 0, y: y },\n                    { x: bounding.width, y: y }\n                ], styles.horizontal);\n            }\n            var x = crosshair.realX;\n            this._drawLine(ctx, [\n                { x: x, y: 0 },\n                { x: x, y: bounding.height }\n            ], styles.vertical);\n        }\n    };\n    CrosshairLineView.prototype._drawLine = function (ctx, coordinates, styles) {\n        var _a;\n        if (styles.show) {\n            var lineStyles = styles.line;\n            if (lineStyles.show) {\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: { coordinates: coordinates },\n                    styles: lineStyles\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n        }\n    };\n    return CrosshairLineView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorTooltipView = /** @class */ (function (_super) {\n    __extends(IndicatorTooltipView, _super);\n    function IndicatorTooltipView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._boundIconClickEvent = function (currentIcon) { return function () {\n            var pane = _this.getWidget().getPane();\n            pane.getChart().getChartStore().getActionStore().execute(ActionType.OnTooltipIconClick, __assign({}, currentIcon));\n            return true;\n        }; };\n        _this._boundIconMouseMoveEvent = function (currentIconInfo) { return function () {\n            var pane = _this.getWidget().getPane();\n            var tooltipStore = pane.getChart().getChartStore().getTooltipStore();\n            tooltipStore.setActiveIcon(__assign({}, currentIconInfo));\n            return true;\n        }; };\n        return _this;\n    }\n    IndicatorTooltipView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var crosshair = chartStore.getTooltipStore().getCrosshair();\n        if (isValid(crosshair.kLineData)) {\n            var bounding = widget.getBounding();\n            var customApi = chartStore.getCustomApi();\n            var thousandsSeparator = chartStore.getThousandsSeparator();\n            var decimalFoldThreshold = chartStore.getDecimalFoldThreshold();\n            var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n            var activeIcon = chartStore.getTooltipStore().getActiveIcon();\n            var defaultStyles = chartStore.getStyles().indicator;\n            var _a = defaultStyles.tooltip, offsetLeft = _a.offsetLeft, offsetTop = _a.offsetTop, offsetRight = _a.offsetRight;\n            this.drawIndicatorTooltip(ctx, pane.getId(), chartStore.getDataList(), crosshair, activeIcon, indicators, customApi, thousandsSeparator, decimalFoldThreshold, offsetLeft, offsetTop, bounding.width - offsetRight, defaultStyles);\n        }\n    };\n    IndicatorTooltipView.prototype.drawIndicatorTooltip = function (ctx, paneId, dataList, crosshair, activeTooltipIcon, indicators, customApi, thousandsSeparator, decimalFoldThreshold, left, top, maxWidth, styles) {\n        var _this = this;\n        var tooltipStyles = styles.tooltip;\n        if (this.isDrawTooltip(crosshair, tooltipStyles)) {\n            var tooltipTextStyles_1 = tooltipStyles.text;\n            indicators.forEach(function (indicator) {\n                var prevRowHeight = 0;\n                var coordinate = { x: left, y: top };\n                var _a = _this.getIndicatorTooltipData(dataList, crosshair, indicator, customApi, thousandsSeparator, decimalFoldThreshold, styles), name = _a.name, calcParamsText = _a.calcParamsText, legends = _a.values, icons = _a.icons;\n                var nameValid = name.length > 0;\n                var legendValid = legends.length > 0;\n                if (nameValid || legendValid) {\n                    var _b = __read(_this.classifyTooltipIcons(icons), 3), leftIcons = _b[0], middleIcons = _b[1], rightIcons = _b[2];\n                    prevRowHeight = _this.drawStandardTooltipIcons(ctx, activeTooltipIcon, leftIcons, coordinate, paneId, indicator.name, left, prevRowHeight, maxWidth);\n                    if (nameValid) {\n                        var text = name;\n                        if (calcParamsText.length > 0) {\n                            text = \"\".concat(text).concat(calcParamsText);\n                        }\n                        prevRowHeight = _this.drawStandardTooltipLegends(ctx, [\n                            {\n                                title: { text: '', color: tooltipTextStyles_1.color },\n                                value: { text: text, color: tooltipTextStyles_1.color }\n                            }\n                        ], coordinate, left, prevRowHeight, maxWidth, tooltipTextStyles_1);\n                    }\n                    prevRowHeight = _this.drawStandardTooltipIcons(ctx, activeTooltipIcon, middleIcons, coordinate, paneId, indicator.name, left, prevRowHeight, maxWidth);\n                    if (legendValid) {\n                        prevRowHeight = _this.drawStandardTooltipLegends(ctx, legends, coordinate, left, prevRowHeight, maxWidth, tooltipStyles.text);\n                    }\n                    // draw right icons\n                    prevRowHeight = _this.drawStandardTooltipIcons(ctx, activeTooltipIcon, rightIcons, coordinate, paneId, indicator.name, left, prevRowHeight, maxWidth);\n                    top = coordinate.y + prevRowHeight;\n                }\n            });\n        }\n        return top;\n    };\n    IndicatorTooltipView.prototype.drawStandardTooltipIcons = function (ctx, activeIcon, icons, coordinate, paneId, indicatorName, left, prevRowHeight, maxWidth) {\n        var _this = this;\n        if (icons.length > 0) {\n            var width_1 = 0;\n            var height_1 = 0;\n            icons.forEach(function (icon) {\n                var _a = icon.marginLeft, marginLeft = _a === void 0 ? 0 : _a, _b = icon.marginTop, marginTop = _b === void 0 ? 0 : _b, _c = icon.marginRight, marginRight = _c === void 0 ? 0 : _c, _d = icon.marginBottom, marginBottom = _d === void 0 ? 0 : _d, _e = icon.paddingLeft, paddingLeft = _e === void 0 ? 0 : _e, _f = icon.paddingTop, paddingTop = _f === void 0 ? 0 : _f, _g = icon.paddingRight, paddingRight = _g === void 0 ? 0 : _g, _h = icon.paddingBottom, paddingBottom = _h === void 0 ? 0 : _h, size = icon.size, fontFamily = icon.fontFamily, text = icon.icon;\n                ctx.font = createFont(size, 'normal', fontFamily);\n                width_1 += (marginLeft + paddingLeft + ctx.measureText(text).width + paddingRight + marginRight);\n                height_1 = Math.max(height_1, marginTop + paddingTop + size + paddingBottom + marginBottom);\n            });\n            if (coordinate.x + width_1 > maxWidth) {\n                coordinate.x = left;\n                coordinate.y += prevRowHeight;\n                prevRowHeight = height_1;\n            }\n            else {\n                prevRowHeight = Math.max(prevRowHeight, height_1);\n            }\n            icons.forEach(function (icon) {\n                var _a;\n                var _b = icon.marginLeft, marginLeft = _b === void 0 ? 0 : _b, _c = icon.marginTop, marginTop = _c === void 0 ? 0 : _c, _d = icon.marginRight, marginRight = _d === void 0 ? 0 : _d, _e = icon.paddingLeft, paddingLeft = _e === void 0 ? 0 : _e, _f = icon.paddingTop, paddingTop = _f === void 0 ? 0 : _f, _g = icon.paddingRight, paddingRight = _g === void 0 ? 0 : _g, _h = icon.paddingBottom, paddingBottom = _h === void 0 ? 0 : _h, color = icon.color, activeColor = icon.activeColor, size = icon.size, fontFamily = icon.fontFamily, text = icon.icon, backgroundColor = icon.backgroundColor, activeBackgroundColor = icon.activeBackgroundColor;\n                var active = (activeIcon === null || activeIcon === void 0 ? void 0 : activeIcon.paneId) === paneId && (activeIcon === null || activeIcon === void 0 ? void 0 : activeIcon.indicatorName) === indicatorName && (activeIcon === null || activeIcon === void 0 ? void 0 : activeIcon.iconId) === icon.id;\n                (_a = _this.createFigure({\n                    name: 'text',\n                    attrs: { text: text, x: coordinate.x + marginLeft, y: coordinate.y + marginTop },\n                    styles: {\n                        paddingLeft: paddingLeft,\n                        paddingTop: paddingTop,\n                        paddingRight: paddingRight,\n                        paddingBottom: paddingBottom,\n                        color: active ? activeColor : color,\n                        size: size,\n                        family: fontFamily,\n                        backgroundColor: active ? activeBackgroundColor : backgroundColor\n                    }\n                }, {\n                    mouseClickEvent: _this._boundIconClickEvent({ paneId: paneId, indicatorName: indicatorName, iconId: icon.id }),\n                    mouseMoveEvent: _this._boundIconMouseMoveEvent({ paneId: paneId, indicatorName: indicatorName, iconId: icon.id })\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                coordinate.x += (marginLeft + paddingLeft + ctx.measureText(text).width + paddingRight + marginRight);\n            });\n        }\n        return prevRowHeight;\n    };\n    IndicatorTooltipView.prototype.drawStandardTooltipLegends = function (ctx, legends, coordinate, left, prevRowHeight, maxWidth, styles) {\n        var _this = this;\n        if (legends.length > 0) {\n            var marginLeft_1 = styles.marginLeft, marginTop_1 = styles.marginTop, marginRight_1 = styles.marginRight, marginBottom_1 = styles.marginBottom, size_1 = styles.size, family_1 = styles.family, weight_1 = styles.weight;\n            ctx.font = createFont(size_1, weight_1, family_1);\n            legends.forEach(function (data) {\n                var _a, _b;\n                var title = data.title;\n                var value = data.value;\n                var titleTextWidth = ctx.measureText(title.text).width;\n                var valueTextWidth = ctx.measureText(value.text).width;\n                var totalTextWidth = titleTextWidth + valueTextWidth;\n                var h = marginTop_1 + size_1 + marginBottom_1;\n                if (coordinate.x + marginLeft_1 + totalTextWidth + marginRight_1 > maxWidth) {\n                    coordinate.x = left;\n                    coordinate.y += prevRowHeight;\n                    prevRowHeight = h;\n                }\n                else {\n                    prevRowHeight = Math.max(prevRowHeight, h);\n                }\n                if (title.text.length > 0) {\n                    (_a = _this.createFigure({\n                        name: 'text',\n                        attrs: { x: coordinate.x + marginLeft_1, y: coordinate.y + marginTop_1, text: title.text },\n                        styles: { color: title.color, size: size_1, family: family_1, weight: weight_1 }\n                    })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                }\n                (_b = _this.createFigure({\n                    name: 'text',\n                    attrs: { x: coordinate.x + marginLeft_1 + titleTextWidth, y: coordinate.y + marginTop_1, text: value.text },\n                    styles: { color: value.color, size: size_1, family: family_1, weight: weight_1 }\n                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                coordinate.x += (marginLeft_1 + totalTextWidth + marginRight_1);\n            });\n        }\n        return prevRowHeight;\n    };\n    IndicatorTooltipView.prototype.isDrawTooltip = function (crosshair, styles) {\n        var showRule = styles.showRule;\n        return showRule === TooltipShowRule.Always ||\n            (showRule === TooltipShowRule.FollowCross && isString(crosshair.paneId));\n    };\n    IndicatorTooltipView.prototype.getIndicatorTooltipData = function (dataList, crosshair, indicator, customApi, thousandsSeparator, decimalFoldThreshold, styles) {\n        var _a, _b;\n        var tooltipStyles = styles.tooltip;\n        var name = tooltipStyles.showName ? indicator.shortName : '';\n        var calcParamsText = '';\n        var calcParams = indicator.calcParams;\n        if (calcParams.length > 0 && tooltipStyles.showParams) {\n            calcParamsText = \"(\".concat(calcParams.join(','), \")\");\n        }\n        var tooltipData = { name: name, calcParamsText: calcParamsText, values: [], icons: tooltipStyles.icons };\n        var dataIndex = crosshair.dataIndex;\n        var result = (_a = indicator.result) !== null && _a !== void 0 ? _a : [];\n        var legends = [];\n        if (indicator.visible) {\n            var indicatorData_1 = (_b = result[dataIndex]) !== null && _b !== void 0 ? _b : {};\n            eachFigures(dataList, indicator, dataIndex, styles, function (figure, figureStyles) {\n                var _a;\n                if (isString(figure.title)) {\n                    var color = figureStyles.color;\n                    var value = (_a = indicatorData_1[figure.key]) !== null && _a !== void 0 ? _a : tooltipStyles.defaultValue;\n                    if (isNumber(value)) {\n                        value = formatPrecision(value, indicator.precision);\n                        if (indicator.shouldFormatBigNumber) {\n                            value = customApi.formatBigNumber(value);\n                        }\n                        value = formatFoldDecimal(formatThousands(value, thousandsSeparator), decimalFoldThreshold);\n                    }\n                    legends.push({ title: { text: figure.title, color: color }, value: { text: value, color: color } });\n                }\n            });\n            tooltipData.values = legends;\n        }\n        if (indicator.createTooltipDataSource !== null) {\n            var widget = this.getWidget();\n            var pane = widget.getPane();\n            var chartStore = pane.getChart().getChartStore();\n            var _c = indicator.createTooltipDataSource({\n                kLineDataList: dataList,\n                indicator: indicator,\n                visibleRange: chartStore.getTimeScaleStore().getVisibleRange(),\n                bounding: widget.getBounding(),\n                crosshair: crosshair,\n                defaultStyles: styles,\n                xAxis: pane.getChart().getXAxisPane().getAxisComponent(),\n                yAxis: pane.getAxisComponent()\n            }), customName = _c.name, customCalcParamsText = _c.calcParamsText, customLegends = _c.values, customIcons = _c.icons;\n            if (isString(customName) && tooltipStyles.showName) {\n                tooltipData.name = customName;\n            }\n            if (isString(customCalcParamsText) && tooltipStyles.showParams) {\n                tooltipData.calcParamsText = customCalcParamsText;\n            }\n            if (isValid(customIcons)) {\n                tooltipData.icons = customIcons;\n            }\n            if (isValid(customLegends) && indicator.visible) {\n                var optimizedLegends_1 = [];\n                var color_1 = styles.tooltip.text.color;\n                customLegends.forEach(function (data) {\n                    var _a;\n                    var title = { text: '', color: color_1 };\n                    if (isObject(data.title)) {\n                        title = data.title;\n                    }\n                    else {\n                        title.text = data.title;\n                    }\n                    var value = { text: '', color: color_1 };\n                    if (isObject(data.value)) {\n                        value = data.value;\n                    }\n                    else {\n                        value.text = (_a = data.value) !== null && _a !== void 0 ? _a : tooltipStyles.defaultValue;\n                    }\n                    if (isNumber(value.text)) {\n                        var text = formatPrecision(value.text, indicator.precision);\n                        if (indicator.shouldFormatBigNumber) {\n                            text = customApi.formatBigNumber(text);\n                        }\n                        text = formatFoldDecimal(formatThousands(text, thousandsSeparator), decimalFoldThreshold);\n                        value.text = text;\n                    }\n                    optimizedLegends_1.push({ title: title, value: value });\n                });\n                tooltipData.values = optimizedLegends_1;\n            }\n        }\n        return tooltipData;\n    };\n    IndicatorTooltipView.prototype.classifyTooltipIcons = function (icons) {\n        var leftIcons = [];\n        var middleIcons = [];\n        var rightIcons = [];\n        icons.forEach(function (icon) {\n            switch (icon.position) {\n                case TooltipIconPosition.Left: {\n                    leftIcons.push(icon);\n                    break;\n                }\n                case TooltipIconPosition.Middle: {\n                    middleIcons.push(icon);\n                    break;\n                }\n                case TooltipIconPosition.Right: {\n                    rightIcons.push(icon);\n                    break;\n                }\n            }\n        });\n        return [leftIcons, middleIcons, rightIcons];\n    };\n    return IndicatorTooltipView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayView = /** @class */ (function (_super) {\n    __extends(OverlayView, _super);\n    function OverlayView(widget) {\n        var _this = _super.call(this, widget) || this;\n        _this._initEvent();\n        return _this;\n    }\n    OverlayView.prototype._initEvent = function () {\n        var _this = this;\n        var pane = this.getWidget().getPane();\n        var paneId = pane.getId();\n        var overlayStore = pane.getChart().getChartStore().getOverlayStore();\n        this.registerEvent('mouseMoveEvent', function (event) {\n            var _a;\n            var progressInstanceInfo = overlayStore.getProgressInstanceInfo();\n            if (progressInstanceInfo !== null) {\n                var overlay = progressInstanceInfo.instance;\n                var progressInstancePaneId = progressInstanceInfo.paneId;\n                if (overlay.isStart()) {\n                    overlayStore.updateProgressInstanceInfo(paneId);\n                    progressInstancePaneId = paneId;\n                }\n                var index = overlay.points.length - 1;\n                var key = \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index);\n                if (overlay.isDrawing() && progressInstancePaneId === paneId) {\n                    overlay.eventMoveForDrawing(_this._coordinateToPoint(progressInstanceInfo.instance, event));\n                    (_a = overlay.onDrawing) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ overlay: overlay, figureKey: key, figureIndex: index }, event));\n                }\n                return _this._figureMouseMoveEvent(overlay, 1 /* EventOverlayInfoFigureType.Point */, key, index, 0)(event);\n            }\n            overlayStore.setHoverInstanceInfo({\n                paneId: paneId,\n                instance: null, figureType: 0 /* EventOverlayInfoFigureType.None */, figureKey: '', figureIndex: -1, attrsIndex: -1\n            }, event);\n            return false;\n        }).registerEvent('mouseClickEvent', function (event) {\n            var _a, _b;\n            var progressInstanceInfo = overlayStore.getProgressInstanceInfo();\n            if (progressInstanceInfo !== null) {\n                var overlay = progressInstanceInfo.instance;\n                var progressInstancePaneId = progressInstanceInfo.paneId;\n                if (overlay.isStart()) {\n                    overlayStore.updateProgressInstanceInfo(paneId, true);\n                    progressInstancePaneId = paneId;\n                }\n                var index = overlay.points.length - 1;\n                var key = \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index);\n                if (overlay.isDrawing() && progressInstancePaneId === paneId) {\n                    overlay.eventMoveForDrawing(_this._coordinateToPoint(overlay, event));\n                    (_a = overlay.onDrawing) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ overlay: overlay, figureKey: key, figureIndex: index }, event));\n                    overlay.nextStep();\n                    if (!overlay.isDrawing()) {\n                        overlayStore.progressInstanceComplete();\n                        (_b = overlay.onDrawEnd) === null || _b === void 0 ? void 0 : _b.call(overlay, __assign({ overlay: overlay, figureKey: key, figureIndex: index }, event));\n                    }\n                }\n                return _this._figureMouseClickEvent(overlay, 1 /* EventOverlayInfoFigureType.Point */, key, index, 0)(event);\n            }\n            overlayStore.setClickInstanceInfo({\n                paneId: paneId,\n                instance: null, figureType: 0 /* EventOverlayInfoFigureType.None */, figureKey: '', figureIndex: -1, attrsIndex: -1\n            }, event);\n            return false;\n        }).registerEvent('mouseDoubleClickEvent', function (event) {\n            var _a;\n            var progressInstanceInfo = overlayStore.getProgressInstanceInfo();\n            if (progressInstanceInfo !== null) {\n                var overlay = progressInstanceInfo.instance;\n                var progressInstancePaneId = progressInstanceInfo.paneId;\n                if (overlay.isDrawing() && progressInstancePaneId === paneId) {\n                    overlay.forceComplete();\n                    if (!overlay.isDrawing()) {\n                        overlayStore.progressInstanceComplete();\n                        var index_1 = overlay.points.length - 1;\n                        var key = \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index_1);\n                        (_a = overlay.onDrawEnd) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ overlay: overlay, figureKey: key, figureIndex: index_1 }, event));\n                    }\n                }\n                var index = overlay.points.length - 1;\n                return _this._figureMouseClickEvent(overlay, 1 /* EventOverlayInfoFigureType.Point */, \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index), index, 0)(event);\n            }\n            return false;\n        }).registerEvent('mouseRightClickEvent', function (event) {\n            var progressInstanceInfo = overlayStore.getProgressInstanceInfo();\n            if (progressInstanceInfo !== null) {\n                var overlay = progressInstanceInfo.instance;\n                if (overlay.isDrawing()) {\n                    var index = overlay.points.length - 1;\n                    return _this._figureMouseRightClickEvent(overlay, 1 /* EventOverlayInfoFigureType.Point */, \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index), index, 0)(event);\n                }\n            }\n            return false;\n        }).registerEvent('mouseUpEvent', function (event) {\n            var _a;\n            var _b = overlayStore.getPressedInstanceInfo(), instance = _b.instance, figureIndex = _b.figureIndex, figureKey = _b.figureKey;\n            if (instance !== null) {\n                (_a = instance.onPressedMoveEnd) === null || _a === void 0 ? void 0 : _a.call(instance, __assign({ overlay: instance, figureKey: figureKey, figureIndex: figureIndex }, event));\n            }\n            overlayStore.setPressedInstanceInfo({\n                paneId: paneId,\n                instance: null, figureType: 0 /* EventOverlayInfoFigureType.None */, figureKey: '', figureIndex: -1, attrsIndex: -1\n            });\n            return false;\n        }).registerEvent('pressedMouseMoveEvent', function (event) {\n            var _a, _b;\n            var _c = overlayStore.getPressedInstanceInfo(), instance = _c.instance, figureType = _c.figureType, figureIndex = _c.figureIndex, figureKey = _c.figureKey;\n            if (instance !== null) {\n                if (!instance.lock) {\n                    if (!((_b = (_a = instance.onPressedMoving) === null || _a === void 0 ? void 0 : _a.call(instance, __assign({ overlay: instance, figureIndex: figureIndex, figureKey: figureKey }, event))) !== null && _b !== void 0 ? _b : false)) {\n                        var point = _this._coordinateToPoint(instance, event);\n                        if (figureType === 1 /* EventOverlayInfoFigureType.Point */) {\n                            instance.eventPressedPointMove(point, figureIndex);\n                        }\n                        else {\n                            instance.eventPressedOtherMove(point, _this.getWidget().getPane().getChart().getChartStore().getTimeScaleStore());\n                        }\n                    }\n                }\n                return true;\n            }\n            return false;\n        });\n    };\n    OverlayView.prototype._createFigureEvents = function (overlay, figureType, figureKey, figureIndex, attrsIndex, ignoreEvent) {\n        var eventHandler;\n        if (!overlay.isDrawing()) {\n            var eventTypes = [];\n            if (isValid(ignoreEvent)) {\n                if (isBoolean(ignoreEvent)) {\n                    if (ignoreEvent) {\n                        eventTypes = getAllOverlayFigureIgnoreEventTypes();\n                    }\n                }\n                else {\n                    eventTypes = ignoreEvent;\n                }\n            }\n            if (eventTypes.length === 0) {\n                return {\n                    mouseMoveEvent: this._figureMouseMoveEvent(overlay, figureType, figureKey, figureIndex, attrsIndex),\n                    mouseDownEvent: this._figureMouseDownEvent(overlay, figureType, figureKey, figureIndex, attrsIndex),\n                    mouseClickEvent: this._figureMouseClickEvent(overlay, figureType, figureKey, figureIndex, attrsIndex),\n                    mouseRightClickEvent: this._figureMouseRightClickEvent(overlay, figureType, figureKey, figureIndex, attrsIndex),\n                    mouseDoubleClickEvent: this._figureMouseDoubleClickEvent(overlay, figureType, figureKey, figureIndex, attrsIndex)\n                };\n            }\n            eventHandler = {};\n            // [\n            //   'mouseClickEvent', mouseDoubleClickEvent, 'mouseRightClickEvent',\n            //   'tapEvent', 'doubleTapEvent', 'mouseDownEvent',\n            //   'touchStartEvent', 'mouseMoveEvent', 'touchMoveEvent'\n            // ]\n            if (!eventTypes.includes('mouseMoveEvent') && !eventTypes.includes('touchMoveEvent')) {\n                eventHandler.mouseMoveEvent = this._figureMouseMoveEvent(overlay, figureType, figureKey, figureIndex, attrsIndex);\n            }\n            if (!eventTypes.includes('mouseDownEvent') && !eventTypes.includes('touchStartEvent')) {\n                eventHandler.mouseDownEvent = this._figureMouseDownEvent(overlay, figureType, figureKey, figureIndex, attrsIndex);\n            }\n            if (!eventTypes.includes('mouseClickEvent') && !eventTypes.includes('tapEvent')) {\n                eventHandler.mouseClickEvent = this._figureMouseClickEvent(overlay, figureType, figureKey, figureIndex, attrsIndex);\n            }\n            if (!eventTypes.includes('mouseDoubleClickEvent') && !eventTypes.includes('doubleTapEvent')) {\n                eventHandler.mouseDoubleClickEvent = this._figureMouseDoubleClickEvent(overlay, figureType, figureKey, figureIndex, attrsIndex);\n            }\n            if (!eventTypes.includes('mouseRightClickEvent')) {\n                eventHandler.mouseRightClickEvent = this._figureMouseRightClickEvent(overlay, figureType, figureKey, figureIndex, attrsIndex);\n            }\n        }\n        return eventHandler;\n    };\n    OverlayView.prototype._figureMouseMoveEvent = function (overlay, figureType, figureKey, figureIndex, attrsIndex) {\n        var _this = this;\n        return function (event) {\n            var pane = _this.getWidget().getPane();\n            var overlayStore = pane.getChart().getChartStore().getOverlayStore();\n            overlayStore.setHoverInstanceInfo({ paneId: pane.getId(), instance: overlay, figureType: figureType, figureKey: figureKey, figureIndex: figureIndex, attrsIndex: attrsIndex }, event);\n            return true;\n        };\n    };\n    OverlayView.prototype._figureMouseDownEvent = function (overlay, figureType, figureKey, figureIndex, attrsIndex) {\n        var _this = this;\n        return function (event) {\n            var _a;\n            var pane = _this.getWidget().getPane();\n            var paneId = pane.getId();\n            var overlayStore = pane.getChart().getChartStore().getOverlayStore();\n            overlay.startPressedMove(_this._coordinateToPoint(overlay, event));\n            (_a = overlay.onPressedMoveStart) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ overlay: overlay, figureIndex: figureIndex, figureKey: figureKey }, event));\n            overlayStore.setPressedInstanceInfo({ paneId: paneId, instance: overlay, figureType: figureType, figureKey: figureKey, figureIndex: figureIndex, attrsIndex: attrsIndex });\n            return true;\n        };\n    };\n    OverlayView.prototype._figureMouseClickEvent = function (overlay, figureType, figureKey, figureIndex, attrsIndex) {\n        var _this = this;\n        return function (event) {\n            var pane = _this.getWidget().getPane();\n            var paneId = pane.getId();\n            var overlayStore = pane.getChart().getChartStore().getOverlayStore();\n            overlayStore.setClickInstanceInfo({ paneId: paneId, instance: overlay, figureType: figureType, figureKey: figureKey, figureIndex: figureIndex, attrsIndex: attrsIndex }, event);\n            return true;\n        };\n    };\n    OverlayView.prototype._figureMouseDoubleClickEvent = function (overlay, _figureType, figureKey, figureIndex, _attrsIndex) {\n        return function (event) {\n            var _a;\n            (_a = overlay.onDoubleClick) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign(__assign({}, event), { figureIndex: figureIndex, figureKey: figureKey, overlay: overlay }));\n            return true;\n        };\n    };\n    OverlayView.prototype._figureMouseRightClickEvent = function (overlay, _figureType, figureKey, figureIndex, _attrsIndex) {\n        var _this = this;\n        return function (event) {\n            var _a, _b;\n            if (!((_b = (_a = overlay.onRightClick) === null || _a === void 0 ? void 0 : _a.call(overlay, __assign({ overlay: overlay, figureIndex: figureIndex, figureKey: figureKey }, event))) !== null && _b !== void 0 ? _b : false)) {\n                var pane = _this.getWidget().getPane();\n                var overlayStore = pane.getChart().getChartStore().getOverlayStore();\n                overlayStore.removeInstance(overlay);\n            }\n            return true;\n        };\n    };\n    OverlayView.prototype._coordinateToPoint = function (overlay, coordinate) {\n        var _a;\n        var point = {};\n        var pane = this.getWidget().getPane();\n        var chart = pane.getChart();\n        var paneId = pane.getId();\n        var timeScaleStore = chart.getChartStore().getTimeScaleStore();\n        if (this.coordinateToPointTimestampDataIndexFlag()) {\n            var xAxis = chart.getXAxisPane().getAxisComponent();\n            var dataIndex = xAxis.convertFromPixel(coordinate.x);\n            var timestamp = (_a = timeScaleStore.dataIndexToTimestamp(dataIndex)) !== null && _a !== void 0 ? _a : undefined;\n            point.dataIndex = dataIndex;\n            point.timestamp = timestamp;\n        }\n        if (this.coordinateToPointValueFlag()) {\n            var yAxis = pane.getAxisComponent();\n            var value = yAxis.convertFromPixel(coordinate.y);\n            if (overlay.mode !== OverlayMode.Normal && paneId === PaneIdConstants.CANDLE && isNumber(point.dataIndex)) {\n                var kLineData = timeScaleStore.getDataByDataIndex(point.dataIndex);\n                if (kLineData !== null) {\n                    var modeSensitivity = overlay.modeSensitivity;\n                    if (value > kLineData.high) {\n                        if (overlay.mode === OverlayMode.WeakMagnet) {\n                            var highY = yAxis.convertToPixel(kLineData.high);\n                            var buffValue = yAxis.convertFromPixel(highY - modeSensitivity);\n                            if (value < buffValue) {\n                                value = kLineData.high;\n                            }\n                        }\n                        else {\n                            value = kLineData.high;\n                        }\n                    }\n                    else if (value < kLineData.low) {\n                        if (overlay.mode === OverlayMode.WeakMagnet) {\n                            var lowY = yAxis.convertToPixel(kLineData.low);\n                            var buffValue = yAxis.convertFromPixel(lowY - modeSensitivity);\n                            if (value > buffValue) {\n                                value = kLineData.low;\n                            }\n                        }\n                        else {\n                            value = kLineData.low;\n                        }\n                    }\n                    else {\n                        var max = Math.max(kLineData.open, kLineData.close);\n                        var min = Math.min(kLineData.open, kLineData.close);\n                        if (value > max) {\n                            if (value - max < kLineData.high - value) {\n                                value = max;\n                            }\n                            else {\n                                value = kLineData.high;\n                            }\n                        }\n                        else if (value < min) {\n                            if (value - kLineData.low < min - value) {\n                                value = kLineData.low;\n                            }\n                            else {\n                                value = min;\n                            }\n                        }\n                        else if (max - value < value - min) {\n                            value = max;\n                        }\n                        else {\n                            value = min;\n                        }\n                    }\n                }\n            }\n            point.value = value;\n        }\n        return point;\n    };\n    OverlayView.prototype.coordinateToPointValueFlag = function () {\n        return true;\n    };\n    OverlayView.prototype.coordinateToPointTimestampDataIndexFlag = function () {\n        return true;\n    };\n    OverlayView.prototype.dispatchEvent = function (name, event, other) {\n        if (this.getWidget().getPane().getChart().getChartStore().getOverlayStore().isDrawing()) {\n            return this.onEvent(name, event, other);\n        }\n        return _super.prototype.dispatchEvent.call(this, name, event, other);\n    };\n    OverlayView.prototype.checkEventOn = function () {\n        return true;\n    };\n    OverlayView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var paneId = pane.getId();\n        var chart = pane.getChart();\n        var yAxis = pane.getAxisComponent();\n        var xAxis = chart.getXAxisPane().getAxisComponent();\n        var bounding = widget.getBounding();\n        var chartStore = chart.getChartStore();\n        var customApi = chartStore.getCustomApi();\n        var thousandsSeparator = chartStore.getThousandsSeparator();\n        var decimalFoldThreshold = chartStore.getDecimalFoldThreshold();\n        var timeScaleStore = chartStore.getTimeScaleStore();\n        var dateTimeFormat = timeScaleStore.getDateTimeFormat();\n        var barSpace = timeScaleStore.getBarSpace();\n        var precision = chartStore.getPrecision();\n        var defaultStyles = chartStore.getStyles().overlay;\n        var overlayStore = chartStore.getOverlayStore();\n        var hoverInstanceInfo = overlayStore.getHoverInstanceInfo();\n        var clickInstanceInfo = overlayStore.getClickInstanceInfo();\n        var overlays = this.getCompleteOverlays(overlayStore, paneId);\n        var paneIndicators = chartStore.getIndicatorStore().getInstances(paneId);\n        var overlayPrecision = paneIndicators.reduce(function (prev, indicator) {\n            var precision = indicator.precision;\n            prev[indicator.name] = precision;\n            prev.max = Math.max(prev.max, precision);\n            prev.min = Math.min(prev.min, precision);\n            prev.excludePriceVolumeMax = Math.max(prev.excludePriceVolumeMax, precision);\n            prev.excludePriceVolumeMin = Math.min(prev.excludePriceVolumeMin, precision);\n            return prev;\n        }, __assign(__assign({}, precision), { max: Math.max(precision.price, precision.volume), min: Math.min(precision.price, precision.volume), excludePriceVolumeMax: Number.MIN_SAFE_INTEGER, excludePriceVolumeMin: Number.MAX_SAFE_INTEGER }));\n        overlays.forEach(function (overlay) {\n            if (overlay.visible) {\n                _this._drawOverlay(ctx, overlay, bounding, barSpace, overlayPrecision, dateTimeFormat, customApi, thousandsSeparator, decimalFoldThreshold, defaultStyles, xAxis, yAxis, hoverInstanceInfo, clickInstanceInfo, timeScaleStore);\n            }\n        });\n        var progressInstanceInfo = overlayStore.getProgressInstanceInfo();\n        if (progressInstanceInfo !== null) {\n            var overlay = this.getProgressOverlay(progressInstanceInfo, paneId);\n            // eslint-disable-next-line @typescript-eslint/prefer-optional-chain\n            if (overlay !== null && overlay.visible) {\n                this._drawOverlay(ctx, overlay, bounding, barSpace, overlayPrecision, dateTimeFormat, customApi, thousandsSeparator, decimalFoldThreshold, defaultStyles, xAxis, yAxis, hoverInstanceInfo, clickInstanceInfo, timeScaleStore);\n            }\n        }\n    };\n    OverlayView.prototype._drawOverlay = function (ctx, overlay, bounding, barSpace, precision, dateTimeFormat, customApi, thousandsSeparator, decimalFoldThreshold, defaultStyles, xAxis, yAxis, hoverInstanceInfo, clickInstanceInfo, timeScaleStore) {\n        var points = overlay.points;\n        var coordinates = points.map(function (point) {\n            var _a, _b;\n            var dataIndex = point.dataIndex;\n            if (isNumber(point.timestamp)) {\n                dataIndex = timeScaleStore.timestampToDataIndex(point.timestamp);\n            }\n            var coordinate = { x: 0, y: 0 };\n            if (isNumber(dataIndex)) {\n                coordinate.x = (_a = xAxis === null || xAxis === void 0 ? void 0 : xAxis.convertToPixel(dataIndex)) !== null && _a !== void 0 ? _a : 0;\n            }\n            if (isNumber(point.value)) {\n                coordinate.y = (_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.convertToPixel(point.value)) !== null && _b !== void 0 ? _b : 0;\n            }\n            return coordinate;\n        });\n        if (coordinates.length > 0) {\n            var figures = new Array().concat(this.getFigures(overlay, coordinates, bounding, barSpace, precision, thousandsSeparator, decimalFoldThreshold, dateTimeFormat, defaultStyles, xAxis, yAxis));\n            this.drawFigures(ctx, overlay, figures, defaultStyles);\n        }\n        this.drawDefaultFigures(ctx, overlay, coordinates, bounding, precision, dateTimeFormat, customApi, thousandsSeparator, decimalFoldThreshold, defaultStyles, xAxis, yAxis, hoverInstanceInfo, clickInstanceInfo);\n    };\n    OverlayView.prototype.drawFigures = function (ctx, overlay, figures, defaultStyles) {\n        var _this = this;\n        figures.forEach(function (figure, figureIndex) {\n            var type = figure.type, styles = figure.styles, attrs = figure.attrs, ignoreEvent = figure.ignoreEvent;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            var attrsArray = [].concat(attrs);\n            attrsArray.forEach(function (ats, attrsIndex) {\n                var _a, _b, _c;\n                var events = _this._createFigureEvents(overlay, 2 /* EventOverlayInfoFigureType.Other */, (_a = figure.key) !== null && _a !== void 0 ? _a : '', figureIndex, attrsIndex, ignoreEvent);\n                var ss = __assign(__assign(__assign({}, defaultStyles[type]), (_b = overlay.styles) === null || _b === void 0 ? void 0 : _b[type]), styles);\n                (_c = _this.createFigure({\n                    name: type, attrs: ats, styles: ss\n                }, events)) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n            });\n        });\n    };\n    OverlayView.prototype.getCompleteOverlays = function (overlayStore, paneId) {\n        return overlayStore.getInstances(paneId);\n    };\n    OverlayView.prototype.getProgressOverlay = function (info, paneId) {\n        if (info.paneId === paneId) {\n            return info.instance;\n        }\n        return null;\n    };\n    OverlayView.prototype.getFigures = function (overlay, coordinates, bounding, barSpace, precision, thousandsSeparator, decimalFoldThreshold, dateTimeFormat, defaultStyles, xAxis, yAxis) {\n        var _a, _b;\n        return (_b = (_a = overlay.createPointFigures) === null || _a === void 0 ? void 0 : _a.call(overlay, { overlay: overlay, coordinates: coordinates, bounding: bounding, barSpace: barSpace, precision: precision, thousandsSeparator: thousandsSeparator, decimalFoldThreshold: decimalFoldThreshold, dateTimeFormat: dateTimeFormat, defaultStyles: defaultStyles, xAxis: xAxis, yAxis: yAxis })) !== null && _b !== void 0 ? _b : [];\n    };\n    OverlayView.prototype.drawDefaultFigures = function (ctx, overlay, coordinates, _bounding, _precision, _dateTimeFormat, _customApi, _thousandsSeparator, _drawDefaultFigures, defaultStyles, _xAxis, _yAxis, hoverInstanceInfo, clickInstanceInfo) {\n        var _this = this;\n        var _a, _b;\n        if (overlay.needDefaultPointFigure) {\n            if ((((_a = hoverInstanceInfo.instance) === null || _a === void 0 ? void 0 : _a.id) === overlay.id && hoverInstanceInfo.figureType !== 0 /* EventOverlayInfoFigureType.None */) ||\n                (((_b = clickInstanceInfo.instance) === null || _b === void 0 ? void 0 : _b.id) === overlay.id && clickInstanceInfo.figureType !== 0 /* EventOverlayInfoFigureType.None */)) {\n                var styles = overlay.styles;\n                var pointStyles_1 = __assign(__assign({}, defaultStyles.point), styles === null || styles === void 0 ? void 0 : styles.point);\n                coordinates.forEach(function (_a, index) {\n                    var _b, _c, _d;\n                    var x = _a.x, y = _a.y;\n                    var radius = pointStyles_1.radius;\n                    var color = pointStyles_1.color;\n                    var borderColor = pointStyles_1.borderColor;\n                    var borderSize = pointStyles_1.borderSize;\n                    if (((_b = hoverInstanceInfo.instance) === null || _b === void 0 ? void 0 : _b.id) === overlay.id &&\n                        hoverInstanceInfo.figureType === 1 /* EventOverlayInfoFigureType.Point */ &&\n                        hoverInstanceInfo.figureIndex === index) {\n                        radius = pointStyles_1.activeRadius;\n                        color = pointStyles_1.activeColor;\n                        borderColor = pointStyles_1.activeBorderColor;\n                        borderSize = pointStyles_1.activeBorderSize;\n                    }\n                    (_c = _this.createFigure({\n                        name: 'circle',\n                        attrs: { x: x, y: y, r: radius + borderSize },\n                        styles: { color: borderColor }\n                    }, _this._createFigureEvents(overlay, 1 /* EventOverlayInfoFigureType.Point */, \"\".concat(OVERLAY_FIGURE_KEY_PREFIX, \"point_\").concat(index), index, 0))) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n                    (_d = _this.createFigure({\n                        name: 'circle',\n                        attrs: { x: x, y: y, r: radius },\n                        styles: { color: color }\n                    })) === null || _d === void 0 ? void 0 : _d.draw(ctx);\n                });\n            }\n        }\n    };\n    return OverlayView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorWidget = /** @class */ (function (_super) {\n    __extends(IndicatorWidget, _super);\n    function IndicatorWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._gridView = new GridView(_this);\n        _this._indicatorView = new IndicatorView(_this);\n        _this._crosshairLineView = new CrosshairLineView(_this);\n        _this._tooltipView = _this.createTooltipView();\n        _this._overlayView = new OverlayView(_this);\n        _this.addChild(_this._tooltipView);\n        _this.addChild(_this._overlayView);\n        _this.getContainer().style.cursor = 'crosshair';\n        _this.registerEvent('mouseMoveEvent', function () {\n            pane.getChart().getChartStore().getTooltipStore().setActiveIcon();\n            return false;\n        });\n        return _this;\n    }\n    IndicatorWidget.prototype.getName = function () {\n        return WidgetNameConstants.MAIN;\n    };\n    IndicatorWidget.prototype.updateMain = function (ctx) {\n        this.updateMainContent(ctx);\n        this._indicatorView.draw(ctx);\n        this._gridView.draw(ctx);\n    };\n    IndicatorWidget.prototype.createTooltipView = function () {\n        return new IndicatorTooltipView(this);\n    };\n    IndicatorWidget.prototype.updateMainContent = function (_ctx) { };\n    IndicatorWidget.prototype.updateOverlay = function (ctx) {\n        this._overlayView.draw(ctx);\n        this._crosshairLineView.draw(ctx);\n        this._tooltipView.draw(ctx);\n    };\n    return IndicatorWidget;\n}(DrawWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleAreaView = /** @class */ (function (_super) {\n    __extends(CandleAreaView, _super);\n    function CandleAreaView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._ripplePoint = _this.createFigure({\n            name: 'circle',\n            attrs: {\n                x: 0,\n                y: 0,\n                r: 0\n            },\n            styles: {\n                style: 'fill'\n            }\n        });\n        _this._animationFrameTime = 0;\n        _this._animation = new Animation({ iterationCount: Infinity }).doFrame(function (time) {\n            _this._animationFrameTime = time;\n            var pane = _this.getWidget().getPane();\n            pane.getChart().updatePane(0 /* UpdateLevel.Main */, pane.getId());\n        });\n        return _this;\n    }\n    CandleAreaView.prototype.drawImp = function (ctx) {\n        var _a, _b, _c;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chart = pane.getChart();\n        var dataList = chart.getDataList();\n        var lastDataIndex = dataList.length - 1;\n        var bounding = widget.getBounding();\n        var yAxis = pane.getAxisComponent();\n        var styles = chart.getStyles().candle.area;\n        var coordinates = [];\n        var minY = Number.MAX_SAFE_INTEGER;\n        var areaStartX = Number.MIN_SAFE_INTEGER;\n        var ripplePointCoordinate = null;\n        this.eachChildren(function (data) {\n            var kLineData = data.data, x = data.x;\n            var value = kLineData === null || kLineData === void 0 ? void 0 : kLineData[styles.value];\n            if (isNumber(value)) {\n                var y = yAxis.convertToPixel(value);\n                if (areaStartX === Number.MIN_SAFE_INTEGER) {\n                    areaStartX = x;\n                }\n                coordinates.push({ x: x, y: y });\n                minY = Math.min(minY, y);\n                if (data.dataIndex === lastDataIndex) {\n                    ripplePointCoordinate = { x: x, y: y };\n                }\n            }\n        });\n        if (coordinates.length > 0) {\n            (_a = this.createFigure({\n                name: 'line',\n                attrs: { coordinates: coordinates },\n                styles: {\n                    color: styles.lineColor,\n                    size: styles.lineSize,\n                    smooth: styles.smooth\n                }\n            })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            // render area\n            var backgroundColor = styles.backgroundColor;\n            var color = void 0;\n            if (isArray(backgroundColor)) {\n                var gradient_1 = ctx.createLinearGradient(0, bounding.height, 0, minY);\n                try {\n                    backgroundColor.forEach(function (_a) {\n                        var offset = _a.offset, color = _a.color;\n                        gradient_1.addColorStop(offset, color);\n                    });\n                }\n                catch (e) {\n                }\n                color = gradient_1;\n            }\n            else {\n                color = backgroundColor;\n            }\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            ctx.moveTo(areaStartX, bounding.height);\n            ctx.lineTo(coordinates[0].x, coordinates[0].y);\n            lineTo(ctx, coordinates, styles.smooth);\n            ctx.lineTo(coordinates[coordinates.length - 1].x, bounding.height);\n            ctx.closePath();\n            ctx.fill();\n        }\n        var pointStyles = styles.point;\n        if (pointStyles.show && isValid(ripplePointCoordinate)) {\n            (_b = this.createFigure({\n                name: 'circle',\n                attrs: {\n                    x: ripplePointCoordinate.x,\n                    y: ripplePointCoordinate.y,\n                    r: pointStyles.radius\n                },\n                styles: {\n                    style: 'fill',\n                    color: pointStyles.color\n                }\n            })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n            var rippleRadius = pointStyles.rippleRadius;\n            if (pointStyles.animation) {\n                rippleRadius = pointStyles.radius + this._animationFrameTime / pointStyles.animationDuration * (pointStyles.rippleRadius - pointStyles.radius);\n                this._animation.setDuration(pointStyles.animationDuration).start();\n            }\n            (_c = this._ripplePoint) === null || _c === void 0 ? void 0 : _c.setAttrs({\n                x: ripplePointCoordinate.x,\n                y: ripplePointCoordinate.y,\n                r: rippleRadius\n            }).setStyles({ style: 'fill', color: pointStyles.rippleColor }).draw(ctx);\n        }\n        else {\n            this.stopAnimation();\n        }\n    };\n    CandleAreaView.prototype.stopAnimation = function () {\n        this._animation.stop();\n    };\n    return CandleAreaView;\n}(ChildrenView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleHighLowPriceView = /** @class */ (function (_super) {\n    __extends(CandleHighLowPriceView, _super);\n    function CandleHighLowPriceView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleHighLowPriceView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var chartStore = pane.getChart().getChartStore();\n        var priceMarkStyles = chartStore.getStyles().candle.priceMark;\n        var highPriceMarkStyles = priceMarkStyles.high;\n        var lowPriceMarkStyles = priceMarkStyles.low;\n        if (priceMarkStyles.show && (highPriceMarkStyles.show || lowPriceMarkStyles.show)) {\n            var thousandsSeparator = chartStore.getThousandsSeparator();\n            var decimalFoldThreshold = chartStore.getDecimalFoldThreshold();\n            var precision = chartStore.getPrecision();\n            var yAxis = pane.getAxisComponent();\n            var high_1 = Number.MIN_SAFE_INTEGER;\n            var highX_1 = 0;\n            var low_1 = Number.MAX_SAFE_INTEGER;\n            var lowX_1 = 0;\n            this.eachChildren(function (data) {\n                var kLineData = data.data, x = data.x;\n                if (isValid(kLineData)) {\n                    if (high_1 < kLineData.high) {\n                        high_1 = kLineData.high;\n                        highX_1 = x;\n                    }\n                    if (low_1 > kLineData.low) {\n                        low_1 = kLineData.low;\n                        lowX_1 = x;\n                    }\n                }\n            });\n            var highY = yAxis.convertToPixel(high_1);\n            var lowY = yAxis.convertToPixel(low_1);\n            if (highPriceMarkStyles.show && high_1 !== Number.MIN_SAFE_INTEGER) {\n                this._drawMark(ctx, formatFoldDecimal(formatThousands(formatPrecision(high_1, precision.price), thousandsSeparator), decimalFoldThreshold), { x: highX_1, y: highY }, highY < lowY ? [-2, -5] : [2, 5], highPriceMarkStyles);\n            }\n            if (lowPriceMarkStyles.show && low_1 !== Number.MAX_SAFE_INTEGER) {\n                this._drawMark(ctx, formatFoldDecimal(formatThousands(formatPrecision(low_1, precision.price), thousandsSeparator), decimalFoldThreshold), { x: lowX_1, y: lowY }, highY < lowY ? [2, 5] : [-2, -5], lowPriceMarkStyles);\n            }\n        }\n    };\n    CandleHighLowPriceView.prototype._drawMark = function (ctx, text, coordinate, offsets, styles) {\n        var _a, _b, _c;\n        var startX = coordinate.x;\n        var startY = coordinate.y + offsets[0];\n        (_a = this.createFigure({\n            name: 'line',\n            attrs: {\n                coordinates: [\n                    { x: startX - 2, y: startY + offsets[0] },\n                    { x: startX, y: startY },\n                    { x: startX + 2, y: startY + offsets[0] }\n                ]\n            },\n            styles: { color: styles.color }\n        })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n        var lineEndX;\n        var textStartX;\n        var textAlign;\n        var width = this.getWidget().getBounding().width;\n        if (startX > width / 2) {\n            lineEndX = startX - 5;\n            textStartX = lineEndX - styles.textOffset;\n            textAlign = 'right';\n        }\n        else {\n            lineEndX = startX + 5;\n            textAlign = 'left';\n            textStartX = lineEndX + styles.textOffset;\n        }\n        var y = startY + offsets[1];\n        (_b = this.createFigure({\n            name: 'line',\n            attrs: {\n                coordinates: [\n                    { x: startX, y: startY },\n                    { x: startX, y: y },\n                    { x: lineEndX, y: y }\n                ]\n            },\n            styles: { color: styles.color }\n        })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n        (_c = this.createFigure({\n            name: 'text',\n            attrs: {\n                x: textStartX,\n                y: y,\n                text: text,\n                align: textAlign,\n                baseline: 'middle'\n            },\n            styles: {\n                color: styles.color,\n                size: styles.textSize,\n                family: styles.textFamily,\n                weight: styles.textWeight\n            }\n        })) === null || _c === void 0 ? void 0 : _c.draw(ctx);\n    };\n    return CandleHighLowPriceView;\n}(ChildrenView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleLastPriceView = /** @class */ (function (_super) {\n    __extends(CandleLastPriceView, _super);\n    function CandleLastPriceView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleLastPriceView.prototype.drawImp = function (ctx) {\n        var _a;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = pane.getChart().getChartStore();\n        var priceMarkStyles = chartStore.getStyles().candle.priceMark;\n        var lastPriceMarkStyles = priceMarkStyles.last;\n        var lastPriceMarkLineStyles = lastPriceMarkStyles.line;\n        if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkLineStyles.show) {\n            var yAxis = pane.getAxisComponent();\n            var dataList = chartStore.getDataList();\n            var data = dataList[dataList.length - 1];\n            if (data != null) {\n                var close_1 = data.close, open_1 = data.open;\n                var priceY = yAxis.convertToNicePixel(close_1);\n                var color = void 0;\n                if (close_1 > open_1) {\n                    color = lastPriceMarkStyles.upColor;\n                }\n                else if (close_1 < open_1) {\n                    color = lastPriceMarkStyles.downColor;\n                }\n                else {\n                    color = lastPriceMarkStyles.noChangeColor;\n                }\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: {\n                        coordinates: [\n                            { x: 0, y: priceY },\n                            { x: bounding.width, y: priceY }\n                        ]\n                    },\n                    styles: {\n                        style: lastPriceMarkLineStyles.style,\n                        color: color,\n                        size: lastPriceMarkLineStyles.size,\n                        dashedValue: lastPriceMarkLineStyles.dashedValue\n                    }\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n        }\n    };\n    return CandleLastPriceView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar zhCN = {\n    time: 'æ—¶é—´ï¼š',\n    open: 'å¼€ï¼š',\n    high: 'é«˜ï¼š',\n    low: 'ä½Žï¼š',\n    close: 'æ”¶ï¼š',\n    volume: 'æˆäº¤é‡ï¼š',\n    turnover: 'æˆäº¤é¢ï¼š',\n    change: 'æ¶¨å¹…ï¼š'\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar enUS = {\n    time: 'Time: ',\n    open: 'Open: ',\n    high: 'High: ',\n    low: 'Low: ',\n    close: 'Close: ',\n    volume: 'Volume: ',\n    turnover: 'Turnover: ',\n    change: 'Change: '\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar locales = {\n    'zh-CN': zhCN,\n    'en-US': enUS\n};\nfunction registerLocale(locale, ls) {\n    locales[locale] = __assign(__assign({}, locales[locale]), ls);\n}\nfunction getSupportedLocales() {\n    return Object.keys(locales);\n}\nfunction i18n(key, locale) {\n    var _a, _b;\n    return (_b = (_a = locales[locale]) === null || _a === void 0 ? void 0 : _a[key]) !== null && _b !== void 0 ? _b : key;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleTooltipView = /** @class */ (function (_super) {\n    __extends(CandleTooltipView, _super);\n    function CandleTooltipView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleTooltipView.prototype.drawImp = function (ctx) {\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var paneId = pane.getId();\n        var chartStore = pane.getChart().getChartStore();\n        var crosshair = chartStore.getTooltipStore().getCrosshair();\n        if (isValid(crosshair.kLineData)) {\n            var bounding = widget.getBounding();\n            var yAxisBounding = pane.getYAxisWidget().getBounding();\n            var dataList = chartStore.getDataList();\n            var precision = chartStore.getPrecision();\n            var locale = chartStore.getLocale();\n            var customApi = chartStore.getCustomApi();\n            var thousandsSeparator = chartStore.getThousandsSeparator();\n            var decimalFoldThreshold = chartStore.getDecimalFoldThreshold();\n            var activeIcon = chartStore.getTooltipStore().getActiveIcon();\n            var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n            var dateTimeFormat = chartStore.getTimeScaleStore().getDateTimeFormat();\n            var styles = chartStore.getStyles();\n            var candleStyles = styles.candle;\n            var indicatorStyles = styles.indicator;\n            if (candleStyles.tooltip.showType === TooltipShowType.Rect &&\n                indicatorStyles.tooltip.showType === TooltipShowType.Rect) {\n                var isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip);\n                var isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip);\n                this._drawRectTooltip(ctx, dataList, indicators, bounding, yAxisBounding, crosshair, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, isDrawCandleTooltip, isDrawIndicatorTooltip, candleStyles.tooltip.offsetTop, styles);\n            }\n            else if (candleStyles.tooltip.showType === TooltipShowType.Standard &&\n                indicatorStyles.tooltip.showType === TooltipShowType.Standard) {\n                var _a = candleStyles.tooltip, offsetLeft = _a.offsetLeft, offsetTop = _a.offsetTop, offsetRight = _a.offsetRight;\n                var maxWidth = bounding.width - offsetRight;\n                var top_1 = this._drawCandleStandardTooltip(ctx, dataList, paneId, crosshair, activeIcon, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, offsetLeft, offsetTop, maxWidth, candleStyles);\n                this.drawIndicatorTooltip(ctx, paneId, dataList, crosshair, activeIcon, indicators, customApi, thousandsSeparator, decimalFoldThreshold, offsetLeft, top_1, maxWidth, indicatorStyles);\n            }\n            else if (candleStyles.tooltip.showType === TooltipShowType.Rect &&\n                indicatorStyles.tooltip.showType === TooltipShowType.Standard) {\n                var _b = candleStyles.tooltip, offsetLeft = _b.offsetLeft, offsetTop = _b.offsetTop, offsetRight = _b.offsetRight;\n                var maxWidth = bounding.width - offsetRight;\n                var top_2 = this.drawIndicatorTooltip(ctx, paneId, dataList, crosshair, activeIcon, indicators, customApi, thousandsSeparator, decimalFoldThreshold, offsetLeft, offsetTop, maxWidth, indicatorStyles);\n                var isDrawCandleTooltip = this.isDrawTooltip(crosshair, candleStyles.tooltip);\n                this._drawRectTooltip(ctx, dataList, indicators, bounding, yAxisBounding, crosshair, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, isDrawCandleTooltip, false, top_2, styles);\n            }\n            else {\n                var _c = candleStyles.tooltip, offsetLeft = _c.offsetLeft, offsetTop = _c.offsetTop, offsetRight = _c.offsetRight;\n                var maxWidth = bounding.width - offsetRight;\n                var top_3 = this._drawCandleStandardTooltip(ctx, dataList, paneId, crosshair, activeIcon, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, offsetLeft, offsetTop, maxWidth, candleStyles);\n                var isDrawIndicatorTooltip = this.isDrawTooltip(crosshair, indicatorStyles.tooltip);\n                this._drawRectTooltip(ctx, dataList, indicators, bounding, yAxisBounding, crosshair, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, false, isDrawIndicatorTooltip, top_3, styles);\n            }\n        }\n    };\n    CandleTooltipView.prototype._drawCandleStandardTooltip = function (ctx, dataList, paneId, crosshair, activeTooltipIcon, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, left, top, maxWidth, styles) {\n        var _a, _b, _c;\n        var tooltipStyles = styles.tooltip;\n        var tooltipTextStyles = tooltipStyles.text;\n        var prevRowHeight = 0;\n        var coordinate = { x: left, y: top };\n        if (this.isDrawTooltip(crosshair, tooltipStyles)) {\n            var dataIndex = (_a = crosshair.dataIndex) !== null && _a !== void 0 ? _a : 0;\n            var legends = this._getCandleTooltipLegends({ prev: (_b = dataList[dataIndex - 1]) !== null && _b !== void 0 ? _b : null, current: crosshair.kLineData, next: (_c = dataList[dataIndex + 1]) !== null && _c !== void 0 ? _c : null }, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, styles);\n            var _d = __read(this.classifyTooltipIcons(tooltipStyles.icons), 3), leftIcons = _d[0], middleIcons = _d[1], rightIcons = _d[2];\n            prevRowHeight = this.drawStandardTooltipIcons(ctx, activeTooltipIcon, leftIcons, coordinate, paneId, '', left, prevRowHeight, maxWidth);\n            prevRowHeight = this.drawStandardTooltipIcons(ctx, activeTooltipIcon, middleIcons, coordinate, paneId, '', left, prevRowHeight, maxWidth);\n            if (legends.length > 0) {\n                prevRowHeight = this.drawStandardTooltipLegends(ctx, legends, coordinate, left, prevRowHeight, maxWidth, tooltipTextStyles);\n            }\n            prevRowHeight = this.drawStandardTooltipIcons(ctx, activeTooltipIcon, rightIcons, coordinate, paneId, '', left, prevRowHeight, maxWidth);\n        }\n        return coordinate.y + prevRowHeight;\n    };\n    CandleTooltipView.prototype._drawRectTooltip = function (ctx, dataList, indicators, bounding, yAxisBounding, crosshair, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, isDrawCandleTooltip, isDrawIndicatorTooltip, top, styles) {\n        var _this = this;\n        var _a, _b, _c, _d, _e;\n        var candleStyles = styles.candle;\n        var indicatorStyles = styles.indicator;\n        var candleTooltipStyles = candleStyles.tooltip;\n        var indicatorTooltipStyles = indicatorStyles.tooltip;\n        if (isDrawCandleTooltip || isDrawIndicatorTooltip) {\n            var dataIndex = (_a = crosshair.dataIndex) !== null && _a !== void 0 ? _a : 0;\n            var candleLegends = this._getCandleTooltipLegends({ prev: (_b = dataList[dataIndex - 1]) !== null && _b !== void 0 ? _b : null, current: crosshair.kLineData, next: (_c = dataList[dataIndex + 1]) !== null && _c !== void 0 ? _c : null }, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, candleStyles);\n            var offsetLeft = candleTooltipStyles.offsetLeft, offsetTop = candleTooltipStyles.offsetTop, offsetRight = candleTooltipStyles.offsetRight, offsetBottom = candleTooltipStyles.offsetBottom;\n            var _f = candleTooltipStyles.text, baseTextMarginLeft_1 = _f.marginLeft, baseTextMarginRight_1 = _f.marginRight, baseTextMarginTop_1 = _f.marginTop, baseTextMarginBottom_1 = _f.marginBottom, baseTextSize_1 = _f.size, baseTextWeight_1 = _f.weight, baseTextFamily_1 = _f.family;\n            var _g = candleTooltipStyles.rect, rectPosition = _g.position, rectPaddingLeft = _g.paddingLeft, rectPaddingRight_1 = _g.paddingRight, rectPaddingTop = _g.paddingTop, rectPaddingBottom = _g.paddingBottom, rectOffsetLeft = _g.offsetLeft, rectOffsetRight = _g.offsetRight, rectOffsetTop = _g.offsetTop, rectOffsetBottom = _g.offsetBottom, rectBorderSize_1 = _g.borderSize, rectBorderRadius = _g.borderRadius, rectBorderColor = _g.borderColor, rectBackgroundColor = _g.color;\n            var maxTextWidth_1 = 0;\n            var rectWidth_1 = 0;\n            var rectHeight_1 = 0;\n            if (isDrawCandleTooltip) {\n                ctx.font = createFont(baseTextSize_1, baseTextWeight_1, baseTextFamily_1);\n                candleLegends.forEach(function (data) {\n                    var title = data.title;\n                    var value = data.value;\n                    var text = \"\".concat(title.text).concat(value.text);\n                    var labelWidth = ctx.measureText(text).width + baseTextMarginLeft_1 + baseTextMarginRight_1;\n                    maxTextWidth_1 = Math.max(maxTextWidth_1, labelWidth);\n                });\n                rectHeight_1 += ((baseTextMarginBottom_1 + baseTextMarginTop_1 + baseTextSize_1) * candleLegends.length);\n            }\n            var _h = indicatorTooltipStyles.text, indicatorTextMarginLeft_1 = _h.marginLeft, indicatorTextMarginRight_1 = _h.marginRight, indicatorTextMarginTop_1 = _h.marginTop, indicatorTextMarginBottom_1 = _h.marginBottom, indicatorTextSize_1 = _h.size, indicatorTextWeight_1 = _h.weight, indicatorTextFamily_1 = _h.family;\n            var indicatorLegendsArray_1 = [];\n            if (isDrawIndicatorTooltip) {\n                ctx.font = createFont(indicatorTextSize_1, indicatorTextWeight_1, indicatorTextFamily_1);\n                indicators.forEach(function (indicator) {\n                    var _a;\n                    var tooltipDataValues = (_a = _this.getIndicatorTooltipData(dataList, crosshair, indicator, customApi, thousandsSeparator, decimalFoldThreshold, indicatorStyles).values) !== null && _a !== void 0 ? _a : [];\n                    indicatorLegendsArray_1.push(tooltipDataValues);\n                    tooltipDataValues.forEach(function (data) {\n                        var title = data.title;\n                        var value = data.value;\n                        var text = \"\".concat(title.text).concat(value.text);\n                        var textWidth = ctx.measureText(text).width + indicatorTextMarginLeft_1 + indicatorTextMarginRight_1;\n                        maxTextWidth_1 = Math.max(maxTextWidth_1, textWidth);\n                        rectHeight_1 += (indicatorTextMarginTop_1 + indicatorTextMarginBottom_1 + indicatorTextSize_1);\n                    });\n                });\n            }\n            rectWidth_1 += maxTextWidth_1;\n            if (rectWidth_1 !== 0 && rectHeight_1 !== 0) {\n                rectWidth_1 += (rectBorderSize_1 * 2 + rectPaddingLeft + rectPaddingRight_1);\n                rectHeight_1 += (rectBorderSize_1 * 2 + rectPaddingTop + rectPaddingBottom);\n                var centerX = bounding.width / 2;\n                var isPointer = rectPosition === CandleTooltipRectPosition.Pointer && crosshair.paneId === PaneIdConstants.CANDLE;\n                var isLeft = ((_d = crosshair.realX) !== null && _d !== void 0 ? _d : 0) > centerX;\n                var rectX_1 = 0;\n                if (isPointer) {\n                    var realX = crosshair.realX;\n                    if (isLeft) {\n                        rectX_1 = realX - rectOffsetRight - rectWidth_1;\n                    }\n                    else {\n                        rectX_1 = realX + rectOffsetLeft;\n                    }\n                }\n                else {\n                    if (isLeft) {\n                        rectX_1 = rectOffsetLeft + offsetLeft;\n                        if (styles.yAxis.inside && styles.yAxis.position === YAxisPosition.Left) {\n                            rectX_1 += yAxisBounding.width;\n                        }\n                    }\n                    else {\n                        rectX_1 = bounding.width - rectOffsetRight - rectWidth_1 - offsetRight;\n                        if (styles.yAxis.inside && styles.yAxis.position === YAxisPosition.Right) {\n                            rectX_1 -= yAxisBounding.width;\n                        }\n                    }\n                }\n                var rectY = top + rectOffsetTop;\n                if (isPointer) {\n                    var y = crosshair.y;\n                    rectY = y - rectHeight_1 / 2;\n                    if (rectY + rectHeight_1 > bounding.height - rectOffsetBottom - offsetBottom) {\n                        rectY = bounding.height - rectOffsetBottom - rectHeight_1 - offsetBottom;\n                    }\n                    if (rectY < top + rectOffsetTop) {\n                        rectY = top + rectOffsetTop + offsetTop;\n                    }\n                }\n                (_e = this.createFigure({\n                    name: 'rect',\n                    attrs: {\n                        x: rectX_1,\n                        y: rectY,\n                        width: rectWidth_1,\n                        height: rectHeight_1\n                    },\n                    styles: {\n                        style: PolygonType.StrokeFill,\n                        color: rectBackgroundColor,\n                        borderColor: rectBorderColor,\n                        borderSize: rectBorderSize_1,\n                        borderRadius: rectBorderRadius\n                    }\n                })) === null || _e === void 0 ? void 0 : _e.draw(ctx);\n                var candleTextX_1 = rectX_1 + rectBorderSize_1 + rectPaddingLeft + baseTextMarginLeft_1;\n                var textY_1 = rectY + rectBorderSize_1 + rectPaddingTop;\n                if (isDrawCandleTooltip) {\n                    // render candle texts\n                    candleLegends.forEach(function (data) {\n                        var _a, _b;\n                        textY_1 += baseTextMarginTop_1;\n                        var title = data.title;\n                        (_a = _this.createFigure({\n                            name: 'text',\n                            attrs: {\n                                x: candleTextX_1,\n                                y: textY_1,\n                                text: title.text\n                            },\n                            styles: {\n                                color: title.color,\n                                size: baseTextSize_1,\n                                family: baseTextFamily_1,\n                                weight: baseTextWeight_1\n                            }\n                        })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                        var value = data.value;\n                        (_b = _this.createFigure({\n                            name: 'text',\n                            attrs: {\n                                x: rectX_1 + rectWidth_1 - rectBorderSize_1 - baseTextMarginRight_1 - rectPaddingRight_1,\n                                y: textY_1,\n                                text: value.text,\n                                align: 'right'\n                            },\n                            styles: {\n                                color: value.color,\n                                size: baseTextSize_1,\n                                family: baseTextFamily_1,\n                                weight: baseTextWeight_1\n                            }\n                        })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                        textY_1 += (baseTextSize_1 + baseTextMarginBottom_1);\n                    });\n                }\n                if (isDrawIndicatorTooltip) {\n                    // render indicator texts\n                    var indicatorTextX_1 = rectX_1 + rectBorderSize_1 + rectPaddingLeft + indicatorTextMarginLeft_1;\n                    indicatorLegendsArray_1.forEach(function (legends) {\n                        legends.forEach(function (data) {\n                            var _a, _b;\n                            textY_1 += indicatorTextMarginTop_1;\n                            var title = data.title;\n                            var value = data.value;\n                            (_a = _this.createFigure({\n                                name: 'text',\n                                attrs: {\n                                    x: indicatorTextX_1,\n                                    y: textY_1,\n                                    text: title.text\n                                },\n                                styles: {\n                                    color: title.color,\n                                    size: indicatorTextSize_1,\n                                    family: indicatorTextFamily_1,\n                                    weight: indicatorTextWeight_1\n                                }\n                            })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                            (_b = _this.createFigure({\n                                name: 'text',\n                                attrs: {\n                                    x: rectX_1 + rectWidth_1 - rectBorderSize_1 - indicatorTextMarginRight_1 - rectPaddingRight_1,\n                                    y: textY_1,\n                                    text: value.text,\n                                    align: 'right'\n                                },\n                                styles: {\n                                    color: value.color,\n                                    size: indicatorTextSize_1,\n                                    family: indicatorTextFamily_1,\n                                    weight: indicatorTextWeight_1\n                                }\n                            })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n                            textY_1 += (indicatorTextSize_1 + indicatorTextMarginBottom_1);\n                        });\n                    });\n                }\n            }\n        }\n    };\n    CandleTooltipView.prototype._getCandleTooltipLegends = function (data, precision, dateTimeFormat, locale, customApi, thousandsSeparator, decimalFoldThreshold, styles) {\n        var _a, _b, _c, _d, _e;\n        var tooltipStyles = styles.tooltip;\n        var textColor = tooltipStyles.text.color;\n        var current = data.current;\n        var prevClose = (_b = (_a = data.prev) === null || _a === void 0 ? void 0 : _a.close) !== null && _b !== void 0 ? _b : current.close;\n        var changeValue = current.close - prevClose;\n        var pricePrecision = precision.price, volumePrecision = precision.volume;\n        var mapping = {\n            '{time}': customApi.formatDate(dateTimeFormat, current.timestamp, 'YYYY-MM-DD HH:mm', FormatDateType.Tooltip),\n            '{open}': formatFoldDecimal(formatThousands(formatPrecision(current.open, pricePrecision), thousandsSeparator), decimalFoldThreshold),\n            '{high}': formatFoldDecimal(formatThousands(formatPrecision(current.high, pricePrecision), thousandsSeparator), decimalFoldThreshold),\n            '{low}': formatFoldDecimal(formatThousands(formatPrecision(current.low, pricePrecision), thousandsSeparator), decimalFoldThreshold),\n            '{close}': formatFoldDecimal(formatThousands(formatPrecision(current.close, pricePrecision), thousandsSeparator), decimalFoldThreshold),\n            '{volume}': formatFoldDecimal(formatThousands(customApi.formatBigNumber(formatPrecision((_c = current.volume) !== null && _c !== void 0 ? _c : tooltipStyles.defaultValue, volumePrecision)), thousandsSeparator), decimalFoldThreshold),\n            '{turnover}': formatFoldDecimal(formatThousands(formatPrecision((_d = current.turnover) !== null && _d !== void 0 ? _d : tooltipStyles.defaultValue, pricePrecision), thousandsSeparator), decimalFoldThreshold),\n            '{change}': prevClose === 0 ? tooltipStyles.defaultValue : \"\".concat(formatThousands(formatPrecision(changeValue / prevClose * 100), thousandsSeparator), \"%\")\n        };\n        var legends = (_e = (isFunction(tooltipStyles.custom)\n            ? tooltipStyles.custom(data, styles)\n            : tooltipStyles.custom)) !== null && _e !== void 0 ? _e : [];\n        return legends.map(function (_a) {\n            var _b;\n            var title = _a.title, value = _a.value;\n            var t = { text: '', color: '' };\n            if (isObject(title)) {\n                t = __assign({}, title);\n            }\n            else {\n                t.text = title;\n                t.color = textColor;\n            }\n            t.text = i18n(t.text, locale);\n            var v = { text: tooltipStyles.defaultValue, color: '' };\n            if (isObject(value)) {\n                v = __assign({}, value);\n            }\n            else {\n                v.text = value;\n                v.color = textColor;\n            }\n            var match = v.text.match(/{(\\S*)}/);\n            if (match !== null && match.length > 1) {\n                var key = \"{\".concat(match[1], \"}\");\n                v.text = v.text.replace(key, ((_b = mapping[key]) !== null && _b !== void 0 ? _b : tooltipStyles.defaultValue));\n                if (key === '{change}') {\n                    v.color = changeValue === 0 ? styles.priceMark.last.noChangeColor : (changeValue > 0 ? styles.priceMark.last.upColor : styles.priceMark.last.downColor);\n                }\n            }\n            return { title: t, value: v };\n        });\n    };\n    return CandleTooltipView;\n}(IndicatorTooltipView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleWidget = /** @class */ (function (_super) {\n    __extends(CandleWidget, _super);\n    function CandleWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._candleBarView = new CandleBarView(_this);\n        _this._candleAreaView = new CandleAreaView(_this);\n        _this._candleHighLowPriceView = new CandleHighLowPriceView(_this);\n        _this._candleLastPriceLineView = new CandleLastPriceView(_this);\n        _this.addChild(_this._candleBarView);\n        return _this;\n    }\n    CandleWidget.prototype.updateMainContent = function (ctx) {\n        var candleStyles = this.getPane().getChart().getStyles().candle;\n        if (candleStyles.type !== CandleType.Area) {\n            this._candleBarView.draw(ctx);\n            this._candleHighLowPriceView.draw(ctx);\n            this._candleAreaView.stopAnimation();\n        }\n        else {\n            this._candleAreaView.draw(ctx);\n        }\n        this._candleLastPriceLineView.draw(ctx);\n    };\n    CandleWidget.prototype.createTooltipView = function () {\n        return new CandleTooltipView(this);\n    };\n    return CandleWidget;\n}(IndicatorWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar AxisView = /** @class */ (function (_super) {\n    __extends(AxisView, _super);\n    function AxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AxisView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var _a, _b;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var axis = pane.getAxisComponent();\n        var styles = this.getAxisStyles(pane.getChart().getStyles());\n        if (styles.show) {\n            if (styles.axisLine.show) {\n                (_a = this.createFigure({\n                    name: 'line',\n                    attrs: this.createAxisLine(bounding, styles),\n                    styles: styles.axisLine\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n            var ticks = axis.getTicks();\n            if (styles.tickLine.show) {\n                var lines = this.createTickLines(ticks, bounding, styles);\n                lines.forEach(function (line) {\n                    var _a;\n                    (_a = _this.createFigure({\n                        name: 'line',\n                        attrs: line,\n                        styles: styles.tickLine\n                    })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                });\n            }\n            if (styles.tickText.show) {\n                var texts = this.createTickTexts(ticks, bounding, styles);\n                (_b = this.createFigure({\n                    name: 'text',\n                    attrs: texts,\n                    styles: styles.tickText\n                })) === null || _b === void 0 ? void 0 : _b.draw(ctx);\n            }\n        }\n    };\n    return AxisView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar YAxisView = /** @class */ (function (_super) {\n    __extends(YAxisView, _super);\n    function YAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    YAxisView.prototype.getAxisStyles = function (styles) {\n        return styles.yAxis;\n    };\n    YAxisView.prototype.createAxisLine = function (bounding, styles) {\n        var yAxis = this.getWidget().getPane().getAxisComponent();\n        var size = styles.axisLine.size;\n        var x;\n        if (yAxis.isFromZero()) {\n            x = 0;\n        }\n        else {\n            x = bounding.width - size;\n        }\n        return {\n            coordinates: [\n                { x: x, y: 0 },\n                { x: x, y: bounding.height }\n            ]\n        };\n    };\n    YAxisView.prototype.createTickLines = function (ticks, bounding, styles) {\n        var yAxis = this.getWidget().getPane().getAxisComponent();\n        var axisLineStyles = styles.axisLine;\n        var tickLineStyles = styles.tickLine;\n        var startX = 0;\n        var endX = 0;\n        if (yAxis.isFromZero()) {\n            startX = 0;\n            if (axisLineStyles.show) {\n                startX += axisLineStyles.size;\n            }\n            endX = startX + tickLineStyles.length;\n        }\n        else {\n            startX = bounding.width;\n            if (axisLineStyles.show) {\n                startX -= axisLineStyles.size;\n            }\n            endX = startX - tickLineStyles.length;\n        }\n        return ticks.map(function (tick) { return ({\n            coordinates: [\n                { x: startX, y: tick.coord },\n                { x: endX, y: tick.coord }\n            ]\n        }); });\n    };\n    YAxisView.prototype.createTickTexts = function (ticks, bounding, styles) {\n        var yAxis = this.getWidget().getPane().getAxisComponent();\n        var axisLineStyles = styles.axisLine;\n        var tickLineStyles = styles.tickLine;\n        var tickTextStyles = styles.tickText;\n        var x = 0;\n        if (yAxis.isFromZero()) {\n            x = tickTextStyles.marginStart;\n            if (axisLineStyles.show) {\n                x += axisLineStyles.size;\n            }\n            if (tickLineStyles.show) {\n                x += tickLineStyles.length;\n            }\n        }\n        else {\n            x = bounding.width - tickTextStyles.marginEnd;\n            if (axisLineStyles.show) {\n                x -= axisLineStyles.size;\n            }\n            if (tickLineStyles.show) {\n                x -= tickLineStyles.length;\n            }\n        }\n        var textAlign = this.getWidget().getPane().getAxisComponent().isFromZero() ? 'left' : 'right';\n        return ticks.map(function (tick) { return ({\n            x: x,\n            y: tick.coord,\n            text: tick.text,\n            align: textAlign,\n            baseline: 'middle'\n        }); });\n    };\n    return YAxisView;\n}(AxisView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandleLastPriceLabelView = /** @class */ (function (_super) {\n    __extends(CandleLastPriceLabelView, _super);\n    function CandleLastPriceLabelView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandleLastPriceLabelView.prototype.drawImp = function (ctx) {\n        var _a;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = pane.getChart().getChartStore();\n        var priceMarkStyles = chartStore.getStyles().candle.priceMark;\n        var lastPriceMarkStyles = priceMarkStyles.last;\n        var lastPriceMarkTextStyles = lastPriceMarkStyles.text;\n        if (priceMarkStyles.show && lastPriceMarkStyles.show && lastPriceMarkTextStyles.show) {\n            var precision = chartStore.getPrecision();\n            var yAxis = pane.getAxisComponent();\n            var dataList = chartStore.getDataList();\n            var data = dataList[dataList.length - 1];\n            if (isValid(data)) {\n                var close_1 = data.close, open_1 = data.open;\n                var priceY = yAxis.convertToNicePixel(close_1);\n                var backgroundColor = void 0;\n                if (close_1 > open_1) {\n                    backgroundColor = lastPriceMarkStyles.upColor;\n                }\n                else if (close_1 < open_1) {\n                    backgroundColor = lastPriceMarkStyles.downColor;\n                }\n                else {\n                    backgroundColor = lastPriceMarkStyles.noChangeColor;\n                }\n                var text = void 0;\n                if (yAxis.getType() === YAxisType.Percentage) {\n                    var fromData = chartStore.getVisibleFirstData();\n                    var fromClose = fromData.close;\n                    text = \"\".concat(((close_1 - fromClose) / fromClose * 100).toFixed(2), \"%\");\n                }\n                else {\n                    text = formatPrecision(close_1, precision.price);\n                }\n                text = formatFoldDecimal(formatThousands(text, chartStore.getThousandsSeparator()), chartStore.getDecimalFoldThreshold());\n                var x = void 0;\n                var textAlgin = void 0;\n                if (yAxis.isFromZero()) {\n                    x = 0;\n                    textAlgin = 'left';\n                }\n                else {\n                    x = bounding.width;\n                    textAlgin = 'right';\n                }\n                (_a = this.createFigure({\n                    name: 'text',\n                    attrs: {\n                        x: x,\n                        y: priceY,\n                        text: text,\n                        align: textAlgin,\n                        baseline: 'middle'\n                    },\n                    styles: __assign(__assign({}, lastPriceMarkTextStyles), { backgroundColor: backgroundColor })\n                })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n            }\n        }\n    };\n    return CandleLastPriceLabelView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorLastValueView = /** @class */ (function (_super) {\n    __extends(IndicatorLastValueView, _super);\n    function IndicatorLastValueView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IndicatorLastValueView.prototype.drawImp = function (ctx) {\n        var _this = this;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = pane.getChart().getChartStore();\n        var customApi = chartStore.getCustomApi();\n        var defaultStyles = chartStore.getStyles().indicator;\n        var lastValueMarkStyles = defaultStyles.lastValueMark;\n        var lastValueMarkTextStyles = lastValueMarkStyles.text;\n        if (lastValueMarkStyles.show) {\n            var yAxis_1 = pane.getAxisComponent();\n            var dataList_1 = chartStore.getDataList();\n            var dataIndex_1 = dataList_1.length - 1;\n            var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n            var thousandsSeparator_1 = chartStore.getThousandsSeparator();\n            var decimalFoldThreshold_1 = chartStore.getDecimalFoldThreshold();\n            indicators.forEach(function (indicator) {\n                var result = indicator.result;\n                var indicatorData = result[dataIndex_1];\n                if (isValid(indicatorData) && indicator.visible) {\n                    var precision_1 = indicator.precision;\n                    eachFigures(dataList_1, indicator, dataIndex_1, defaultStyles, function (figure, figureStyles) {\n                        var _a;\n                        var value = indicatorData[figure.key];\n                        if (isNumber(value)) {\n                            var y = yAxis_1.convertToNicePixel(value);\n                            var text = formatPrecision(value, precision_1);\n                            if (indicator.shouldFormatBigNumber) {\n                                text = customApi.formatBigNumber(text);\n                            }\n                            text = formatFoldDecimal(formatThousands(text, thousandsSeparator_1), decimalFoldThreshold_1);\n                            var x = void 0;\n                            var textAlign = void 0;\n                            if (yAxis_1.isFromZero()) {\n                                x = 0;\n                                textAlign = 'left';\n                            }\n                            else {\n                                x = bounding.width;\n                                textAlign = 'right';\n                            }\n                            (_a = _this.createFigure({\n                                name: 'text',\n                                attrs: {\n                                    x: x,\n                                    y: y,\n                                    text: text,\n                                    align: textAlign,\n                                    baseline: 'middle'\n                                },\n                                styles: __assign(__assign({}, lastValueMarkTextStyles), { backgroundColor: figureStyles.color })\n                            })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                        }\n                    });\n                }\n            });\n        }\n    };\n    return IndicatorLastValueView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayYAxisView = /** @class */ (function (_super) {\n    __extends(OverlayYAxisView, _super);\n    function OverlayYAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OverlayYAxisView.prototype.coordinateToPointTimestampDataIndexFlag = function () {\n        return false;\n    };\n    OverlayYAxisView.prototype.drawDefaultFigures = function (ctx, overlay, coordinates, bounding, precision, dateTimeFormat, customApi, thousandsSeparator, decimalFoldThreshold, defaultStyles, xAxis, yAxis, _hoverInstanceInfo, clickInstanceInfo) {\n        this.drawFigures(ctx, overlay, this.getDefaultFigures(overlay, coordinates, bounding, precision, dateTimeFormat, customApi, thousandsSeparator, decimalFoldThreshold, xAxis, yAxis, clickInstanceInfo), defaultStyles);\n    };\n    OverlayYAxisView.prototype.getDefaultFigures = function (overlay, coordinates, bounding, precision, _dateTimeFormat, _customApi, thousandsSeparator, decimalFoldThreshold, _xAxis, yAxis, clickInstanceInfo) {\n        var _a, _b;\n        var figures = [];\n        if (overlay.needDefaultYAxisFigure &&\n            overlay.id === ((_a = clickInstanceInfo.instance) === null || _a === void 0 ? void 0 : _a.id) &&\n            clickInstanceInfo.paneId === this.getWidget().getPane().getId()) {\n            var topY_1 = Number.MAX_SAFE_INTEGER;\n            var bottomY_1 = Number.MIN_SAFE_INTEGER;\n            var isFromZero = (_b = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isFromZero()) !== null && _b !== void 0 ? _b : false;\n            var textAlign_1;\n            var x_1;\n            if (isFromZero) {\n                textAlign_1 = 'left';\n                x_1 = 0;\n            }\n            else {\n                textAlign_1 = 'right';\n                x_1 = bounding.width;\n            }\n            coordinates.forEach(function (coordinate, index) {\n                var point = overlay.points[index];\n                if (isNumber(point.value)) {\n                    topY_1 = Math.min(topY_1, coordinate.y);\n                    bottomY_1 = Math.max(bottomY_1, coordinate.y);\n                    var text = formatFoldDecimal(formatThousands(formatPrecision(point.value, precision.price), thousandsSeparator), decimalFoldThreshold);\n                    figures.push({ type: 'text', attrs: { x: x_1, y: coordinate.y, text: text, align: textAlign_1, baseline: 'middle' }, ignoreEvent: true });\n                }\n            });\n            if (coordinates.length > 1) {\n                figures.unshift({ type: 'rect', attrs: { x: 0, y: topY_1, width: bounding.width, height: bottomY_1 - topY_1 }, ignoreEvent: true });\n            }\n        }\n        return figures;\n    };\n    OverlayYAxisView.prototype.getFigures = function (overlay, coordinates, bounding, barSpace, precision, thousandsSeparator, decimalFoldThreshold, dateTimeFormat, defaultStyles, xAxis, yAxis) {\n        var _a, _b;\n        return (_b = (_a = overlay.createYAxisFigures) === null || _a === void 0 ? void 0 : _a.call(overlay, { overlay: overlay, coordinates: coordinates, bounding: bounding, barSpace: barSpace, precision: precision, thousandsSeparator: thousandsSeparator, decimalFoldThreshold: decimalFoldThreshold, dateTimeFormat: dateTimeFormat, defaultStyles: defaultStyles, xAxis: xAxis, yAxis: yAxis })) !== null && _b !== void 0 ? _b : [];\n    };\n    return OverlayYAxisView;\n}(OverlayView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairHorizontalLabelView = /** @class */ (function (_super) {\n    __extends(CrosshairHorizontalLabelView, _super);\n    function CrosshairHorizontalLabelView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairHorizontalLabelView.prototype.drawImp = function (ctx) {\n        var _a;\n        var widget = this.getWidget();\n        var pane = widget.getPane();\n        var bounding = widget.getBounding();\n        var chartStore = widget.getPane().getChart().getChartStore();\n        var crosshair = chartStore.getTooltipStore().getCrosshair();\n        var styles = chartStore.getStyles().crosshair;\n        if (isString(crosshair.paneId) && this.compare(crosshair, pane.getId())) {\n            if (styles.show) {\n                var directionStyles = this.getDirectionStyles(styles);\n                var textStyles = directionStyles.text;\n                if (directionStyles.show && textStyles.show) {\n                    var axis = pane.getAxisComponent();\n                    var text = this.getText(crosshair, chartStore, axis);\n                    ctx.font = createFont(textStyles.size, textStyles.weight, textStyles.family);\n                    (_a = this.createFigure({\n                        name: 'text',\n                        attrs: this.getTextAttrs(text, ctx.measureText(text).width, crosshair, bounding, axis, textStyles),\n                        styles: textStyles\n                    })) === null || _a === void 0 ? void 0 : _a.draw(ctx);\n                }\n            }\n        }\n    };\n    CrosshairHorizontalLabelView.prototype.compare = function (crosshair, paneId) {\n        return crosshair.paneId === paneId;\n    };\n    CrosshairHorizontalLabelView.prototype.getDirectionStyles = function (styles) {\n        return styles.horizontal;\n    };\n    CrosshairHorizontalLabelView.prototype.getText = function (crosshair, chartStore, axis) {\n        var yAxis = axis;\n        var value = axis.convertFromPixel(crosshair.y);\n        var text;\n        if (yAxis.getType() === YAxisType.Percentage) {\n            var fromData = chartStore.getVisibleFirstData();\n            text = \"\".concat(((value - fromData.close) / fromData.close * 100).toFixed(2), \"%\");\n        }\n        else {\n            var indicators = chartStore.getIndicatorStore().getInstances(crosshair.paneId);\n            var precision_1 = 0;\n            var shouldFormatBigNumber_1 = false;\n            if (yAxis.isInCandle()) {\n                precision_1 = chartStore.getPrecision().price;\n            }\n            else {\n                indicators.forEach(function (indicator) {\n                    precision_1 = Math.max(indicator.precision, precision_1);\n                    if (!shouldFormatBigNumber_1) {\n                        shouldFormatBigNumber_1 = indicator.shouldFormatBigNumber;\n                    }\n                });\n            }\n            text = formatPrecision(value, precision_1);\n            if (shouldFormatBigNumber_1) {\n                text = chartStore.getCustomApi().formatBigNumber(text);\n            }\n        }\n        return formatFoldDecimal(formatThousands(text, chartStore.getThousandsSeparator()), chartStore.getDecimalFoldThreshold());\n    };\n    CrosshairHorizontalLabelView.prototype.getTextAttrs = function (text, _textWidth, crosshair, bounding, axis, _styles) {\n        var yAxis = axis;\n        var x;\n        var textAlign;\n        if (yAxis.isFromZero()) {\n            x = 0;\n            textAlign = 'left';\n        }\n        else {\n            x = bounding.width;\n            textAlign = 'right';\n        }\n        return { x: x, y: crosshair.y, text: text, align: textAlign, baseline: 'middle' };\n    };\n    return CrosshairHorizontalLabelView;\n}(View));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar YAxisWidget = /** @class */ (function (_super) {\n    __extends(YAxisWidget, _super);\n    function YAxisWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._yAxisView = new YAxisView(_this);\n        _this._candleLastPriceLabelView = new CandleLastPriceLabelView(_this);\n        _this._indicatorLastValueView = new IndicatorLastValueView(_this);\n        _this._overlayYAxisView = new OverlayYAxisView(_this);\n        _this._crosshairHorizontalLabelView = new CrosshairHorizontalLabelView(_this);\n        _this.getContainer().style.cursor = 'ns-resize';\n        _this.addChild(_this._overlayYAxisView);\n        return _this;\n    }\n    YAxisWidget.prototype.getName = function () {\n        return WidgetNameConstants.Y_AXIS;\n    };\n    YAxisWidget.prototype.updateMain = function (ctx) {\n        this._yAxisView.draw(ctx);\n        if (this.getPane().getAxisComponent().isInCandle()) {\n            this._candleLastPriceLabelView.draw(ctx);\n        }\n        this._indicatorLastValueView.draw(ctx);\n    };\n    YAxisWidget.prototype.updateOverlay = function (ctx) {\n        this._overlayYAxisView.draw(ctx);\n        this._crosshairHorizontalLabelView.draw(ctx);\n    };\n    return YAxisWidget;\n}(DrawWidget));\n\nvar AxisImp = /** @class */ (function () {\n    function AxisImp(parent) {\n        this._range = { from: 0, to: 0, range: 0, realFrom: 0, realTo: 0, realRange: 0 };\n        this._prevRange = { from: 0, to: 0, range: 0, realFrom: 0, realTo: 0, realRange: 0 };\n        this._ticks = [];\n        this._autoCalcTickFlag = true;\n        this._parent = parent;\n    }\n    AxisImp.prototype.getParent = function () { return this._parent; };\n    AxisImp.prototype.buildTicks = function (force) {\n        if (this._autoCalcTickFlag) {\n            this._range = this.calcRange();\n        }\n        if (this._prevRange.from !== this._range.from || this._prevRange.to !== this._range.to || force) {\n            this._prevRange = this._range;\n            var defaultTicks = this.optimalTicks(this._calcTicks());\n            this._ticks = this.createTicks({\n                range: this._range,\n                bounding: this.getSelfBounding(),\n                defaultTicks: defaultTicks\n            });\n            return true;\n        }\n        return false;\n    };\n    AxisImp.prototype.getTicks = function () {\n        return this._ticks;\n    };\n    AxisImp.prototype.getScrollZoomEnabled = function () {\n        var _a;\n        return (_a = this.getParent().getOptions().axisOptions.scrollZoomEnabled) !== null && _a !== void 0 ? _a : true;\n    };\n    AxisImp.prototype.setRange = function (range) {\n        this._autoCalcTickFlag = false;\n        this._range = range;\n    };\n    AxisImp.prototype.getRange = function () { return this._range; };\n    AxisImp.prototype.setAutoCalcTickFlag = function (flag) {\n        this._autoCalcTickFlag = flag;\n    };\n    AxisImp.prototype.getAutoCalcTickFlag = function () { return this._autoCalcTickFlag; };\n    AxisImp.prototype._calcTicks = function () {\n        var _a = this._range, realFrom = _a.realFrom, realTo = _a.realTo, realRange = _a.realRange;\n        var ticks = [];\n        if (realRange >= 0) {\n            var _b = __read(this._calcTickInterval(realRange), 2), interval = _b[0], precision = _b[1];\n            var first = round(Math.ceil(realFrom / interval) * interval, precision);\n            var last = round(Math.floor(realTo / interval) * interval, precision);\n            var n = 0;\n            var f = first;\n            if (interval !== 0) {\n                while (f <= last) {\n                    var v = f.toFixed(precision);\n                    ticks[n] = { text: v, coord: 0, value: v };\n                    ++n;\n                    f += interval;\n                }\n            }\n        }\n        return ticks;\n    };\n    AxisImp.prototype._calcTickInterval = function (range) {\n        var interval = nice(range / 8.0);\n        var precision = getPrecision(interval);\n        return [interval, precision];\n    };\n    return AxisImp;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar YAxisImp = /** @class */ (function (_super) {\n    __extends(YAxisImp, _super);\n    function YAxisImp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    YAxisImp.prototype.calcRange = function () {\n        var _a, _b, _c, _d;\n        var parent = this.getParent();\n        var chart = parent.getChart();\n        var chartStore = chart.getChartStore();\n        var min = Number.MAX_SAFE_INTEGER;\n        var max = Number.MIN_SAFE_INTEGER;\n        var figuresResultList = [];\n        var shouldOhlc = false;\n        var specifyMin = Number.MAX_SAFE_INTEGER;\n        var specifyMax = Number.MIN_SAFE_INTEGER;\n        var indicatorPrecision = Number.MAX_SAFE_INTEGER;\n        var indicators = chartStore.getIndicatorStore().getInstances(parent.getId());\n        indicators.forEach(function (indicator) {\n            var _a, _b, _c;\n            if (!shouldOhlc) {\n                shouldOhlc = (_a = indicator.shouldOhlc) !== null && _a !== void 0 ? _a : false;\n            }\n            indicatorPrecision = Math.min(indicatorPrecision, indicator.precision);\n            if (isNumber(indicator.minValue)) {\n                specifyMin = Math.min(specifyMin, indicator.minValue);\n            }\n            if (isNumber(indicator.maxValue)) {\n                specifyMax = Math.max(specifyMax, indicator.maxValue);\n            }\n            figuresResultList.push({\n                figures: (_b = indicator.figures) !== null && _b !== void 0 ? _b : [],\n                result: (_c = indicator.result) !== null && _c !== void 0 ? _c : []\n            });\n        });\n        var precision = 4;\n        var inCandle = this.isInCandle();\n        if (inCandle) {\n            var pricePrecision = chartStore.getPrecision().price;\n            if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n                precision = Math.min(indicatorPrecision, pricePrecision);\n            }\n            else {\n                precision = pricePrecision;\n            }\n        }\n        else {\n            if (indicatorPrecision !== Number.MAX_SAFE_INTEGER) {\n                precision = indicatorPrecision;\n            }\n        }\n        var visibleDataList = chartStore.getVisibleDataList();\n        var candleStyles = chart.getStyles().candle;\n        var isArea = candleStyles.type === CandleType.Area;\n        var areaValueKey = candleStyles.area.value;\n        var shouldCompareHighLow = (inCandle && !isArea) || (!inCandle && shouldOhlc);\n        visibleDataList.forEach(function (_a) {\n            var dataIndex = _a.dataIndex, data = _a.data;\n            if (isValid(data)) {\n                if (shouldCompareHighLow) {\n                    min = Math.min(min, data.low);\n                    max = Math.max(max, data.high);\n                }\n                if (inCandle && isArea) {\n                    var value = data[areaValueKey];\n                    if (isNumber(value)) {\n                        min = Math.min(min, value);\n                        max = Math.max(max, value);\n                    }\n                }\n            }\n            figuresResultList.forEach(function (_a) {\n                var _b;\n                var figures = _a.figures, result = _a.result;\n                var indicatorData = (_b = result[dataIndex]) !== null && _b !== void 0 ? _b : {};\n                figures.forEach(function (figure) {\n                    var value = indicatorData[figure.key];\n                    if (isNumber(value)) {\n                        min = Math.min(min, value);\n                        max = Math.max(max, value);\n                    }\n                });\n            });\n        });\n        if (min !== Number.MAX_SAFE_INTEGER && max !== Number.MIN_SAFE_INTEGER) {\n            min = Math.min(specifyMin, min);\n            max = Math.max(specifyMax, max);\n        }\n        else {\n            min = 0;\n            max = 10;\n        }\n        var type = this.getType();\n        var dif;\n        switch (type) {\n            case YAxisType.Percentage: {\n                var fromData = chartStore.getVisibleFirstData();\n                if (isValid(fromData) && isNumber(fromData.close)) {\n                    min = (min - fromData.close) / fromData.close * 100;\n                    max = (max - fromData.close) / fromData.close * 100;\n                }\n                dif = Math.pow(10, -2);\n                break;\n            }\n            case YAxisType.Log: {\n                min = log10(min);\n                max = log10(max);\n                dif = 0.05 * index10(-precision);\n                break;\n            }\n            default: {\n                dif = index10(-precision);\n            }\n        }\n        if (min === max ||\n            Math.abs(min - max) < dif) {\n            var minCheck = specifyMin === min;\n            var maxCheck = specifyMax === max;\n            min = minCheck ? min : (maxCheck ? min - 8 * dif : min - 4 * dif);\n            max = maxCheck ? max : (minCheck ? max + 8 * dif : max + 4 * dif);\n        }\n        var height = (_b = (_a = this.getParent().getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var paneGap = parent.getOptions().gap;\n        var topRate = (_c = paneGap === null || paneGap === void 0 ? void 0 : paneGap.top) !== null && _c !== void 0 ? _c : 0.2;\n        if (topRate >= 1) {\n            topRate = topRate / height;\n        }\n        var bottomRate = (_d = paneGap === null || paneGap === void 0 ? void 0 : paneGap.bottom) !== null && _d !== void 0 ? _d : 0.1;\n        if (bottomRate >= 1) {\n            bottomRate = bottomRate / height;\n        }\n        var range = Math.abs(max - min);\n        // gap\n        min = min - range * bottomRate;\n        max = max + range * topRate;\n        range = Math.abs(max - min);\n        var realMin;\n        var realMax;\n        var realRange;\n        if (type === YAxisType.Log) {\n            realMin = index10(min);\n            realMax = index10(max);\n            realRange = Math.abs(realMax - realMin);\n        }\n        else {\n            realMin = min;\n            realMax = max;\n            realRange = range;\n        }\n        return {\n            from: min, to: max,\n            range: range,\n            realFrom: realMin, realTo: realMax,\n            realRange: realRange\n        };\n    };\n    /**\n     * å†…éƒ¨å€¼è½¬æ¢æˆåæ ‡\n     * @param value\n     * @return {number}\n     * @private\n     */\n    YAxisImp.prototype._innerConvertToPixel = function (value) {\n        var _a, _b;\n        var height = (_b = (_a = this.getParent().getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var _c = this.getRange(), from = _c.from, range = _c.range;\n        var rate = (value - from) / range;\n        return this.isReverse() ? Math.round(rate * height) : Math.round((1 - rate) * height);\n    };\n    /**\n     * æ˜¯å¦æ˜¯èœ¡çƒ›å›¾è½´\n     * @return {boolean}\n     */\n    YAxisImp.prototype.isInCandle = function () {\n        return this.getParent().getId() === PaneIdConstants.CANDLE;\n    };\n    /**\n     * yè½´ç±»åž‹\n     * @return {YAxisType}\n     */\n    YAxisImp.prototype.getType = function () {\n        if (this.isInCandle()) {\n            return this.getParent().getChart().getStyles().yAxis.type;\n        }\n        return YAxisType.Normal;\n    };\n    YAxisImp.prototype.getPosition = function () {\n        return this.getParent().getChart().getStyles().yAxis.position;\n    };\n    /**\n     * æ˜¯å¦åè½¬\n     * @return {boolean}\n     */\n    YAxisImp.prototype.isReverse = function () {\n        if (this.isInCandle()) {\n            return this.getParent().getChart().getStyles().yAxis.reverse;\n        }\n        return false;\n    };\n    /**\n     * æ˜¯å¦ä»Žyè½´0å¼€å§‹\n     * @return {boolean}\n     */\n    YAxisImp.prototype.isFromZero = function () {\n        var yAxisStyles = this.getParent().getChart().getStyles().yAxis;\n        var inside = yAxisStyles.inside;\n        return ((yAxisStyles.position === YAxisPosition.Left && inside) ||\n            (yAxisStyles.position === YAxisPosition.Right && !inside));\n    };\n    YAxisImp.prototype.optimalTicks = function (ticks) {\n        var _this = this;\n        var _a, _b;\n        var pane = this.getParent();\n        var height = (_b = (_a = pane.getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var chartStore = pane.getChart().getChartStore();\n        var customApi = chartStore.getCustomApi();\n        var optimalTicks = [];\n        var type = this.getType();\n        var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n        var thousandsSeparator = chartStore.getThousandsSeparator();\n        var decimalFoldThreshold = chartStore.getDecimalFoldThreshold();\n        var precision = 0;\n        var shouldFormatBigNumber = false;\n        if (this.isInCandle()) {\n            precision = chartStore.getPrecision().price;\n        }\n        else {\n            indicators.forEach(function (tech) {\n                precision = Math.max(precision, tech.precision);\n                if (!shouldFormatBigNumber) {\n                    shouldFormatBigNumber = tech.shouldFormatBigNumber;\n                }\n            });\n        }\n        var textHeight = chartStore.getStyles().xAxis.tickText.size;\n        var validY;\n        ticks.forEach(function (_a) {\n            var value = _a.value;\n            var v;\n            var y = _this._innerConvertToPixel(+value);\n            switch (type) {\n                case YAxisType.Percentage: {\n                    v = \"\".concat(formatPrecision(value, 2), \"%\");\n                    break;\n                }\n                case YAxisType.Log: {\n                    y = _this._innerConvertToPixel(log10(+value));\n                    v = formatPrecision(value, precision);\n                    break;\n                }\n                default: {\n                    v = formatPrecision(value, precision);\n                    if (shouldFormatBigNumber) {\n                        v = customApi.formatBigNumber(value);\n                    }\n                    break;\n                }\n            }\n            v = formatFoldDecimal(formatThousands(v, thousandsSeparator), decimalFoldThreshold);\n            var validYNumber = isNumber(validY);\n            if (y > textHeight &&\n                y < height - textHeight &&\n                ((validYNumber && (Math.abs(validY - y) > textHeight * 2)) || !validYNumber)) {\n                optimalTicks.push({ text: v, coord: y, value: value });\n                validY = y;\n            }\n        });\n        return optimalTicks;\n    };\n    YAxisImp.prototype.getAutoSize = function () {\n        var pane = this.getParent();\n        var chart = pane.getChart();\n        var styles = chart.getStyles();\n        var yAxisStyles = styles.yAxis;\n        var width = yAxisStyles.size;\n        if (width !== 'auto') {\n            return width;\n        }\n        var chartStore = chart.getChartStore();\n        var customApi = chartStore.getCustomApi();\n        var yAxisWidth = 0;\n        if (yAxisStyles.show) {\n            if (yAxisStyles.axisLine.show) {\n                yAxisWidth += yAxisStyles.axisLine.size;\n            }\n            if (yAxisStyles.tickLine.show) {\n                yAxisWidth += yAxisStyles.tickLine.length;\n            }\n            if (yAxisStyles.tickText.show) {\n                var textWidth_1 = 0;\n                this.getTicks().forEach(function (tick) {\n                    textWidth_1 = Math.max(textWidth_1, calcTextWidth(tick.text, yAxisStyles.tickText.size, yAxisStyles.tickText.weight, yAxisStyles.tickText.family));\n                });\n                yAxisWidth += (yAxisStyles.tickText.marginStart + yAxisStyles.tickText.marginEnd + textWidth_1);\n            }\n        }\n        var crosshairStyles = styles.crosshair;\n        var crosshairVerticalTextWidth = 0;\n        if (crosshairStyles.show &&\n            crosshairStyles.horizontal.show &&\n            crosshairStyles.horizontal.text.show) {\n            var indicators = chartStore.getIndicatorStore().getInstances(pane.getId());\n            var techPrecision_1 = 0;\n            var shouldFormatBigNumber_1 = false;\n            indicators.forEach(function (tech) {\n                techPrecision_1 = Math.max(tech.precision, techPrecision_1);\n                if (!shouldFormatBigNumber_1) {\n                    shouldFormatBigNumber_1 = tech.shouldFormatBigNumber;\n                }\n            });\n            var precision = 2;\n            if (this.getType() !== YAxisType.Percentage) {\n                if (this.isInCandle()) {\n                    var pricePrecision = chartStore.getPrecision().price;\n                    var lastValueMarkStyles = styles.indicator.lastValueMark;\n                    if (lastValueMarkStyles.show && lastValueMarkStyles.text.show) {\n                        precision = Math.max(techPrecision_1, pricePrecision);\n                    }\n                    else {\n                        precision = pricePrecision;\n                    }\n                }\n                else {\n                    precision = techPrecision_1;\n                }\n            }\n            var valueText = formatPrecision(this.getRange().to, precision);\n            if (shouldFormatBigNumber_1) {\n                valueText = customApi.formatBigNumber(valueText);\n            }\n            valueText = formatFoldDecimal(valueText, chartStore.getDecimalFoldThreshold());\n            crosshairVerticalTextWidth += (crosshairStyles.horizontal.text.paddingLeft +\n                crosshairStyles.horizontal.text.paddingRight +\n                crosshairStyles.horizontal.text.borderSize * 2 +\n                calcTextWidth(valueText, crosshairStyles.horizontal.text.size, crosshairStyles.horizontal.text.weight, crosshairStyles.horizontal.text.family));\n        }\n        return Math.max(yAxisWidth, crosshairVerticalTextWidth);\n    };\n    YAxisImp.prototype.getSelfBounding = function () {\n        return this.getParent().getYAxisWidget().getBounding();\n    };\n    YAxisImp.prototype.convertFromPixel = function (pixel) {\n        var _a, _b;\n        var height = (_b = (_a = this.getParent().getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var _c = this.getRange(), from = _c.from, range = _c.range;\n        var rate = this.isReverse() ? pixel / height : 1 - pixel / height;\n        var value = rate * range + from;\n        switch (this.getType()) {\n            case YAxisType.Percentage: {\n                var fromData = this.getParent().getChart().getChartStore().getVisibleFirstData();\n                if (isValid(fromData) && isNumber(fromData.close)) {\n                    return fromData.close * value / 100 + fromData.close;\n                }\n                return 0;\n            }\n            case YAxisType.Log: {\n                return index10(value);\n            }\n            default: {\n                return value;\n            }\n        }\n    };\n    YAxisImp.prototype.convertToRealValue = function (value) {\n        var v = value;\n        if (this.getType() === YAxisType.Log) {\n            v = index10(value);\n        }\n        return v;\n    };\n    YAxisImp.prototype.convertToPixel = function (value) {\n        var v = value;\n        switch (this.getType()) {\n            case YAxisType.Percentage: {\n                var fromData = this.getParent().getChart().getChartStore().getVisibleFirstData();\n                if (isValid(fromData) && isNumber(fromData.close)) {\n                    v = (value - fromData.close) / fromData.close * 100;\n                }\n                break;\n            }\n            case YAxisType.Log: {\n                v = log10(value);\n                break;\n            }\n            default: {\n                v = value;\n            }\n        }\n        return this._innerConvertToPixel(v);\n    };\n    YAxisImp.prototype.convertToNicePixel = function (value) {\n        var _a, _b;\n        var height = (_b = (_a = this.getParent().getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding().height) !== null && _b !== void 0 ? _b : 0;\n        var pixel = this.convertToPixel(value);\n        return Math.round(Math.max(height * 0.05, Math.min(pixel, height * 0.98)));\n    };\n    YAxisImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            Custom.prototype.createTicks = function (params) {\n                return template.createTicks(params);\n            };\n            return Custom;\n        }(YAxisImp));\n        return Custom;\n    };\n    return YAxisImp;\n}(AxisImp));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar defaultYAxis = {\n    name: 'default',\n    createTicks: function (_a) {\n        var defaultTicks = _a.defaultTicks;\n        return defaultTicks;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar yAxises = {\n    default: YAxisImp.extend(defaultYAxis)\n};\nfunction registerYAxis(axis) {\n    yAxises[axis.name] = YAxisImp.extend(axis);\n}\nfunction getYAxisClass(name) {\n    var _a;\n    return (_a = yAxises[name]) !== null && _a !== void 0 ? _a : yAxises.default;\n}\n\nvar Pane = /** @class */ (function () {\n    function Pane(rootContainer, afterElement, chart, id) {\n        this._bounding = createDefaultBounding();\n        this._chart = chart;\n        this._id = id;\n        this._init(rootContainer, afterElement);\n    }\n    Pane.prototype._init = function (rootContainer, afterElement) {\n        this._rootContainer = rootContainer;\n        this._container = createDom('div', {\n            width: '100%',\n            margin: '0',\n            padding: '0',\n            position: 'relative',\n            overflow: 'hidden',\n            boxSizing: 'border-box'\n        });\n        if (afterElement !== null) {\n            rootContainer.insertBefore(this._container, afterElement);\n        }\n        else {\n            rootContainer.appendChild(this._container);\n        }\n    };\n    Pane.prototype.getContainer = function () {\n        return this._container;\n    };\n    Pane.prototype.getId = function () {\n        return this._id;\n    };\n    Pane.prototype.getChart = function () {\n        return this._chart;\n    };\n    Pane.prototype.getBounding = function () {\n        return this._bounding;\n    };\n    Pane.prototype.update = function (level) {\n        if (this._bounding.height !== this._container.clientHeight) {\n            this._container.style.height = \"\".concat(this._bounding.height, \"px\");\n        }\n        this.updateImp(level !== null && level !== void 0 ? level : 3 /* UpdateLevel.Drawer */, this._container, this._bounding);\n    };\n    Pane.prototype.destroy = function () {\n        this._rootContainer.removeChild(this._container);\n    };\n    return Pane;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DrawPane = /** @class */ (function (_super) {\n    __extends(DrawPane, _super);\n    function DrawPane(rootContainer, afterElement, chart, id, options) {\n        var _this = _super.call(this, rootContainer, afterElement, chart, id) || this;\n        _this._yAxisWidget = null;\n        _this._options = { minHeight: PANE_MIN_HEIGHT, dragEnabled: true, gap: { top: 0.2, bottom: 0.1 }, axisOptions: { name: 'default', scrollZoomEnabled: true } };\n        var container = _this.getContainer();\n        _this._mainWidget = _this.createMainWidget(container);\n        _this._yAxisWidget = _this.createYAxisWidget(container);\n        _this.setOptions(options);\n        return _this;\n    }\n    DrawPane.prototype.setOptions = function (options) {\n        var _a, _b, _c;\n        var name = (_a = options.axisOptions) === null || _a === void 0 ? void 0 : _a.name;\n        if ((this._options.axisOptions.name !== name && isString(name)) ||\n            !isValid(this._axis)) {\n            this._axis = this.createAxisComponent(name !== null && name !== void 0 ? name : 'default');\n        }\n        merge(this._options, options);\n        var container;\n        var cursor;\n        if (this.getId() === PaneIdConstants.X_AXIS) {\n            container = this.getMainWidget().getContainer();\n            cursor = 'ew-resize';\n        }\n        else {\n            container = this.getYAxisWidget().getContainer();\n            cursor = 'ns-resize';\n        }\n        if ((_c = (_b = options.axisOptions) === null || _b === void 0 ? void 0 : _b.scrollZoomEnabled) !== null && _c !== void 0 ? _c : true) {\n            container.style.cursor = cursor;\n        }\n        else {\n            container.style.cursor = 'default';\n        }\n        return this;\n    };\n    DrawPane.prototype.getOptions = function () { return this._options; };\n    DrawPane.prototype.getAxisComponent = function () {\n        return this._axis;\n    };\n    DrawPane.prototype.setBounding = function (rootBounding, mainBounding, yAxisBounding) {\n        var _a, _b;\n        merge(this.getBounding(), rootBounding);\n        var contentBounding = {};\n        if (isValid(rootBounding.height)) {\n            contentBounding.height = rootBounding.height;\n        }\n        if (isValid(rootBounding.top)) {\n            contentBounding.top = rootBounding.top;\n        }\n        this._mainWidget.setBounding(contentBounding);\n        (_a = this._yAxisWidget) === null || _a === void 0 ? void 0 : _a.setBounding(contentBounding);\n        if (isValid(mainBounding)) {\n            this._mainWidget.setBounding(mainBounding);\n        }\n        if (isValid(yAxisBounding)) {\n            (_b = this._yAxisWidget) === null || _b === void 0 ? void 0 : _b.setBounding(yAxisBounding);\n        }\n        return this;\n    };\n    DrawPane.prototype.getMainWidget = function () { return this._mainWidget; };\n    DrawPane.prototype.getYAxisWidget = function () { return this._yAxisWidget; };\n    DrawPane.prototype.updateImp = function (level) {\n        var _a;\n        this._mainWidget.update(level);\n        (_a = this._yAxisWidget) === null || _a === void 0 ? void 0 : _a.update(level);\n    };\n    DrawPane.prototype.destroy = function () {\n        var _a;\n        _super.prototype.destroy.call(this);\n        this._mainWidget.destroy();\n        (_a = this._yAxisWidget) === null || _a === void 0 ? void 0 : _a.destroy();\n    };\n    DrawPane.prototype.getImage = function (includeOverlay) {\n        var _a = this.getBounding(), width = _a.width, height = _a.height;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        var mainBounding = this._mainWidget.getBounding();\n        ctx.drawImage(this._mainWidget.getImage(includeOverlay), mainBounding.left, 0, mainBounding.width, mainBounding.height);\n        if (this._yAxisWidget !== null) {\n            var yAxisBounding = this._yAxisWidget.getBounding();\n            ctx.drawImage(this._yAxisWidget.getImage(includeOverlay), yAxisBounding.left, 0, yAxisBounding.width, yAxisBounding.height);\n        }\n        return canvas;\n    };\n    DrawPane.prototype.createYAxisWidget = function (_container) { return null; };\n    return DrawPane;\n}(Pane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar IndicatorPane = /** @class */ (function (_super) {\n    __extends(IndicatorPane, _super);\n    function IndicatorPane() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IndicatorPane.prototype.createAxisComponent = function (name) {\n        var YAxisClass = getYAxisClass(name !== null && name !== void 0 ? name : 'default');\n        return new YAxisClass(this);\n    };\n    IndicatorPane.prototype.createMainWidget = function (container) {\n        return new IndicatorWidget(container, this);\n    };\n    IndicatorPane.prototype.createYAxisWidget = function (container) {\n        return new YAxisWidget(container, this);\n    };\n    return IndicatorPane;\n}(DrawPane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CandlePane = /** @class */ (function (_super) {\n    __extends(CandlePane, _super);\n    function CandlePane() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CandlePane.prototype.createMainWidget = function (container) {\n        return new CandleWidget(container, this);\n    };\n    return CandlePane;\n}(IndicatorPane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisView = /** @class */ (function (_super) {\n    __extends(XAxisView, _super);\n    function XAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    XAxisView.prototype.getAxisStyles = function (styles) {\n        return styles.xAxis;\n    };\n    XAxisView.prototype.createAxisLine = function (bounding) {\n        return {\n            coordinates: [\n                { x: 0, y: 0 },\n                { x: bounding.width, y: 0 }\n            ]\n        };\n    };\n    XAxisView.prototype.createTickLines = function (ticks, _bounding, styles) {\n        var tickLineStyles = styles.tickLine;\n        var axisLineSize = styles.axisLine.size;\n        return ticks.map(function (tick) { return ({\n            coordinates: [\n                { x: tick.coord, y: 0 },\n                { x: tick.coord, y: axisLineSize + tickLineStyles.length }\n            ]\n        }); });\n    };\n    XAxisView.prototype.createTickTexts = function (ticks, _bounding, styles) {\n        var tickTickStyles = styles.tickText;\n        var axisLineSize = styles.axisLine.size;\n        var tickLineLength = styles.tickLine.length;\n        return ticks.map(function (tick) { return ({\n            x: tick.coord,\n            y: axisLineSize + tickLineLength + tickTickStyles.marginStart,\n            text: tick.text,\n            align: 'center',\n            baseline: 'top'\n        }); });\n    };\n    return XAxisView;\n}(AxisView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar OverlayXAxisView = /** @class */ (function (_super) {\n    __extends(OverlayXAxisView, _super);\n    function OverlayXAxisView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OverlayXAxisView.prototype.coordinateToPointTimestampDataIndexFlag = function () {\n        return true;\n    };\n    OverlayXAxisView.prototype.coordinateToPointValueFlag = function () {\n        return false;\n    };\n    OverlayXAxisView.prototype.getCompleteOverlays = function (overlayStore) {\n        return overlayStore.getInstances();\n    };\n    OverlayXAxisView.prototype.getProgressOverlay = function (info) {\n        return info.instance;\n    };\n    OverlayXAxisView.prototype.getDefaultFigures = function (overlay, coordinates, bounding, _precision, dateTimeFormat, customApi, _thousandsSeparator, _decimalFoldThreshold, _xAxis, _yAxis, clickInstanceInfo) {\n        var _a;\n        var figures = [];\n        if (overlay.needDefaultXAxisFigure && overlay.id === ((_a = clickInstanceInfo.instance) === null || _a === void 0 ? void 0 : _a.id)) {\n            var leftX_1 = Number.MAX_SAFE_INTEGER;\n            var rightX_1 = Number.MIN_SAFE_INTEGER;\n            coordinates.forEach(function (coordinate, index) {\n                leftX_1 = Math.min(leftX_1, coordinate.x);\n                rightX_1 = Math.max(rightX_1, coordinate.x);\n                var point = overlay.points[index];\n                if (isNumber(point.timestamp)) {\n                    var text = customApi.formatDate(dateTimeFormat, point.timestamp, 'YYYY-MM-DD HH:mm', FormatDateType.Crosshair);\n                    figures.push({ type: 'text', attrs: { x: coordinate.x, y: 0, text: text, align: 'center' }, ignoreEvent: true });\n                }\n            });\n            if (coordinates.length > 1) {\n                figures.unshift({ type: 'rect', attrs: { x: leftX_1, y: 0, width: rightX_1 - leftX_1, height: bounding.height }, ignoreEvent: true });\n            }\n        }\n        return figures;\n    };\n    OverlayXAxisView.prototype.getFigures = function (overlay, coordinates, bounding, barSpace, precision, thousandsSeparator, decimalFoldThreshold, dateTimeFormat, defaultStyles, xAxis, yAxis) {\n        var _a, _b;\n        return (_b = (_a = overlay.createXAxisFigures) === null || _a === void 0 ? void 0 : _a.call(overlay, { overlay: overlay, coordinates: coordinates, bounding: bounding, barSpace: barSpace, precision: precision, thousandsSeparator: thousandsSeparator, decimalFoldThreshold: decimalFoldThreshold, dateTimeFormat: dateTimeFormat, defaultStyles: defaultStyles, xAxis: xAxis, yAxis: yAxis })) !== null && _b !== void 0 ? _b : [];\n    };\n    return OverlayXAxisView;\n}(OverlayYAxisView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar CrosshairVerticalLabelView = /** @class */ (function (_super) {\n    __extends(CrosshairVerticalLabelView, _super);\n    function CrosshairVerticalLabelView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CrosshairVerticalLabelView.prototype.compare = function (crosshair) {\n        return isValid(crosshair.kLineData) && crosshair.dataIndex === crosshair.realDataIndex;\n    };\n    CrosshairVerticalLabelView.prototype.getDirectionStyles = function (styles) {\n        return styles.vertical;\n    };\n    CrosshairVerticalLabelView.prototype.getText = function (crosshair, chartStore) {\n        var _a;\n        var timestamp = (_a = crosshair.kLineData) === null || _a === void 0 ? void 0 : _a.timestamp;\n        return chartStore.getCustomApi().formatDate(chartStore.getTimeScaleStore().getDateTimeFormat(), timestamp, 'YYYY-MM-DD HH:mm', FormatDateType.Crosshair);\n    };\n    CrosshairVerticalLabelView.prototype.getTextAttrs = function (text, textWidth, crosshair, bounding, _axis, styles) {\n        var x = crosshair.realX;\n        var optimalX;\n        var align = 'center';\n        if (x - textWidth / 2 - styles.paddingLeft < 0) {\n            optimalX = 0;\n            align = 'left';\n        }\n        else if (x + textWidth / 2 + styles.paddingRight > bounding.width) {\n            optimalX = bounding.width;\n            align = 'right';\n        }\n        else {\n            optimalX = x;\n        }\n        return { x: optimalX, y: 0, text: text, align: align, baseline: 'top' };\n    };\n    return CrosshairVerticalLabelView;\n}(CrosshairHorizontalLabelView));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisWidget = /** @class */ (function (_super) {\n    __extends(XAxisWidget, _super);\n    function XAxisWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._xAxisView = new XAxisView(_this);\n        _this._overlayXAxisView = new OverlayXAxisView(_this);\n        _this._crosshairVerticalLabelView = new CrosshairVerticalLabelView(_this);\n        _this.getContainer().style.cursor = 'ew-resize';\n        _this.addChild(_this._overlayXAxisView);\n        return _this;\n    }\n    XAxisWidget.prototype.getName = function () {\n        return WidgetNameConstants.X_AXIS;\n    };\n    XAxisWidget.prototype.updateMain = function (ctx) {\n        this._xAxisView.draw(ctx);\n    };\n    XAxisWidget.prototype.updateOverlay = function (ctx) {\n        this._overlayXAxisView.draw(ctx);\n        this._crosshairVerticalLabelView.draw(ctx);\n    };\n    return XAxisWidget;\n}(DrawWidget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisImp = /** @class */ (function (_super) {\n    __extends(XAxisImp, _super);\n    function XAxisImp() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    XAxisImp.prototype.calcRange = function () {\n        var chartStore = this.getParent().getChart().getChartStore();\n        var _a = chartStore.getTimeScaleStore().getVisibleRange(), from = _a.from, to = _a.to;\n        var af = from;\n        var at = to - 1;\n        var range = to - from;\n        return {\n            from: af, to: at,\n            range: range,\n            realFrom: af, realTo: at, realRange: range\n        };\n    };\n    XAxisImp.prototype.optimalTicks = function (ticks) {\n        var _a, _b;\n        var chart = this.getParent().getChart();\n        var chartStore = chart.getChartStore();\n        var formatDate = chartStore.getCustomApi().formatDate;\n        var optimalTicks = [];\n        var tickLength = ticks.length;\n        var dataList = chartStore.getDataList();\n        if (tickLength > 0) {\n            var dateTimeFormat = chartStore.getTimeScaleStore().getDateTimeFormat();\n            var tickTextStyles = chart.getStyles().xAxis.tickText;\n            var defaultLabelWidth = calcTextWidth('00-00 00:00', tickTextStyles.size, tickTextStyles.weight, tickTextStyles.family);\n            var pos = parseInt(ticks[0].value, 10);\n            var x = this.convertToPixel(pos);\n            var tickCountDif = 1;\n            if (tickLength > 1) {\n                var nextPos = parseInt(ticks[1].value, 10);\n                var nextX = this.convertToPixel(nextPos);\n                var xDif = Math.abs(nextX - x);\n                if (xDif < defaultLabelWidth) {\n                    tickCountDif = Math.ceil(defaultLabelWidth / xDif);\n                }\n            }\n            for (var i = 0; i < tickLength; i += tickCountDif) {\n                var pos_1 = parseInt(ticks[i].value, 10);\n                var kLineData = dataList[pos_1];\n                var timestamp = kLineData.timestamp;\n                var text = formatDate(dateTimeFormat, timestamp, 'HH:mm', FormatDateType.XAxis);\n                if (i !== 0) {\n                    var prevPos = parseInt(ticks[i - tickCountDif].value, 10);\n                    var prevKLineData = dataList[prevPos];\n                    var prevTimestamp = prevKLineData.timestamp;\n                    text = (_a = this._optimalTickLabel(formatDate, dateTimeFormat, timestamp, prevTimestamp)) !== null && _a !== void 0 ? _a : text;\n                }\n                var x_1 = this.convertToPixel(pos_1);\n                optimalTicks.push({ text: text, coord: x_1, value: timestamp });\n            }\n            var optimalTickLength = optimalTicks.length;\n            if (optimalTickLength === 1) {\n                optimalTicks[0].text = formatDate(dateTimeFormat, optimalTicks[0].value, 'YYYY-MM-DD HH:mm', FormatDateType.XAxis);\n            }\n            else {\n                var firstTimestamp = optimalTicks[0].value;\n                var secondTimestamp = optimalTicks[1].value;\n                if (isValid(optimalTicks[2])) {\n                    var thirdText = optimalTicks[2].text;\n                    if (/^[0-9]{2}-[0-9]{2}$/.test(thirdText)) {\n                        optimalTicks[0].text = formatDate(dateTimeFormat, firstTimestamp, 'MM-DD', FormatDateType.XAxis);\n                    }\n                    else if (/^[0-9]{4}-[0-9]{2}$/.test(thirdText)) {\n                        optimalTicks[0].text = formatDate(dateTimeFormat, firstTimestamp, 'YYYY-MM', FormatDateType.XAxis);\n                    }\n                    else if (/^[0-9]{4}$/.test(thirdText)) {\n                        optimalTicks[0].text = formatDate(dateTimeFormat, firstTimestamp, 'YYYY', FormatDateType.XAxis);\n                    }\n                }\n                else {\n                    optimalTicks[0].text = (_b = this._optimalTickLabel(formatDate, dateTimeFormat, firstTimestamp, secondTimestamp)) !== null && _b !== void 0 ? _b : optimalTicks[0].text;\n                }\n            }\n        }\n        return optimalTicks;\n    };\n    XAxisImp.prototype._optimalTickLabel = function (formatDate, dateTimeFormat, timestamp, comparedTimestamp) {\n        var year = formatDate(dateTimeFormat, timestamp, 'YYYY', FormatDateType.XAxis);\n        var month = formatDate(dateTimeFormat, timestamp, 'YYYY-MM', FormatDateType.XAxis);\n        var day = formatDate(dateTimeFormat, timestamp, 'MM-DD', FormatDateType.XAxis);\n        if (year !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY', FormatDateType.XAxis)) {\n            return year;\n        }\n        else if (month !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY-MM', FormatDateType.XAxis)) {\n            return month;\n        }\n        else if (day !== formatDate(dateTimeFormat, comparedTimestamp, 'MM-DD', FormatDateType.XAxis)) {\n            return day;\n        }\n        return null;\n    };\n    XAxisImp.prototype.getAutoSize = function () {\n        var styles = this.getParent().getChart().getStyles();\n        var xAxisStyles = styles.xAxis;\n        var height = xAxisStyles.size;\n        if (height !== 'auto') {\n            return height;\n        }\n        var crosshairStyles = styles.crosshair;\n        var xAxisHeight = 0;\n        if (xAxisStyles.show) {\n            if (xAxisStyles.axisLine.show) {\n                xAxisHeight += xAxisStyles.axisLine.size;\n            }\n            if (xAxisStyles.tickLine.show) {\n                xAxisHeight += xAxisStyles.tickLine.length;\n            }\n            if (xAxisStyles.tickText.show) {\n                xAxisHeight += (xAxisStyles.tickText.marginStart + xAxisStyles.tickText.marginEnd + xAxisStyles.tickText.size);\n            }\n        }\n        var crosshairVerticalTextHeight = 0;\n        if (crosshairStyles.show &&\n            crosshairStyles.vertical.show &&\n            crosshairStyles.vertical.text.show) {\n            crosshairVerticalTextHeight += (crosshairStyles.vertical.text.paddingTop +\n                crosshairStyles.vertical.text.paddingBottom +\n                crosshairStyles.vertical.text.borderSize * 2 +\n                crosshairStyles.vertical.text.size);\n        }\n        return Math.max(xAxisHeight, crosshairVerticalTextHeight);\n    };\n    XAxisImp.prototype.getSelfBounding = function () {\n        return this.getParent().getMainWidget().getBounding();\n    };\n    XAxisImp.prototype.convertTimestampFromPixel = function (pixel) {\n        var timeScaleStore = this.getParent().getChart().getChartStore().getTimeScaleStore();\n        var dataIndex = timeScaleStore.coordinateToDataIndex(pixel);\n        return timeScaleStore.dataIndexToTimestamp(dataIndex);\n    };\n    XAxisImp.prototype.convertTimestampToPixel = function (timestamp) {\n        var timeScaleStore = this.getParent().getChart().getChartStore().getTimeScaleStore();\n        var dataIndex = timeScaleStore.timestampToDataIndex(timestamp);\n        return timeScaleStore.dataIndexToCoordinate(dataIndex);\n    };\n    XAxisImp.prototype.convertFromPixel = function (pixel) {\n        return this.getParent().getChart().getChartStore().getTimeScaleStore().coordinateToDataIndex(pixel);\n    };\n    XAxisImp.prototype.convertToPixel = function (value) {\n        return this.getParent().getChart().getChartStore().getTimeScaleStore().dataIndexToCoordinate(value);\n    };\n    XAxisImp.extend = function (template) {\n        var Custom = /** @class */ (function (_super) {\n            __extends(Custom, _super);\n            function Custom() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            Custom.prototype.createTicks = function (params) {\n                return template.createTicks(params);\n            };\n            return Custom;\n        }(XAxisImp));\n        return Custom;\n    };\n    return XAxisImp;\n}(AxisImp));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar defaultXAxis = {\n    name: 'default',\n    createTicks: function (_a) {\n        var defaultTicks = _a.defaultTicks;\n        return defaultTicks;\n    }\n};\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar xAxises = {\n    default: XAxisImp.extend(defaultXAxis)\n};\nfunction registerXAxis(axis) {\n    xAxises[axis.name] = XAxisImp.extend(axis);\n}\nfunction getXAxisClass(name) {\n    var _a;\n    return (_a = xAxises[name]) !== null && _a !== void 0 ? _a : xAxises.default;\n}\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar XAxisPane = /** @class */ (function (_super) {\n    __extends(XAxisPane, _super);\n    function XAxisPane() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    XAxisPane.prototype.createAxisComponent = function (name) {\n        var XAxisClass = getXAxisClass(name);\n        return new XAxisClass(this);\n    };\n    XAxisPane.prototype.createMainWidget = function (container) {\n        return new XAxisWidget(container, this);\n    };\n    return XAxisPane;\n}(DrawPane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction throttle(func, wait) {\n    var previous = 0;\n    return function () {\n        var now = Date.now();\n        if (now - previous > (wait )) {\n            func.apply(this, arguments);\n            previous = now;\n        }\n    };\n}\n// export function memoize<R1 = any, R2 = any> (func: (...args: any[]) => R1, resolver?: (...args: any[]) => R2): (...args: any[]) => R1 {\n//   if (!isFunction(func) || (isValid(resolver) && !isFunction(resolver))) {\n//     throw new TypeError('Expected a function')\n//   }\n//   const memoized = function (...args: any[]): any {\n//     const key = isFunction(resolver) ? resolver.apply(this, args) : args[0]\n//     const cache = memoized.cache\n//     if (cache.has(key)) {\n//       return cache.get(key)\n//     }\n//     const result = func.apply(this, args)\n//     // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n//     memoized.cache = cache.set(key, result) || cache\n//     return result\n//   }\n//   // eslint-disable-next-line @typescript-eslint/strict-boolean-expressions\n//   memoized.cache = new (memoize.Cache || Map)()\n//   return memoized\n// }\n// memoize.Cache = Map\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SeparatorWidget = /** @class */ (function (_super) {\n    __extends(SeparatorWidget, _super);\n    function SeparatorWidget(rootContainer, pane) {\n        var _this = _super.call(this, rootContainer, pane) || this;\n        _this._dragFlag = false;\n        _this._dragStartY = 0;\n        _this._topPaneHeight = 0;\n        _this._bottomPaneHeight = 0;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        _this._pressedMouseMoveEvent = throttle(_this._pressedTouchMouseMoveEvent, 20);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        _this.registerEvent('touchStartEvent', _this._mouseDownEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('touchMoveEvent', _this._pressedMouseMoveEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('touchEndEvent', _this._mouseUpEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('mouseDownEvent', _this._mouseDownEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('mouseUpEvent', _this._mouseUpEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('pressedMouseMoveEvent', _this._pressedMouseMoveEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('mouseEnterEvent', _this._mouseEnterEvent.bind(_this))\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            .registerEvent('mouseLeaveEvent', _this._mouseLeaveEvent.bind(_this));\n        return _this;\n    }\n    SeparatorWidget.prototype.getName = function () {\n        return WidgetNameConstants.SEPARATOR;\n    };\n    SeparatorWidget.prototype.checkEventOn = function () {\n        return true;\n    };\n    SeparatorWidget.prototype._mouseDownEvent = function (event) {\n        this._dragFlag = true;\n        this._dragStartY = event.pageY;\n        var pane = this.getPane();\n        this._topPaneHeight = pane.getTopPane().getBounding().height;\n        this._bottomPaneHeight = pane.getBottomPane().getBounding().height;\n        return true;\n    };\n    SeparatorWidget.prototype._mouseUpEvent = function () {\n        this._dragFlag = false;\n        return this._mouseLeaveEvent();\n    };\n    SeparatorWidget.prototype._pressedTouchMouseMoveEvent = function (event) {\n        var dragDistance = event.pageY - this._dragStartY;\n        var currentPane = this.getPane();\n        var topPane = currentPane.getTopPane();\n        var bottomPane = currentPane.getBottomPane();\n        var isUpDrag = dragDistance < 0;\n        if (topPane !== null &&\n            (bottomPane === null || bottomPane === void 0 ? void 0 : bottomPane.getOptions().dragEnabled)) {\n            var reducedPane = void 0;\n            var increasedPane = void 0;\n            var startDragReducedPaneHeight = void 0;\n            var startDragIncreasedPaneHeight = void 0;\n            if (isUpDrag) {\n                reducedPane = topPane;\n                increasedPane = bottomPane;\n                startDragReducedPaneHeight = this._topPaneHeight;\n                startDragIncreasedPaneHeight = this._bottomPaneHeight;\n            }\n            else {\n                reducedPane = bottomPane;\n                increasedPane = topPane;\n                startDragReducedPaneHeight = this._bottomPaneHeight;\n                startDragIncreasedPaneHeight = this._topPaneHeight;\n            }\n            var reducedPaneMinHeight = reducedPane.getOptions().minHeight;\n            if (startDragReducedPaneHeight > reducedPaneMinHeight) {\n                var reducedPaneHeight = Math.max(startDragReducedPaneHeight - Math.abs(dragDistance), reducedPaneMinHeight);\n                var diffHeight = startDragReducedPaneHeight - reducedPaneHeight;\n                reducedPane.setBounding({ height: reducedPaneHeight });\n                increasedPane.setBounding({ height: startDragIncreasedPaneHeight + diffHeight });\n                var chart = currentPane.getChart();\n                chart.getChartStore().getActionStore().execute(ActionType.OnPaneDrag, { paneId: currentPane.getId() });\n                chart.adjustPaneViewport(true, true, true, true, true);\n            }\n        }\n        return true;\n    };\n    SeparatorWidget.prototype._mouseEnterEvent = function () {\n        var _a;\n        var pane = this.getPane();\n        var bottomPane = pane.getBottomPane();\n        if ((_a = bottomPane === null || bottomPane === void 0 ? void 0 : bottomPane.getOptions().dragEnabled) !== null && _a !== void 0 ? _a : false) {\n            var chart = pane.getChart();\n            var styles = chart.getStyles().separator;\n            this.getContainer().style.background = styles.activeBackgroundColor;\n            return true;\n        }\n        return false;\n    };\n    SeparatorWidget.prototype._mouseLeaveEvent = function () {\n        if (!this._dragFlag) {\n            this.getContainer().style.background = '';\n            return true;\n        }\n        return false;\n    };\n    SeparatorWidget.prototype.createContainer = function () {\n        return createDom('div', {\n            width: '100%',\n            height: \"\".concat(REAL_SEPARATOR_HEIGHT, \"px\"),\n            margin: '0',\n            padding: '0',\n            position: 'absolute',\n            top: '-3px',\n            zIndex: '20',\n            boxSizing: 'border-box',\n            cursor: 'ns-resize'\n        });\n    };\n    SeparatorWidget.prototype.updateImp = function (container, _bounding, level) {\n        if (level === 4 /* UpdateLevel.All */ || level === 2 /* UpdateLevel.Separator */) {\n            var styles = this.getPane().getChart().getStyles().separator;\n            container.style.top = \"\".concat(-Math.floor((REAL_SEPARATOR_HEIGHT - styles.size) / 2), \"px\");\n            container.style.height = \"\".concat(REAL_SEPARATOR_HEIGHT, \"px\");\n        }\n    };\n    return SeparatorWidget;\n}(Widget));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar SeparatorPane = /** @class */ (function (_super) {\n    __extends(SeparatorPane, _super);\n    function SeparatorPane(rootContainer, afterElement, chart, id, topPane, bottomPane) {\n        var _this = _super.call(this, rootContainer, afterElement, chart, id) || this;\n        _this.getContainer().style.overflow = '';\n        _this._topPane = topPane;\n        _this._bottomPane = bottomPane;\n        _this._separatorWidget = new SeparatorWidget(_this.getContainer(), _this);\n        return _this;\n    }\n    SeparatorPane.prototype.setBounding = function (rootBounding) {\n        merge(this.getBounding(), rootBounding);\n        return this;\n    };\n    SeparatorPane.prototype.getTopPane = function () {\n        return this._topPane;\n    };\n    SeparatorPane.prototype.setTopPane = function (pane) {\n        this._topPane = pane;\n        return this;\n    };\n    SeparatorPane.prototype.getBottomPane = function () {\n        return this._bottomPane;\n    };\n    SeparatorPane.prototype.setBottomPane = function (pane) {\n        this._bottomPane = pane;\n        return this;\n    };\n    SeparatorPane.prototype.getWidget = function () { return this._separatorWidget; };\n    SeparatorPane.prototype.getImage = function (_includeOverlay) {\n        var _a = this.getBounding(), width = _a.width, height = _a.height;\n        var styles = this.getChart().getStyles().separator;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.fillStyle = styles.color;\n        ctx.fillRect(0, 0, width, height);\n        return canvas;\n    };\n    SeparatorPane.prototype.updateImp = function (level, container, bounding) {\n        if (level === 4 /* UpdateLevel.All */ || level === 2 /* UpdateLevel.Separator */) {\n            var styles = this.getChart().getStyles().separator;\n            container.style.backgroundColor = styles.color;\n            container.style.height = \"\".concat(bounding.height, \"px\");\n            container.style.marginLeft = \"\".concat(bounding.left, \"px\");\n            container.style.width = \"\".concat(bounding.width, \"px\");\n            this._separatorWidget.update(level);\n        }\n    };\n    return SeparatorPane;\n}(Pane));\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isFF() {\n    var _a;\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    return ((_a = window.navigator.userAgent.toLowerCase().indexOf('firefox')) !== null && _a !== void 0 ? _a : -1) > -1;\n}\nfunction isIOS() {\n    if (typeof window === 'undefined') {\n        return false;\n    }\n    return /iPhone|iPad|iPod/.test(window.navigator.platform);\n}\n\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar TOUCH_MIN_RADIUS = 10;\n// TODO: get rid of a lot of boolean flags, probably we should replace it with some enum\nvar SyntheticEvent = /** @class */ (function () {\n    function SyntheticEvent(target, handler, options) {\n        var _this = this;\n        this._clickCount = 0;\n        this._clickTimeoutId = null;\n        this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n        this._tapCount = 0;\n        this._tapTimeoutId = null;\n        this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n        this._longTapTimeoutId = null;\n        this._longTapActive = false;\n        this._mouseMoveStartCoordinate = null;\n        this._touchMoveStartCoordinate = null;\n        this._touchMoveExceededManhattanDistance = false;\n        this._cancelClick = false;\n        this._cancelTap = false;\n        this._unsubscribeOutsideMouseEvents = null;\n        this._unsubscribeOutsideTouchEvents = null;\n        this._unsubscribeMobileSafariEvents = null;\n        this._unsubscribeMousemove = null;\n        this._unsubscribeMouseWheel = null;\n        this._unsubscribeContextMenu = null;\n        this._unsubscribeRootMouseEvents = null;\n        this._unsubscribeRootTouchEvents = null;\n        this._startPinchMiddleCoordinate = null;\n        this._startPinchDistance = 0;\n        this._pinchPrevented = false;\n        this._preventTouchDragProcess = false;\n        this._mousePressed = false;\n        this._lastTouchEventTimeStamp = 0;\n        // for touchstart/touchmove/touchend events we handle only first touch\n        // i.e. we don't support several active touches at the same time (except pinch event)\n        this._activeTouchId = null;\n        // accept all mouse leave events if it's not an iOS device\n        // see _mouseEnterHandler, _mouseMoveHandler, _mouseLeaveHandler\n        this._acceptMouseLeave = !isIOS();\n        /**\n         * In Firefox mouse events dont't fire if the mouse position is outside of the browser's border.\n         * To prevent the mouse from hanging while pressed we're subscribing on the mouseleave event of the document element.\n         * We're subscribing on mouseleave, but this event is actually fired on mouseup outside of the browser's border.\n         */\n        this._onFirefoxOutsideMouseUp = function (mouseUpEvent) {\n            _this._mouseUpHandler(mouseUpEvent);\n        };\n        /**\n         * Safari doesn't fire touchstart/mousedown events on double tap since iOS 13.\n         * There are two possible solutions:\n         * 1) Call preventDefault in touchEnd handler. But it also prevents click event from firing.\n         * 2) Add listener on dblclick event that fires with the preceding mousedown/mouseup.\n         * https://developer.apple.com/forums/thread/125073\n         */\n        this._onMobileSafariDoubleClick = function (dblClickEvent) {\n            if (_this._firesTouchEvents(dblClickEvent)) {\n                ++_this._tapCount;\n                if (_this._tapTimeoutId !== null && _this._tapCount > 1) {\n                    var manhattanDistance = _this._mouseTouchMoveWithDownInfo(_this._getCoordinate(dblClickEvent), _this._tapCoordinate).manhattanDistance;\n                    if (manhattanDistance < 30 /* ManhattanDistance.DoubleTap */ && !_this._cancelTap) {\n                        _this._processEvent(_this._makeCompatEvent(dblClickEvent), _this._handler.doubleTapEvent);\n                    }\n                    _this._resetTapTimeout();\n                }\n            }\n            else {\n                ++_this._clickCount;\n                if (_this._clickTimeoutId !== null && _this._clickCount > 1) {\n                    var manhattanDistance = _this._mouseTouchMoveWithDownInfo(_this._getCoordinate(dblClickEvent), _this._clickCoordinate).manhattanDistance;\n                    if (manhattanDistance < 5 /* ManhattanDistance.DoubleClick */ && !_this._cancelClick) {\n                        _this._processEvent(_this._makeCompatEvent(dblClickEvent), _this._handler.mouseDoubleClickEvent);\n                    }\n                    _this._resetClickTimeout();\n                }\n            }\n        };\n        this._target = target;\n        this._handler = handler;\n        this._options = options;\n        this._init();\n    }\n    SyntheticEvent.prototype.destroy = function () {\n        if (this._unsubscribeOutsideMouseEvents !== null) {\n            this._unsubscribeOutsideMouseEvents();\n            this._unsubscribeOutsideMouseEvents = null;\n        }\n        if (this._unsubscribeOutsideTouchEvents !== null) {\n            this._unsubscribeOutsideTouchEvents();\n            this._unsubscribeOutsideTouchEvents = null;\n        }\n        if (this._unsubscribeMousemove !== null) {\n            this._unsubscribeMousemove();\n            this._unsubscribeMousemove = null;\n        }\n        if (this._unsubscribeMouseWheel !== null) {\n            this._unsubscribeMouseWheel();\n            this._unsubscribeMouseWheel = null;\n        }\n        if (this._unsubscribeContextMenu !== null) {\n            this._unsubscribeContextMenu();\n            this._unsubscribeContextMenu = null;\n        }\n        if (this._unsubscribeRootMouseEvents !== null) {\n            this._unsubscribeRootMouseEvents();\n            this._unsubscribeRootMouseEvents = null;\n        }\n        if (this._unsubscribeRootTouchEvents !== null) {\n            this._unsubscribeRootTouchEvents();\n            this._unsubscribeRootTouchEvents = null;\n        }\n        if (this._unsubscribeMobileSafariEvents !== null) {\n            this._unsubscribeMobileSafariEvents();\n            this._unsubscribeMobileSafariEvents = null;\n        }\n        this._clearLongTapTimeout();\n        this._resetClickTimeout();\n    };\n    SyntheticEvent.prototype._mouseEnterHandler = function (enterEvent) {\n        var _this = this;\n        var _a, _b, _c;\n        (_a = this._unsubscribeMousemove) === null || _a === void 0 ? void 0 : _a.call(this);\n        (_b = this._unsubscribeMouseWheel) === null || _b === void 0 ? void 0 : _b.call(this);\n        (_c = this._unsubscribeContextMenu) === null || _c === void 0 ? void 0 : _c.call(this);\n        var boundMouseMoveHandler = this._mouseMoveHandler.bind(this);\n        this._unsubscribeMousemove = function () {\n            _this._target.removeEventListener('mousemove', boundMouseMoveHandler);\n        };\n        this._target.addEventListener('mousemove', boundMouseMoveHandler);\n        var boundMouseWheel = this._mouseWheelHandler.bind(this);\n        this._unsubscribeMouseWheel = function () {\n            _this._target.removeEventListener('wheel', boundMouseWheel);\n        };\n        this._target.addEventListener('wheel', boundMouseWheel, { passive: false });\n        var boundContextMenu = this._contextMenuHandler.bind(this);\n        this._unsubscribeContextMenu = function () {\n            _this._target.removeEventListener('contextmenu', boundContextMenu);\n        };\n        this._target.addEventListener('contextmenu', boundContextMenu, { passive: false });\n        if (this._firesTouchEvents(enterEvent)) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(enterEvent), this._handler.mouseEnterEvent);\n        this._acceptMouseLeave = true;\n    };\n    SyntheticEvent.prototype._resetClickTimeout = function () {\n        if (this._clickTimeoutId !== null) {\n            clearTimeout(this._clickTimeoutId);\n        }\n        this._clickCount = 0;\n        this._clickTimeoutId = null;\n        this._clickCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n    };\n    SyntheticEvent.prototype._resetTapTimeout = function () {\n        if (this._tapTimeoutId !== null) {\n            clearTimeout(this._tapTimeoutId);\n        }\n        this._tapCount = 0;\n        this._tapTimeoutId = null;\n        this._tapCoordinate = { x: Number.NEGATIVE_INFINITY, y: Number.POSITIVE_INFINITY };\n    };\n    SyntheticEvent.prototype._mouseMoveHandler = function (moveEvent) {\n        if (this._mousePressed || this._touchMoveStartCoordinate !== null) {\n            return;\n        }\n        if (this._firesTouchEvents(moveEvent)) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(moveEvent), this._handler.mouseMoveEvent);\n        this._acceptMouseLeave = true;\n    };\n    SyntheticEvent.prototype._mouseWheelHandler = function (wheelEvent) {\n        if (Math.abs(wheelEvent.deltaX) > Math.abs(wheelEvent.deltaY)) {\n            if (!isValid(this._handler.mouseWheelHortEvent)) {\n                return;\n            }\n            this._preventDefault(wheelEvent);\n            if (Math.abs(wheelEvent.deltaX) === 0) {\n                return;\n            }\n            this._handler.mouseWheelHortEvent(this._makeCompatEvent(wheelEvent), -wheelEvent.deltaX);\n        }\n        else {\n            if (!isValid(this._handler.mouseWheelVertEvent)) {\n                return;\n            }\n            var deltaY = -(wheelEvent.deltaY / 100);\n            if (deltaY === 0) {\n                return;\n            }\n            this._preventDefault(wheelEvent);\n            switch (wheelEvent.deltaMode) {\n                case wheelEvent.DOM_DELTA_PAGE:\n                    deltaY *= 120;\n                    break;\n                case wheelEvent.DOM_DELTA_LINE:\n                    deltaY *= 32;\n                    break;\n            }\n            if (deltaY !== 0) {\n                var scale = Math.sign(deltaY) * Math.min(1, Math.abs(deltaY));\n                this._handler.mouseWheelVertEvent(this._makeCompatEvent(wheelEvent), scale);\n            }\n        }\n    };\n    SyntheticEvent.prototype._contextMenuHandler = function (mouseEvent) {\n        this._preventDefault(mouseEvent);\n    };\n    SyntheticEvent.prototype._touchMoveHandler = function (moveEvent) {\n        var touch = this._touchWithId(moveEvent.changedTouches, this._activeTouchId);\n        if (touch === null) {\n            return;\n        }\n        this._lastTouchEventTimeStamp = this._eventTimeStamp(moveEvent);\n        if (this._startPinchMiddleCoordinate !== null) {\n            return;\n        }\n        if (this._preventTouchDragProcess) {\n            return;\n        }\n        // prevent pinch if move event comes faster than the second touch\n        this._pinchPrevented = true;\n        var moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._touchMoveStartCoordinate);\n        var xOffset = moveInfo.xOffset, yOffset = moveInfo.yOffset, manhattanDistance = moveInfo.manhattanDistance;\n        if (!this._touchMoveExceededManhattanDistance && manhattanDistance < 5 /* ManhattanDistance.CancelTap */) {\n            return;\n        }\n        if (!this._touchMoveExceededManhattanDistance) {\n            // first time when current position exceeded manhattan distance\n            // vertical drag is more important than horizontal drag\n            // because we scroll the page vertically often than horizontally\n            var correctedXOffset = xOffset * 0.5;\n            // a drag can be only if touch page scroll isn't allowed\n            var isVertDrag = yOffset >= correctedXOffset && !this._options.treatVertDragAsPageScroll();\n            var isHorzDrag = correctedXOffset > yOffset && !this._options.treatHorzDragAsPageScroll();\n            // if drag event happened then we should revert preventDefault state to original one\n            // and try to process the drag event\n            // else we shouldn't prevent default of the event and ignore processing the drag event\n            if (!isVertDrag && !isHorzDrag) {\n                this._preventTouchDragProcess = true;\n            }\n            this._touchMoveExceededManhattanDistance = true;\n            // if manhattan distance is more that 5 - we should cancel tap event\n            this._cancelTap = true;\n            this._clearLongTapTimeout();\n            this._resetTapTimeout();\n        }\n        if (!this._preventTouchDragProcess) {\n            this._processEvent(this._makeCompatEvent(moveEvent, touch), this._handler.touchMoveEvent);\n            // we should prevent default in case of touch only\n            // to prevent scroll of the page\n            // preventDefault(moveEvent)\n        }\n    };\n    SyntheticEvent.prototype._mouseMoveWithDownHandler = function (moveEvent) {\n        if (moveEvent.button !== 0 /* MouseEventButton.Left */) {\n            return;\n        }\n        var moveInfo = this._mouseTouchMoveWithDownInfo(this._getCoordinate(moveEvent), this._mouseMoveStartCoordinate);\n        var manhattanDistance = moveInfo.manhattanDistance;\n        if (manhattanDistance >= 5 /* ManhattanDistance.CancelClick */) {\n            // if manhattan distance is more that 5 - we should cancel click event\n            this._cancelClick = true;\n            this._resetClickTimeout();\n        }\n        if (this._cancelClick) {\n            // if this._cancelClick is true, that means that minimum manhattan distance is already exceeded\n            this._processEvent(this._makeCompatEvent(moveEvent), this._handler.pressedMouseMoveEvent);\n        }\n    };\n    SyntheticEvent.prototype._mouseTouchMoveWithDownInfo = function (currentCoordinate, startCoordinate) {\n        var xOffset = Math.abs(startCoordinate.x - currentCoordinate.x);\n        var yOffset = Math.abs(startCoordinate.y - currentCoordinate.y);\n        var manhattanDistance = xOffset + yOffset;\n        return { xOffset: xOffset, yOffset: yOffset, manhattanDistance: manhattanDistance };\n    };\n    // eslint-disable-next-line complexity\n    SyntheticEvent.prototype._touchEndHandler = function (touchEndEvent) {\n        var touch = this._touchWithId(touchEndEvent.changedTouches, this._activeTouchId);\n        if (touch === null && touchEndEvent.touches.length === 0) {\n            // something went wrong, somehow we missed the required touchend event\n            // probably the browser has not sent this event\n            touch = touchEndEvent.changedTouches[0];\n        }\n        if (touch === null) {\n            return;\n        }\n        this._activeTouchId = null;\n        this._lastTouchEventTimeStamp = this._eventTimeStamp(touchEndEvent);\n        this._clearLongTapTimeout();\n        this._touchMoveStartCoordinate = null;\n        if (this._unsubscribeRootTouchEvents !== null) {\n            this._unsubscribeRootTouchEvents();\n            this._unsubscribeRootTouchEvents = null;\n        }\n        var compatEvent = this._makeCompatEvent(touchEndEvent, touch);\n        this._processEvent(compatEvent, this._handler.touchEndEvent);\n        ++this._tapCount;\n        if (this._tapTimeoutId !== null && this._tapCount > 1) {\n            // check that both clicks are near enough\n            var manhattanDistance = this._mouseTouchMoveWithDownInfo(this._getCoordinate(touch), this._tapCoordinate).manhattanDistance;\n            if (manhattanDistance < 30 /* ManhattanDistance.DoubleTap */ && !this._cancelTap) {\n                this._processEvent(compatEvent, this._handler.doubleTapEvent);\n            }\n            this._resetTapTimeout();\n        }\n        else {\n            if (!this._cancelTap) {\n                this._processEvent(compatEvent, this._handler.tapEvent);\n                // do not fire mouse events if tap handler was executed\n                // prevent click event on new dom element (who appeared after tap)\n                if (isValid(this._handler.tapEvent)) {\n                    this._preventDefault(touchEndEvent);\n                }\n            }\n        }\n        // prevent, for example, safari's dblclick-to-zoom or fast-click after long-tap\n        // we handle mouseDoubleClickEvent here ourselves\n        if (this._tapCount === 0) {\n            this._preventDefault(touchEndEvent);\n        }\n        if (touchEndEvent.touches.length === 0) {\n            if (this._longTapActive) {\n                this._longTapActive = false;\n                // prevent native click event\n                this._preventDefault(touchEndEvent);\n            }\n        }\n    };\n    SyntheticEvent.prototype._mouseUpHandler = function (mouseUpEvent) {\n        if (mouseUpEvent.button !== 0 /* MouseEventButton.Left */) {\n            return;\n        }\n        var compatEvent = this._makeCompatEvent(mouseUpEvent);\n        this._mouseMoveStartCoordinate = null;\n        this._mousePressed = false;\n        if (this._unsubscribeRootMouseEvents !== null) {\n            this._unsubscribeRootMouseEvents();\n            this._unsubscribeRootMouseEvents = null;\n        }\n        if (isFF()) {\n            var rootElement = this._target.ownerDocument.documentElement;\n            rootElement.removeEventListener('mouseleave', this._onFirefoxOutsideMouseUp);\n        }\n        if (this._firesTouchEvents(mouseUpEvent)) {\n            return;\n        }\n        this._processEvent(compatEvent, this._handler.mouseUpEvent);\n        ++this._clickCount;\n        if (this._clickTimeoutId !== null && this._clickCount > 1) {\n            // check that both clicks are near enough\n            var manhattanDistance = this._mouseTouchMoveWithDownInfo(this._getCoordinate(mouseUpEvent), this._clickCoordinate).manhattanDistance;\n            if (manhattanDistance < 5 /* ManhattanDistance.DoubleClick */ && !this._cancelClick) {\n                this._processEvent(compatEvent, this._handler.mouseDoubleClickEvent);\n            }\n            this._resetClickTimeout();\n        }\n        else {\n            if (!this._cancelClick) {\n                this._processEvent(compatEvent, this._handler.mouseClickEvent);\n            }\n        }\n    };\n    SyntheticEvent.prototype._clearLongTapTimeout = function () {\n        if (this._longTapTimeoutId === null) {\n            return;\n        }\n        clearTimeout(this._longTapTimeoutId);\n        this._longTapTimeoutId = null;\n    };\n    SyntheticEvent.prototype._touchStartHandler = function (downEvent) {\n        if (this._activeTouchId !== null) {\n            return;\n        }\n        var touch = downEvent.changedTouches[0];\n        this._activeTouchId = touch.identifier;\n        this._lastTouchEventTimeStamp = this._eventTimeStamp(downEvent);\n        var rootElement = this._target.ownerDocument.documentElement;\n        this._cancelTap = false;\n        this._touchMoveExceededManhattanDistance = false;\n        this._preventTouchDragProcess = false;\n        this._touchMoveStartCoordinate = this._getCoordinate(touch);\n        if (this._unsubscribeRootTouchEvents !== null) {\n            this._unsubscribeRootTouchEvents();\n            this._unsubscribeRootTouchEvents = null;\n        }\n        {\n            var boundTouchMoveWithDownHandler_1 = this._touchMoveHandler.bind(this);\n            var boundTouchEndHandler_1 = this._touchEndHandler.bind(this);\n            this._unsubscribeRootTouchEvents = function () {\n                rootElement.removeEventListener('touchmove', boundTouchMoveWithDownHandler_1);\n                rootElement.removeEventListener('touchend', boundTouchEndHandler_1);\n            };\n            rootElement.addEventListener('touchmove', boundTouchMoveWithDownHandler_1, { passive: false });\n            rootElement.addEventListener('touchend', boundTouchEndHandler_1, { passive: false });\n            this._clearLongTapTimeout();\n            this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, downEvent), 500 /* Delay.LongTap */);\n        }\n        this._processEvent(this._makeCompatEvent(downEvent, touch), this._handler.touchStartEvent);\n        if (this._tapTimeoutId === null) {\n            this._tapCount = 0;\n            this._tapTimeoutId = setTimeout(this._resetTapTimeout.bind(this), 500 /* Delay.ResetClick */);\n            this._tapCoordinate = this._getCoordinate(touch);\n        }\n    };\n    SyntheticEvent.prototype._mouseDownHandler = function (downEvent) {\n        if (downEvent.button === 2 /* MouseEventButton.Right */) {\n            this._preventDefault(downEvent);\n            this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseRightClickEvent);\n            return;\n        }\n        if (downEvent.button !== 0 /* MouseEventButton.Left */) {\n            return;\n        }\n        var rootElement = this._target.ownerDocument.documentElement;\n        if (isFF()) {\n            rootElement.addEventListener('mouseleave', this._onFirefoxOutsideMouseUp);\n        }\n        this._cancelClick = false;\n        this._mouseMoveStartCoordinate = this._getCoordinate(downEvent);\n        if (this._unsubscribeRootMouseEvents !== null) {\n            this._unsubscribeRootMouseEvents();\n            this._unsubscribeRootMouseEvents = null;\n        }\n        {\n            var boundMouseMoveWithDownHandler_1 = this._mouseMoveWithDownHandler.bind(this);\n            var boundMouseUpHandler_1 = this._mouseUpHandler.bind(this);\n            this._unsubscribeRootMouseEvents = function () {\n                rootElement.removeEventListener('mousemove', boundMouseMoveWithDownHandler_1);\n                rootElement.removeEventListener('mouseup', boundMouseUpHandler_1);\n            };\n            rootElement.addEventListener('mousemove', boundMouseMoveWithDownHandler_1);\n            rootElement.addEventListener('mouseup', boundMouseUpHandler_1);\n        }\n        this._mousePressed = true;\n        if (this._firesTouchEvents(downEvent)) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(downEvent), this._handler.mouseDownEvent);\n        if (this._clickTimeoutId === null) {\n            this._clickCount = 0;\n            this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), 500 /* Delay.ResetClick */);\n            this._clickCoordinate = this._getCoordinate(downEvent);\n        }\n    };\n    SyntheticEvent.prototype._init = function () {\n        var _this = this;\n        this._target.addEventListener('mouseenter', this._mouseEnterHandler.bind(this));\n        // Do not show context menu when something went wrong\n        this._target.addEventListener('touchcancel', this._clearLongTapTimeout.bind(this));\n        {\n            var doc_1 = this._target.ownerDocument;\n            var outsideHandler_1 = function (event) {\n                if (_this._handler.mouseDownOutsideEvent == null) {\n                    return;\n                }\n                if (event.composed && _this._target.contains(event.composedPath()[0])) {\n                    return;\n                }\n                if ((event.target !== null) && _this._target.contains(event.target)) {\n                    return;\n                }\n                _this._handler.mouseDownOutsideEvent({ x: 0, y: 0, pageX: 0, pageY: 0 });\n            };\n            this._unsubscribeOutsideTouchEvents = function () {\n                doc_1.removeEventListener('touchstart', outsideHandler_1);\n            };\n            this._unsubscribeOutsideMouseEvents = function () {\n                doc_1.removeEventListener('mousedown', outsideHandler_1);\n            };\n            doc_1.addEventListener('mousedown', outsideHandler_1);\n            doc_1.addEventListener('touchstart', outsideHandler_1, { passive: true });\n        }\n        if (isIOS()) {\n            this._unsubscribeMobileSafariEvents = function () {\n                _this._target.removeEventListener('dblclick', _this._onMobileSafariDoubleClick);\n            };\n            this._target.addEventListener('dblclick', this._onMobileSafariDoubleClick);\n        }\n        this._target.addEventListener('mouseleave', this._mouseLeaveHandler.bind(this));\n        this._target.addEventListener('touchstart', this._touchStartHandler.bind(this), { passive: true });\n        this._target.addEventListener('mousedown', function (e) {\n            if (e.button === 1 /* MouseEventButton.Middle */) {\n                // prevent incorrect scrolling event\n                e.preventDefault();\n                return false;\n            }\n            return undefined;\n        });\n        this._target.addEventListener('mousedown', this._mouseDownHandler.bind(this));\n        this._initPinch();\n        // Hey mobile Safari, what's up?\n        // If mobile Safari doesn't have any touchmove handler with passive=false\n        // it treats a touchstart and the following touchmove events as cancelable=false,\n        // so we can't prevent them (as soon we subscribe on touchmove inside touchstart's handler).\n        // And we'll get scroll of the page along with chart's one instead of only chart's scroll.\n        this._target.addEventListener('touchmove', function () { }, { passive: false });\n    };\n    SyntheticEvent.prototype._initPinch = function () {\n        var _this = this;\n        if (!isValid(this._handler.pinchStartEvent) &&\n            !isValid(this._handler.pinchEvent) &&\n            !isValid(this._handler.pinchEndEvent)) {\n            return;\n        }\n        this._target.addEventListener('touchstart', function (event) { _this._checkPinchState(event.touches); }, { passive: true });\n        this._target.addEventListener('touchmove', function (event) {\n            if (event.touches.length !== 2 || _this._startPinchMiddleCoordinate === null) {\n                return;\n            }\n            if (isValid(_this._handler.pinchEvent)) {\n                var currentDistance = _this._getTouchDistance(event.touches[0], event.touches[1]);\n                var scale = currentDistance / _this._startPinchDistance;\n                _this._handler.pinchEvent(__assign(__assign({}, _this._startPinchMiddleCoordinate), { pageX: 0, pageY: 0 }), scale);\n                _this._preventDefault(event);\n            }\n        }, { passive: false });\n        this._target.addEventListener('touchend', function (event) {\n            _this._checkPinchState(event.touches);\n        });\n    };\n    SyntheticEvent.prototype._checkPinchState = function (touches) {\n        if (touches.length === 1) {\n            this._pinchPrevented = false;\n        }\n        if (touches.length !== 2 || this._pinchPrevented || this._longTapActive) {\n            this._stopPinch();\n        }\n        else {\n            this._startPinch(touches);\n        }\n    };\n    SyntheticEvent.prototype._startPinch = function (touches) {\n        var _a;\n        var box = (_a = this._target.getBoundingClientRect()) !== null && _a !== void 0 ? _a : { left: 0, top: 0 };\n        this._startPinchMiddleCoordinate = {\n            x: ((touches[0].clientX - box.left) + (touches[1].clientX - box.left)) / 2,\n            y: ((touches[0].clientY - box.top) + (touches[1].clientY - box.top)) / 2\n        };\n        this._startPinchDistance = this._getTouchDistance(touches[0], touches[1]);\n        if (isValid(this._handler.pinchStartEvent)) {\n            this._handler.pinchStartEvent({ x: 0, y: 0, pageX: 0, pageY: 0 });\n        }\n        this._clearLongTapTimeout();\n    };\n    SyntheticEvent.prototype._stopPinch = function () {\n        if (this._startPinchMiddleCoordinate === null) {\n            return;\n        }\n        this._startPinchMiddleCoordinate = null;\n        if (isValid(this._handler.pinchEndEvent)) {\n            this._handler.pinchEndEvent({ x: 0, y: 0, pageX: 0, pageY: 0 });\n        }\n    };\n    SyntheticEvent.prototype._mouseLeaveHandler = function (event) {\n        var _a, _b, _c;\n        (_a = this._unsubscribeMousemove) === null || _a === void 0 ? void 0 : _a.call(this);\n        (_b = this._unsubscribeMouseWheel) === null || _b === void 0 ? void 0 : _b.call(this);\n        (_c = this._unsubscribeContextMenu) === null || _c === void 0 ? void 0 : _c.call(this);\n        if (this._firesTouchEvents(event)) {\n            return;\n        }\n        if (!this._acceptMouseLeave) {\n            // mobile Safari sometimes emits mouse leave event for no reason, there is no way to handle it in other way\n            // just ignore this event if there was no mouse move or mouse enter events\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(event), this._handler.mouseLeaveEvent);\n        // accept all mouse leave events if it's not an iOS device\n        this._acceptMouseLeave = !isIOS();\n    };\n    SyntheticEvent.prototype._longTapHandler = function (event) {\n        var touch = this._touchWithId(event.touches, this._activeTouchId);\n        if (touch === null) {\n            return;\n        }\n        this._processEvent(this._makeCompatEvent(event, touch), this._handler.longTapEvent);\n        this._cancelTap = true;\n        // long tap is active until touchend event with 0 touches occurred\n        this._longTapActive = true;\n    };\n    SyntheticEvent.prototype._firesTouchEvents = function (e) {\n        var _a;\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-expect-error\n        if (isValid((_a = e.sourceCapabilities) === null || _a === void 0 ? void 0 : _a.firesTouchEvents)) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-expect-error\n            return e.sourceCapabilities.firesTouchEvents;\n        }\n        return this._eventTimeStamp(e) < this._lastTouchEventTimeStamp + 500 /* Delay.PreventFiresTouchEvents */;\n    };\n    SyntheticEvent.prototype._processEvent = function (event, callback) {\n        callback === null || callback === void 0 ? void 0 : callback.call(this._handler, event);\n    };\n    SyntheticEvent.prototype._makeCompatEvent = function (event, touch) {\n        var _this = this;\n        var _a;\n        // TouchEvent has no clientX/Y coordinates:\n        // We have to use the last Touch instead\n        var eventLike = touch !== null && touch !== void 0 ? touch : event;\n        var box = (_a = this._target.getBoundingClientRect()) !== null && _a !== void 0 ? _a : { left: 0, top: 0 };\n        return {\n            x: eventLike.clientX - box.left,\n            y: eventLike.clientY - box.top,\n            pageX: eventLike.pageX,\n            pageY: eventLike.pageY,\n            isTouch: !event.type.startsWith('mouse') && event.type !== 'contextmenu' && event.type !== 'click' && event.type !== 'wheel',\n            preventDefault: function () {\n                if (event.type !== 'touchstart') {\n                    // touchstart is passive and cannot be prevented\n                    _this._preventDefault(event);\n                }\n            }\n        };\n    };\n    SyntheticEvent.prototype._getTouchDistance = function (p1, p2) {\n        var xDiff = p1.clientX - p2.clientX;\n        var yDiff = p1.clientY - p2.clientY;\n        return Math.sqrt(xDiff * xDiff + yDiff * yDiff);\n    };\n    SyntheticEvent.prototype._preventDefault = function (event) {\n        if (event.cancelable) {\n            event.preventDefault();\n        }\n    };\n    SyntheticEvent.prototype._getCoordinate = function (eventLike) {\n        return {\n            x: eventLike.pageX,\n            y: eventLike.pageY\n        };\n    };\n    SyntheticEvent.prototype._eventTimeStamp = function (e) {\n        var _a;\n        // for some reason e.timestamp is always 0 on iPad with magic mouse, so we use performance.now() as a fallback\n        return (_a = e.timeStamp) !== null && _a !== void 0 ? _a : performance.now();\n    };\n    SyntheticEvent.prototype._touchWithId = function (touches, id) {\n        for (var i = 0; i < touches.length; ++i) {\n            if (touches[i].identifier === id) {\n                return touches[i];\n            }\n        }\n        return null;\n    };\n    return SyntheticEvent;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar Event = /** @class */ (function () {\n    function Event(container, chart) {\n        var _this = this;\n        // æƒ¯æ€§æ»šåŠ¨å¼€å§‹æ—¶é—´\n        this._flingStartTime = new Date().getTime();\n        // æƒ¯æ€§æ»šåŠ¨å®šæ—¶å™¨\n        this._flingScrollRequestId = null;\n        // å¼€å§‹æ»šåŠ¨æ—¶åæ ‡ç‚¹\n        this._startScrollCoordinate = null;\n        // å¼€å§‹è§¦æ‘¸æ—¶åæ ‡\n        this._touchCoordinate = null;\n        // æ˜¯å¦æ˜¯å–æ¶ˆäº†åå­—å…‰æ ‡\n        this._touchCancelCrosshair = false;\n        // æ˜¯å¦ç¼©æ”¾è¿‡\n        this._touchZoomed = false;\n        // ç”¨æ¥è®°å½•æåˆç¼©æ”¾çš„å°ºå¯¸\n        this._pinchScale = 1;\n        this._mouseDownWidget = null;\n        this._prevYAxisRange = null;\n        this._xAxisStartScaleCoordinate = null;\n        this._xAxisStartScaleDistance = 0;\n        this._xAxisScale = 1;\n        this._yAxisStartScaleDistance = 0;\n        this._mouseMoveTriggerWidgetInfo = { pane: null, widget: null };\n        this._boundKeyBoardDownEvent = function (event) {\n            if (event.shiftKey) {\n                switch (event.code) {\n                    case 'Equal': {\n                        _this._chart.getChartStore().getTimeScaleStore().zoom(0.5);\n                        break;\n                    }\n                    case 'Minus': {\n                        _this._chart.getChartStore().getTimeScaleStore().zoom(-0.5);\n                        break;\n                    }\n                    case 'ArrowLeft': {\n                        var timeScaleStore = _this._chart.getChartStore().getTimeScaleStore();\n                        timeScaleStore.startScroll();\n                        timeScaleStore.scroll(-3 * timeScaleStore.getBarSpace().bar);\n                        break;\n                    }\n                    case 'ArrowRight': {\n                        var timeScaleStore = _this._chart.getChartStore().getTimeScaleStore();\n                        timeScaleStore.startScroll();\n                        timeScaleStore.scroll(3 * timeScaleStore.getBarSpace().bar);\n                        break;\n                    }\n                }\n            }\n        };\n        this._container = container;\n        this._chart = chart;\n        this._event = new SyntheticEvent(container, this, {\n            treatVertDragAsPageScroll: function () { return false; },\n            treatHorzDragAsPageScroll: function () { return false; }\n        });\n        container.addEventListener('keydown', this._boundKeyBoardDownEvent);\n    }\n    Event.prototype.pinchStartEvent = function () {\n        this._touchZoomed = true;\n        this._pinchScale = 1;\n        return true;\n    };\n    Event.prototype.pinchEvent = function (e, scale) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if ((pane === null || pane === void 0 ? void 0 : pane.getId()) !== PaneIdConstants.X_AXIS && (widget === null || widget === void 0 ? void 0 : widget.getName()) === WidgetNameConstants.MAIN) {\n            var event_1 = this._makeWidgetEvent(e, widget);\n            var zoomScale = (scale - this._pinchScale) * 5;\n            this._pinchScale = scale;\n            this._chart.getChartStore().getTimeScaleStore().zoom(zoomScale, { x: event_1.x, y: event_1.y });\n            return true;\n        }\n        return false;\n    };\n    Event.prototype.mouseWheelHortEvent = function (_, distance) {\n        var timeScaleStore = this._chart.getChartStore().getTimeScaleStore();\n        timeScaleStore.startScroll();\n        timeScaleStore.scroll(distance);\n        return true;\n    };\n    Event.prototype.mouseWheelVertEvent = function (e, scale) {\n        var widget = this._findWidgetByEvent(e).widget;\n        var event = this._makeWidgetEvent(e, widget);\n        var name = widget === null || widget === void 0 ? void 0 : widget.getName();\n        if (name === WidgetNameConstants.MAIN) {\n            this._chart.getChartStore().getTimeScaleStore().zoom(scale, { x: event.x, y: event.y });\n            return true;\n        }\n        return false;\n    };\n    Event.prototype.mouseDownEvent = function (e) {\n        var _a, _b;\n        var _c = this._findWidgetByEvent(e), pane = _c.pane, widget = _c.widget;\n        this._mouseDownWidget = widget;\n        if (widget !== null) {\n            var event_2 = this._makeWidgetEvent(e, widget);\n            var name_1 = widget.getName();\n            switch (name_1) {\n                case WidgetNameConstants.SEPARATOR: {\n                    return widget.dispatchEvent('mouseDownEvent', event_2);\n                }\n                case WidgetNameConstants.MAIN: {\n                    var range = (_a = pane.getAxisComponent().getRange()) !== null && _a !== void 0 ? _a : null;\n                    this._prevYAxisRange = range === null ? range : __assign({}, range);\n                    this._startScrollCoordinate = { x: event_2.x, y: event_2.y };\n                    this._chart.getChartStore().getTimeScaleStore().startScroll();\n                    return widget.dispatchEvent('mouseDownEvent', event_2);\n                }\n                case WidgetNameConstants.X_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseDownEvent', event_2);\n                    if (consumed) {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                    this._xAxisStartScaleCoordinate = { x: event_2.x, y: event_2.y };\n                    this._xAxisStartScaleDistance = event_2.pageX;\n                    return consumed;\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseDownEvent', event_2);\n                    if (consumed) {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                    var range = (_b = pane.getAxisComponent().getRange()) !== null && _b !== void 0 ? _b : null;\n                    this._prevYAxisRange = range === null ? range : __assign({}, range);\n                    this._yAxisStartScaleDistance = event_2.pageY;\n                    return consumed;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseMoveEvent = function (e) {\n        var _a, _b, _c;\n        var _d = this._findWidgetByEvent(e), pane = _d.pane, widget = _d.widget;\n        var event = this._makeWidgetEvent(e, widget);\n        if (((_a = this._mouseMoveTriggerWidgetInfo.pane) === null || _a === void 0 ? void 0 : _a.getId()) !== (pane === null || pane === void 0 ? void 0 : pane.getId()) ||\n            ((_b = this._mouseMoveTriggerWidgetInfo.widget) === null || _b === void 0 ? void 0 : _b.getName()) !== (widget === null || widget === void 0 ? void 0 : widget.getName())) {\n            widget === null || widget === void 0 ? void 0 : widget.dispatchEvent('mouseEnterEvent', event);\n            (_c = this._mouseMoveTriggerWidgetInfo.widget) === null || _c === void 0 ? void 0 : _c.dispatchEvent('mouseLeaveEvent', event);\n            this._mouseMoveTriggerWidgetInfo = { pane: pane, widget: widget };\n        }\n        if (widget !== null) {\n            var name_2 = widget.getName();\n            switch (name_2) {\n                case WidgetNameConstants.MAIN: {\n                    var consumed = widget.dispatchEvent('mouseMoveEvent', event);\n                    var chartStore = this._chart.getChartStore();\n                    var crosshair = { x: event.x, y: event.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() };\n                    if (consumed && chartStore.getTooltipStore().getActiveIcon() !== null) {\n                        crosshair = undefined;\n                        if (widget !== null) {\n                            widget.getContainer().style.cursor = 'pointer';\n                        }\n                    }\n                    this._chart.getChartStore().getTooltipStore().setCrosshair(crosshair);\n                    return consumed;\n                }\n                case WidgetNameConstants.SEPARATOR:\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseMoveEvent', event);\n                    this._chart.getChartStore().getTooltipStore().setCrosshair();\n                    return consumed;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.pressedMouseMoveEvent = function (e) {\n        var _a, _b, _c, _d, _e;\n        if (this._mouseDownWidget !== null && this._mouseDownWidget.getName() === WidgetNameConstants.SEPARATOR) {\n            return this._mouseDownWidget.dispatchEvent('pressedMouseMoveEvent', e);\n        }\n        var _f = this._findWidgetByEvent(e), pane = _f.pane, widget = _f.widget;\n        if (widget !== null &&\n            ((_a = this._mouseDownWidget) === null || _a === void 0 ? void 0 : _a.getPane().getId()) === (pane === null || pane === void 0 ? void 0 : pane.getId()) &&\n            ((_b = this._mouseDownWidget) === null || _b === void 0 ? void 0 : _b.getName()) === widget.getName()) {\n            var event_3 = this._makeWidgetEvent(e, widget);\n            var name_3 = widget.getName();\n            switch (name_3) {\n                case WidgetNameConstants.MAIN: {\n                    var bounding = widget.getBounding();\n                    var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event_3);\n                    if (!consumed && this._startScrollCoordinate !== null) {\n                        var yAxis = pane.getAxisComponent();\n                        if (this._prevYAxisRange !== null && !yAxis.getAutoCalcTickFlag() && yAxis.getScrollZoomEnabled()) {\n                            var _g = this._prevYAxisRange, from = _g.from, to = _g.to, range = _g.range;\n                            var distance_1;\n                            if ((_c = yAxis === null || yAxis === void 0 ? void 0 : yAxis.isReverse()) !== null && _c !== void 0 ? _c : false) {\n                                distance_1 = this._startScrollCoordinate.y - event_3.y;\n                            }\n                            else {\n                                distance_1 = event_3.y - this._startScrollCoordinate.y;\n                            }\n                            var scale = distance_1 / bounding.height;\n                            var difRange = range * scale;\n                            var newFrom = from + difRange;\n                            var newTo = to + difRange;\n                            var newRealFrom = yAxis.convertToRealValue(newFrom);\n                            var newRealTo = yAxis.convertToRealValue(newTo);\n                            yAxis.setRange({\n                                from: newFrom,\n                                to: newTo,\n                                range: newTo - newFrom,\n                                realFrom: newRealFrom,\n                                realTo: newRealTo,\n                                realRange: newRealTo - newRealFrom\n                            });\n                        }\n                        var distance = event_3.x - this._startScrollCoordinate.x;\n                        this._chart.getChartStore().getTimeScaleStore().scroll(distance);\n                    }\n                    this._chart.getChartStore().getTooltipStore().setCrosshair({ x: event_3.x, y: event_3.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n                    return consumed;\n                }\n                case WidgetNameConstants.X_AXIS: {\n                    var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event_3);\n                    if (!consumed) {\n                        var xAxis = pane.getAxisComponent();\n                        if (((_d = xAxis === null || xAxis === void 0 ? void 0 : xAxis.getScrollZoomEnabled()) !== null && _d !== void 0 ? _d : true)) {\n                            var scale = this._xAxisStartScaleDistance / event_3.pageX;\n                            if (Number.isFinite(scale)) {\n                                var zoomScale = (scale - this._xAxisScale) * 10;\n                                this._xAxisScale = scale;\n                                this._chart.getChartStore().getTimeScaleStore().zoom(zoomScale, (_e = this._xAxisStartScaleCoordinate) !== null && _e !== void 0 ? _e : undefined);\n                            }\n                        }\n                    }\n                    else {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                    return consumed;\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event_3);\n                    if (!consumed) {\n                        var yAxis = pane.getAxisComponent();\n                        if (this._prevYAxisRange !== null && yAxis.getScrollZoomEnabled()) {\n                            var _h = this._prevYAxisRange, from = _h.from, to = _h.to, range = _h.range;\n                            var scale = event_3.pageY / this._yAxisStartScaleDistance;\n                            var newRange = range * scale;\n                            var difRange = (newRange - range) / 2;\n                            var newFrom = from - difRange;\n                            var newTo = to + difRange;\n                            var newRealFrom = yAxis.convertToRealValue(newFrom);\n                            var newRealTo = yAxis.convertToRealValue(newTo);\n                            yAxis.setRange({\n                                from: newFrom,\n                                to: newTo,\n                                range: newRange,\n                                realFrom: newRealFrom,\n                                realTo: newRealTo,\n                                realRange: newRealTo - newRealFrom\n                            });\n                            this._chart.adjustPaneViewport(false, true, true, true);\n                        }\n                    }\n                    else {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                    return consumed;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseUpEvent = function (e) {\n        var widget = this._findWidgetByEvent(e).widget;\n        var consumed = false;\n        if (widget !== null) {\n            var event_4 = this._makeWidgetEvent(e, widget);\n            var name_4 = widget.getName();\n            switch (name_4) {\n                case WidgetNameConstants.MAIN:\n                case WidgetNameConstants.SEPARATOR:\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    consumed = widget.dispatchEvent('mouseUpEvent', event_4);\n                    break;\n                }\n            }\n            if (consumed) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n        this._mouseDownWidget = null;\n        this._startScrollCoordinate = null;\n        this._prevYAxisRange = null;\n        this._xAxisStartScaleCoordinate = null;\n        this._xAxisStartScaleDistance = 0;\n        this._xAxisScale = 1;\n        this._yAxisStartScaleDistance = 0;\n        return consumed;\n    };\n    Event.prototype.mouseClickEvent = function (e) {\n        var widget = this._findWidgetByEvent(e).widget;\n        if (widget !== null) {\n            var event_5 = this._makeWidgetEvent(e, widget);\n            return widget.dispatchEvent('mouseClickEvent', event_5);\n        }\n        return false;\n    };\n    Event.prototype.mouseRightClickEvent = function (e) {\n        var widget = this._findWidgetByEvent(e).widget;\n        var consumed = false;\n        if (widget !== null) {\n            var event_6 = this._makeWidgetEvent(e, widget);\n            var name_5 = widget.getName();\n            switch (name_5) {\n                case WidgetNameConstants.MAIN:\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    consumed = widget.dispatchEvent('mouseRightClickEvent', event_6);\n                    break;\n                }\n            }\n            if (consumed) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseDoubleClickEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if (widget !== null) {\n            var name_6 = widget.getName();\n            switch (name_6) {\n                case WidgetNameConstants.MAIN: {\n                    var event_7 = this._makeWidgetEvent(e, widget);\n                    return widget.dispatchEvent('mouseDoubleClickEvent', event_7);\n                }\n                case WidgetNameConstants.Y_AXIS: {\n                    var yAxis = pane.getAxisComponent();\n                    if (!yAxis.getAutoCalcTickFlag()) {\n                        yAxis.setAutoCalcTickFlag(true);\n                        this._chart.adjustPaneViewport(false, true, true, true);\n                        return true;\n                    }\n                    break;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.mouseLeaveEvent = function () {\n        this._chart.getChartStore().getTooltipStore().setCrosshair();\n        return true;\n    };\n    Event.prototype.touchStartEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if (widget !== null) {\n            var event_8 = this._makeWidgetEvent(e, widget);\n            var name_7 = widget.getName();\n            switch (name_7) {\n                case WidgetNameConstants.MAIN: {\n                    var chartStore = this._chart.getChartStore();\n                    var tooltipStore = chartStore.getTooltipStore();\n                    if (widget.dispatchEvent('mouseDownEvent', event_8)) {\n                        this._touchCancelCrosshair = true;\n                        this._touchCoordinate = null;\n                        tooltipStore.setCrosshair(undefined, { notInvalidate: true });\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                        return true;\n                    }\n                    if (this._flingScrollRequestId !== null) {\n                        cancelAnimationFrame(this._flingScrollRequestId);\n                        this._flingScrollRequestId = null;\n                    }\n                    this._flingStartTime = new Date().getTime();\n                    this._startScrollCoordinate = { x: event_8.x, y: event_8.y };\n                    chartStore.getTimeScaleStore().startScroll();\n                    this._touchZoomed = false;\n                    if (this._touchCoordinate !== null) {\n                        var xDif = event_8.x - this._touchCoordinate.x;\n                        var yDif = event_8.y - this._touchCoordinate.y;\n                        var radius = Math.sqrt(xDif * xDif + yDif * yDif);\n                        if (radius < TOUCH_MIN_RADIUS) {\n                            this._touchCoordinate = { x: event_8.x, y: event_8.y };\n                            tooltipStore.setCrosshair({ x: event_8.x, y: event_8.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n                        }\n                        else {\n                            this._touchCoordinate = null;\n                            this._touchCancelCrosshair = true;\n                            tooltipStore.setCrosshair();\n                        }\n                    }\n                    return true;\n                }\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseDownEvent', event_8);\n                    if (consumed) {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                    return consumed;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.touchMoveEvent = function (e) {\n        var _a, _b, _c;\n        var _d = this._findWidgetByEvent(e), pane = _d.pane, widget = _d.widget;\n        if (widget !== null) {\n            var event_9 = this._makeWidgetEvent(e, widget);\n            var name_8 = widget.getName();\n            var chartStore = this._chart.getChartStore();\n            var tooltipStore = chartStore.getTooltipStore();\n            switch (name_8) {\n                case WidgetNameConstants.MAIN: {\n                    if (widget.dispatchEvent('pressedMouseMoveEvent', event_9)) {\n                        (_a = event_9.preventDefault) === null || _a === void 0 ? void 0 : _a.call(event_9);\n                        tooltipStore.setCrosshair(undefined, { notInvalidate: true });\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                        return true;\n                    }\n                    if (this._touchCoordinate !== null) {\n                        (_b = event_9.preventDefault) === null || _b === void 0 ? void 0 : _b.call(event_9);\n                        tooltipStore.setCrosshair({ x: event_9.x, y: event_9.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n                    }\n                    else {\n                        if (this._startScrollCoordinate !== null &&\n                            Math.abs(this._startScrollCoordinate.x - event_9.x) > this._startScrollCoordinate.y - event_9.y) {\n                            var distance = event_9.x - this._startScrollCoordinate.x;\n                            chartStore.getTimeScaleStore().scroll(distance);\n                        }\n                    }\n                    return true;\n                }\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('pressedMouseMoveEvent', event_9);\n                    if (consumed) {\n                        (_c = event_9.preventDefault) === null || _c === void 0 ? void 0 : _c.call(event_9);\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                    return consumed;\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.touchEndEvent = function (e) {\n        var _this = this;\n        var widget = this._findWidgetByEvent(e).widget;\n        if (widget !== null) {\n            var event_10 = this._makeWidgetEvent(e, widget);\n            var name_9 = widget.getName();\n            switch (name_9) {\n                case WidgetNameConstants.MAIN: {\n                    widget.dispatchEvent('mouseUpEvent', event_10);\n                    if (this._startScrollCoordinate !== null) {\n                        var time = new Date().getTime() - this._flingStartTime;\n                        var distance = event_10.x - this._startScrollCoordinate.x;\n                        var v_1 = distance / (time > 0 ? time : 1) * 20;\n                        if (time < 200 && Math.abs(v_1) > 0) {\n                            var timeScaleStore_1 = this._chart.getChartStore().getTimeScaleStore();\n                            var flingScroll_1 = function () {\n                                _this._flingScrollRequestId = requestAnimationFrame(function () {\n                                    timeScaleStore_1.startScroll();\n                                    timeScaleStore_1.scroll(v_1);\n                                    v_1 = v_1 * (1 - 0.025);\n                                    if (Math.abs(v_1) < 1) {\n                                        if (_this._flingScrollRequestId !== null) {\n                                            cancelAnimationFrame(_this._flingScrollRequestId);\n                                            _this._flingScrollRequestId = null;\n                                        }\n                                    }\n                                    else {\n                                        flingScroll_1();\n                                    }\n                                });\n                            };\n                            flingScroll_1();\n                        }\n                    }\n                    return true;\n                }\n                case WidgetNameConstants.X_AXIS:\n                case WidgetNameConstants.Y_AXIS: {\n                    var consumed = widget.dispatchEvent('mouseUpEvent', event_10);\n                    if (consumed) {\n                        this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    Event.prototype.tapEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        var consumed = false;\n        if (widget !== null) {\n            var event_11 = this._makeWidgetEvent(e, widget);\n            var result = widget.dispatchEvent('mouseClickEvent', event_11);\n            if (widget.getName() === WidgetNameConstants.MAIN) {\n                var event_12 = this._makeWidgetEvent(e, widget);\n                var chartStore = this._chart.getChartStore();\n                var tooltipStore = chartStore.getTooltipStore();\n                if (result) {\n                    this._touchCancelCrosshair = true;\n                    this._touchCoordinate = null;\n                    tooltipStore.setCrosshair(undefined, { notInvalidate: true });\n                    consumed = true;\n                }\n                else {\n                    if (!this._touchCancelCrosshair && !this._touchZoomed) {\n                        this._touchCoordinate = { x: event_12.x, y: event_12.y };\n                        tooltipStore.setCrosshair({ x: event_12.x, y: event_12.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() }, { notInvalidate: true });\n                        consumed = true;\n                    }\n                    this._touchCancelCrosshair = false;\n                }\n            }\n            if (consumed || result) {\n                this._chart.updatePane(1 /* UpdateLevel.Overlay */);\n            }\n        }\n        return consumed;\n    };\n    Event.prototype.doubleTapEvent = function (e) {\n        return this.mouseDoubleClickEvent(e);\n    };\n    Event.prototype.longTapEvent = function (e) {\n        var _a = this._findWidgetByEvent(e), pane = _a.pane, widget = _a.widget;\n        if (widget !== null && widget.getName() === WidgetNameConstants.MAIN) {\n            var event_13 = this._makeWidgetEvent(e, widget);\n            this._touchCoordinate = { x: event_13.x, y: event_13.y };\n            this._chart.getChartStore().getTooltipStore().setCrosshair({ x: event_13.x, y: event_13.y, paneId: pane === null || pane === void 0 ? void 0 : pane.getId() });\n            return true;\n        }\n        return false;\n    };\n    Event.prototype._findWidgetByEvent = function (event) {\n        var e_1, _a, e_2, _b;\n        var x = event.x, y = event.y;\n        var separatorPanes = this._chart.getAllSeparatorPanes();\n        var separatorSize = this._chart.getChartStore().getStyles().separator.size;\n        try {\n            for (var separatorPanes_1 = __values(separatorPanes), separatorPanes_1_1 = separatorPanes_1.next(); !separatorPanes_1_1.done; separatorPanes_1_1 = separatorPanes_1.next()) {\n                var _c = __read(separatorPanes_1_1.value, 2), pane_1 = _c[1];\n                var bounding = pane_1.getBounding();\n                var top_1 = bounding.top - Math.round((REAL_SEPARATOR_HEIGHT - separatorSize) / 2);\n                if (x >= bounding.left && x <= bounding.left + bounding.width &&\n                    y >= top_1 && y <= top_1 + REAL_SEPARATOR_HEIGHT) {\n                    return { pane: pane_1, widget: pane_1.getWidget() };\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (separatorPanes_1_1 && !separatorPanes_1_1.done && (_a = separatorPanes_1.return)) _a.call(separatorPanes_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var drawPanes = this._chart.getAllDrawPanes();\n        var pane = null;\n        try {\n            for (var drawPanes_1 = __values(drawPanes), drawPanes_1_1 = drawPanes_1.next(); !drawPanes_1_1.done; drawPanes_1_1 = drawPanes_1.next()) {\n                var p = drawPanes_1_1.value;\n                var bounding = p.getBounding();\n                if (x >= bounding.left && x <= bounding.left + bounding.width &&\n                    y >= bounding.top && y <= bounding.top + bounding.height) {\n                    pane = p;\n                    break;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (drawPanes_1_1 && !drawPanes_1_1.done && (_b = drawPanes_1.return)) _b.call(drawPanes_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var widget = null;\n        if (pane !== null) {\n            if (widget === null) {\n                var mainWidget = pane.getMainWidget();\n                var mainBounding = mainWidget.getBounding();\n                if (x >= mainBounding.left && x <= mainBounding.left + mainBounding.width &&\n                    y >= mainBounding.top && y <= mainBounding.top + mainBounding.height) {\n                    widget = mainWidget;\n                }\n            }\n            if (widget === null) {\n                var yAxisWidget = pane.getYAxisWidget();\n                if (yAxisWidget !== null) {\n                    var yAxisBounding = yAxisWidget.getBounding();\n                    if (x >= yAxisBounding.left && x <= yAxisBounding.left + yAxisBounding.width &&\n                        y >= yAxisBounding.top && y <= yAxisBounding.top + yAxisBounding.height) {\n                        widget = yAxisWidget;\n                    }\n                }\n            }\n        }\n        return { pane: pane, widget: widget };\n    };\n    Event.prototype._makeWidgetEvent = function (event, widget) {\n        var _a, _b, _c;\n        var bounding = (_a = widget === null || widget === void 0 ? void 0 : widget.getBounding()) !== null && _a !== void 0 ? _a : null;\n        return __assign(__assign({}, event), { x: event.x - ((_b = bounding === null || bounding === void 0 ? void 0 : bounding.left) !== null && _b !== void 0 ? _b : 0), y: event.y - ((_c = bounding === null || bounding === void 0 ? void 0 : bounding.top) !== null && _c !== void 0 ? _c : 0) });\n    };\n    Event.prototype.destroy = function () {\n        this._container.removeEventListener('keydown', this._boundKeyBoardDownEvent);\n        this._event.destroy();\n    };\n    return Event;\n}());\n\n/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DomPosition;\n(function (DomPosition) {\n    DomPosition[\"Root\"] = \"root\";\n    DomPosition[\"Main\"] = \"main\";\n    DomPosition[\"YAxis\"] = \"yAxis\";\n})(DomPosition || (DomPosition = {}));\nvar ChartImp = /** @class */ (function () {\n    function ChartImp(container, options) {\n        this._drawPanes = [];\n        this._separatorPanes = new Map();\n        this._initContainer(container);\n        this._chartEvent = new Event(this._chartContainer, this);\n        this._chartStore = new ChartStore(this, options);\n        this._initPanes(options);\n        this.adjustPaneViewport(true, true, true);\n    }\n    ChartImp.prototype._initContainer = function (container) {\n        this._container = container;\n        this._chartContainer = createDom('div', {\n            position: 'relative',\n            width: '100%',\n            outline: 'none',\n            borderStyle: 'none',\n            cursor: 'crosshair',\n            boxSizing: 'border-box',\n            userSelect: 'none',\n            webkitUserSelect: 'none',\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-expect-error\n            msUserSelect: 'none',\n            MozUserSelect: 'none',\n            webkitTapHighlightColor: 'transparent'\n        });\n        this._chartContainer.tabIndex = 1;\n        container.appendChild(this._chartContainer);\n    };\n    ChartImp.prototype._initPanes = function (options) {\n        var _this = this;\n        var _a;\n        var layout = (_a = options === null || options === void 0 ? void 0 : options.layout) !== null && _a !== void 0 ? _a : [{ type: \"candle\" /* LayoutChildType.Candle */ }];\n        var candlePaneInitialized = false;\n        var xAxisPaneInitialized = false;\n        var createXAxisPane = function (ops) {\n            if (!xAxisPaneInitialized) {\n                var pane = _this._createPane(XAxisPane, PaneIdConstants.X_AXIS, ops !== null && ops !== void 0 ? ops : {});\n                _this._xAxisPane = pane;\n                xAxisPaneInitialized = true;\n            }\n        };\n        layout.forEach(function (child) {\n            var _a, _b, _c;\n            switch (child.type) {\n                case \"candle\" /* LayoutChildType.Candle */: {\n                    if (!candlePaneInitialized) {\n                        var paneOptions_1 = (_a = child.options) !== null && _a !== void 0 ? _a : {};\n                        merge(paneOptions_1, { id: PaneIdConstants.CANDLE });\n                        _this._candlePane = _this._createPane(CandlePane, PaneIdConstants.CANDLE, paneOptions_1);\n                        var content = (_b = child.content) !== null && _b !== void 0 ? _b : [];\n                        content.forEach(function (v) {\n                            _this.createIndicator(v, true, paneOptions_1);\n                        });\n                        candlePaneInitialized = true;\n                    }\n                    break;\n                }\n                case \"indicator\" /* LayoutChildType.Indicator */: {\n                    var content = (_c = child.content) !== null && _c !== void 0 ? _c : [];\n                    if (content.length > 0) {\n                        var paneId_1;\n                        content.forEach(function (v) {\n                            if (isValid(paneId_1)) {\n                                _this.createIndicator(v, true, { id: paneId_1 });\n                            }\n                            else {\n                                paneId_1 = _this.createIndicator(v, true, child.options);\n                            }\n                        });\n                    }\n                    break;\n                }\n                case \"xAxis\" /* LayoutChildType.XAxis */: {\n                    createXAxisPane(child.options);\n                    break;\n                }\n            }\n        });\n        createXAxisPane({ position: \"bottom\" /* PanePosition.Bottom */ });\n    };\n    ChartImp.prototype._createPane = function (DrawPaneClass, id, options) {\n        var index = null;\n        var pane = null;\n        var position = options === null || options === void 0 ? void 0 : options.position;\n        switch (position) {\n            case \"top\" /* PanePosition.Top */: {\n                var firstPane = this._drawPanes[0];\n                if (isValid(firstPane)) {\n                    pane = new DrawPaneClass(this._chartContainer, firstPane.getContainer(), this, id, options !== null && options !== void 0 ? options : {});\n                    index = 0;\n                }\n                break;\n            }\n            case \"bottom\" /* PanePosition.Bottom */: {\n                break;\n            }\n            default: {\n                for (var i = this._drawPanes.length - 1; i > -1; i--) {\n                    var p = this._drawPanes[i];\n                    var prevP = this._drawPanes[i - 1];\n                    if ((p === null || p === void 0 ? void 0 : p.getOptions().position) === \"bottom\" /* PanePosition.Bottom */ &&\n                        (prevP === null || prevP === void 0 ? void 0 : prevP.getOptions().position) !== \"bottom\" /* PanePosition.Bottom */) {\n                        pane = new DrawPaneClass(this._chartContainer, p.getContainer(), this, id, options !== null && options !== void 0 ? options : {});\n                        index = i;\n                        break;\n                    }\n                }\n            }\n        }\n        if (!isValid(pane)) {\n            pane = new DrawPaneClass(this._chartContainer, null, this, id, options !== null && options !== void 0 ? options : {});\n        }\n        var newIndex;\n        if (isNumber(index)) {\n            this._drawPanes.splice(index, 0, pane);\n            newIndex = index;\n        }\n        else {\n            this._drawPanes.push(pane);\n            newIndex = this._drawPanes.length - 1;\n        }\n        if (pane.getId() !== PaneIdConstants.X_AXIS) {\n            var nextPane = this._drawPanes[newIndex + 1];\n            if (isValid(nextPane)) {\n                if (nextPane.getId() === PaneIdConstants.X_AXIS) {\n                    nextPane = this._drawPanes[newIndex + 2];\n                }\n            }\n            if (isValid(nextPane)) {\n                var separatorPane = this._separatorPanes.get(nextPane);\n                if (isValid(separatorPane)) {\n                    separatorPane.setTopPane(pane);\n                }\n                else {\n                    separatorPane = new SeparatorPane(this._chartContainer, nextPane.getContainer(), this, '', pane, nextPane);\n                    this._separatorPanes.set(nextPane, separatorPane);\n                }\n            }\n            var prevPane = this._drawPanes[newIndex - 1];\n            if (isValid(prevPane)) {\n                if (prevPane.getId() === PaneIdConstants.X_AXIS) {\n                    prevPane = this._drawPanes[newIndex - 2];\n                }\n            }\n            if (isValid(prevPane)) {\n                var separatorPane = new SeparatorPane(this._chartContainer, pane.getContainer(), this, '', prevPane, pane);\n                this._separatorPanes.set(pane, separatorPane);\n            }\n        }\n        return pane;\n    };\n    ChartImp.prototype._measurePaneHeight = function () {\n        var _this = this;\n        var _a;\n        var totalHeight = Math.floor(this._container.clientHeight);\n        var separatorSize = this._chartStore.getStyles().separator.size;\n        var xAxisHeight = this._xAxisPane.getAxisComponent().getAutoSize();\n        var paneExcludeXAxisHeight = totalHeight - xAxisHeight - this._separatorPanes.size * separatorSize;\n        if (paneExcludeXAxisHeight < 0) {\n            paneExcludeXAxisHeight = 0;\n        }\n        var indicatorPaneTotalHeight = 0;\n        this._drawPanes.forEach(function (pane) {\n            if (pane.getId() !== PaneIdConstants.CANDLE && pane.getId() !== PaneIdConstants.X_AXIS) {\n                var paneHeight = pane.getBounding().height;\n                var paneMinHeight = pane.getOptions().minHeight;\n                if (paneHeight < paneMinHeight) {\n                    paneHeight = paneMinHeight;\n                }\n                if (indicatorPaneTotalHeight + paneHeight > paneExcludeXAxisHeight) {\n                    indicatorPaneTotalHeight = paneExcludeXAxisHeight;\n                    paneHeight = Math.max(paneExcludeXAxisHeight - indicatorPaneTotalHeight, 0);\n                }\n                else {\n                    indicatorPaneTotalHeight += paneHeight;\n                }\n                pane.setBounding({ height: paneHeight });\n            }\n        });\n        var candlePaneHeight = paneExcludeXAxisHeight - indicatorPaneTotalHeight;\n        (_a = this._candlePane) === null || _a === void 0 ? void 0 : _a.setBounding({ height: candlePaneHeight });\n        this._xAxisPane.setBounding({ height: xAxisHeight });\n        var top = 0;\n        this._drawPanes.forEach(function (pane) {\n            var separatorPane = _this._separatorPanes.get(pane);\n            if (isValid(separatorPane)) {\n                separatorPane.setBounding({ height: separatorSize, top: top });\n                top += separatorSize;\n            }\n            pane.setBounding({ top: top });\n            top += pane.getBounding().height;\n        });\n    };\n    ChartImp.prototype._measurePaneWidth = function () {\n        var _this = this;\n        var totalWidth = Math.floor(this._container.clientWidth);\n        var styles = this._chartStore.getStyles();\n        var yAxisStyles = styles.yAxis;\n        var isYAxisLeft = yAxisStyles.position === YAxisPosition.Left;\n        var isOutside = !yAxisStyles.inside;\n        var mainWidth = 0;\n        var yAxisWidth = 0;\n        var yAxisLeft = 0;\n        var mainLeft = 0;\n        this._drawPanes.forEach(function (pane) {\n            if (pane.getId() !== PaneIdConstants.X_AXIS) {\n                yAxisWidth = Math.max(yAxisWidth, pane.getAxisComponent().getAutoSize());\n            }\n        });\n        if (yAxisWidth > totalWidth) {\n            yAxisWidth = totalWidth;\n        }\n        if (isOutside) {\n            mainWidth = totalWidth - yAxisWidth;\n            if (isYAxisLeft) {\n                yAxisLeft = 0;\n                mainLeft = yAxisWidth;\n            }\n            else {\n                yAxisLeft = totalWidth - yAxisWidth;\n                mainLeft = 0;\n            }\n        }\n        else {\n            mainWidth = totalWidth;\n            mainLeft = 0;\n            if (isYAxisLeft) {\n                yAxisLeft = 0;\n            }\n            else {\n                yAxisLeft = totalWidth - yAxisWidth;\n            }\n        }\n        this._chartStore.getTimeScaleStore().setTotalBarSpace(mainWidth);\n        var paneBounding = { width: totalWidth };\n        var mainBounding = { width: mainWidth, left: mainLeft };\n        var yAxisBounding = { width: yAxisWidth, left: yAxisLeft };\n        var separatorFill = styles.separator.fill;\n        var separatorBounding;\n        if (isOutside && !separatorFill) {\n            separatorBounding = mainBounding;\n        }\n        else {\n            separatorBounding = paneBounding;\n        }\n        this._drawPanes.forEach(function (pane) {\n            var _a;\n            (_a = _this._separatorPanes.get(pane)) === null || _a === void 0 ? void 0 : _a.setBounding(separatorBounding);\n            pane.setBounding(paneBounding, mainBounding, yAxisBounding);\n        });\n    };\n    ChartImp.prototype._setPaneOptions = function (options, forceShouldAdjust) {\n        var _a, _b;\n        if (isString(options.id)) {\n            var pane = this.getDrawPaneById(options.id);\n            var shouldMeasureHeight = false;\n            if (pane !== null) {\n                var shouldAdjust = forceShouldAdjust;\n                if (options.id !== PaneIdConstants.CANDLE && isNumber(options.height) && options.height > 0) {\n                    var minHeight = Math.max((_a = options.minHeight) !== null && _a !== void 0 ? _a : pane.getOptions().minHeight, 0);\n                    var height = Math.max(minHeight, options.height);\n                    pane.setBounding({ height: height });\n                    shouldAdjust = true;\n                    shouldMeasureHeight = true;\n                }\n                if (isString((_b = options.axisOptions) === null || _b === void 0 ? void 0 : _b.name) || isValid(options.gap)) {\n                    shouldAdjust = true;\n                }\n                pane.setOptions(options);\n                if (shouldAdjust) {\n                    this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true);\n                }\n            }\n        }\n    };\n    ChartImp.prototype.getDrawPaneById = function (paneId) {\n        if (paneId === PaneIdConstants.CANDLE) {\n            return this._candlePane;\n        }\n        if (paneId === PaneIdConstants.X_AXIS) {\n            return this._xAxisPane;\n        }\n        var pane = this._drawPanes.find(function (p) { return p.getId() === paneId; });\n        return pane !== null && pane !== void 0 ? pane : null;\n    };\n    ChartImp.prototype.getContainer = function () { return this._container; };\n    ChartImp.prototype.getChartStore = function () { return this._chartStore; };\n    ChartImp.prototype.getXAxisPane = function () { return this._xAxisPane; };\n    ChartImp.prototype.getAllDrawPanes = function () { return this._drawPanes; };\n    ChartImp.prototype.getAllSeparatorPanes = function () { return this._separatorPanes; };\n    ChartImp.prototype.adjustPaneViewport = function (shouldMeasureHeight, shouldMeasureWidth, shouldUpdate, shouldAdjustYAxis, shouldForceAdjustYAxis) {\n        if (shouldMeasureHeight) {\n            this._measurePaneHeight();\n        }\n        var forceMeasureWidth = shouldMeasureWidth;\n        var adjustYAxis = shouldAdjustYAxis !== null && shouldAdjustYAxis !== void 0 ? shouldAdjustYAxis : false;\n        var forceAdjustYAxis = shouldForceAdjustYAxis !== null && shouldForceAdjustYAxis !== void 0 ? shouldForceAdjustYAxis : false;\n        if (adjustYAxis || forceAdjustYAxis) {\n            this._drawPanes.forEach(function (pane) {\n                var adjust = pane.getAxisComponent().buildTicks(forceAdjustYAxis);\n                if (!forceMeasureWidth) {\n                    forceMeasureWidth = adjust;\n                }\n            });\n        }\n        if (forceMeasureWidth) {\n            this._measurePaneWidth();\n        }\n        if (shouldUpdate !== null && shouldUpdate !== void 0 ? shouldUpdate : false) {\n            this._xAxisPane.getAxisComponent().buildTicks(true);\n            this.updatePane(4 /* UpdateLevel.All */);\n        }\n    };\n    ChartImp.prototype.updatePane = function (level, paneId) {\n        if (isValid(paneId)) {\n            var pane = this.getDrawPaneById(paneId);\n            pane === null || pane === void 0 ? void 0 : pane.update(level);\n        }\n        else {\n            this._separatorPanes.forEach(function (pane) {\n                pane.update(level);\n            });\n            this._drawPanes.forEach(function (pane) {\n                pane.update(level);\n            });\n        }\n    };\n    ChartImp.prototype.crosshairChange = function (crosshair) {\n        var _this = this;\n        var actionStore = this._chartStore.getActionStore();\n        if (actionStore.has(ActionType.OnCrosshairChange)) {\n            var indicatorData_1 = {};\n            this._drawPanes.forEach(function (pane) {\n                var id = pane.getId();\n                var paneIndicatorData = {};\n                var indicators = _this._chartStore.getIndicatorStore().getInstances(id);\n                indicators.forEach(function (indicator) {\n                    var _a;\n                    var result = indicator.result;\n                    paneIndicatorData[indicator.name] = result[(_a = crosshair.dataIndex) !== null && _a !== void 0 ? _a : result.length - 1];\n                });\n                indicatorData_1[id] = paneIndicatorData;\n            });\n            if (isString(crosshair.paneId)) {\n                actionStore.execute(ActionType.OnCrosshairChange, __assign(__assign({}, crosshair), { indicatorData: indicatorData_1 }));\n            }\n        }\n    };\n    ChartImp.prototype.getDom = function (paneId, position) {\n        var _a, _b;\n        if (isString(paneId)) {\n            var pane = this.getDrawPaneById(paneId);\n            if (pane !== null) {\n                var pos = position !== null && position !== void 0 ? position : DomPosition.Root;\n                switch (pos) {\n                    case DomPosition.Root: {\n                        return pane.getContainer();\n                    }\n                    case DomPosition.Main: {\n                        return pane.getMainWidget().getContainer();\n                    }\n                    case DomPosition.YAxis: {\n                        return (_b = (_a = pane.getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getContainer()) !== null && _b !== void 0 ? _b : null;\n                    }\n                }\n            }\n        }\n        else {\n            return this._chartContainer;\n        }\n        return null;\n    };\n    ChartImp.prototype.getSize = function (paneId, position) {\n        var _a, _b;\n        if (isValid(paneId)) {\n            var pane = this.getDrawPaneById(paneId);\n            if (pane !== null) {\n                var pos = position !== null && position !== void 0 ? position : DomPosition.Root;\n                switch (pos) {\n                    case DomPosition.Root: {\n                        return pane.getBounding();\n                    }\n                    case DomPosition.Main: {\n                        return pane.getMainWidget().getBounding();\n                    }\n                    case DomPosition.YAxis: {\n                        return (_b = (_a = pane.getYAxisWidget()) === null || _a === void 0 ? void 0 : _a.getBounding()) !== null && _b !== void 0 ? _b : null;\n                    }\n                }\n            }\n        }\n        else {\n            return {\n                width: Math.floor(this._chartContainer.clientWidth),\n                height: Math.floor(this._chartContainer.clientHeight),\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0\n            };\n        }\n        return null;\n    };\n    ChartImp.prototype.setStyles = function (styles) {\n        var _a, _b;\n        this._chartStore.setOptions({ styles: styles });\n        var realStyles;\n        if (isString(styles)) {\n            realStyles = getStyles(styles);\n        }\n        else {\n            realStyles = styles;\n        }\n        if (isValid((_a = realStyles === null || realStyles === void 0 ? void 0 : realStyles.yAxis) === null || _a === void 0 ? void 0 : _a.type)) {\n            (_b = this._candlePane) === null || _b === void 0 ? void 0 : _b.getAxisComponent().setAutoCalcTickFlag(true);\n        }\n        this.adjustPaneViewport(true, true, true, true, true);\n    };\n    ChartImp.prototype.getStyles = function () {\n        return this._chartStore.getStyles();\n    };\n    ChartImp.prototype.setLocale = function (locale) {\n        this._chartStore.setOptions({ locale: locale });\n        this.adjustPaneViewport(true, true, true, true, true);\n    };\n    ChartImp.prototype.getLocale = function () {\n        return this._chartStore.getLocale();\n    };\n    ChartImp.prototype.setCustomApi = function (customApi) {\n        this._chartStore.setOptions({ customApi: customApi });\n        this.adjustPaneViewport(true, true, true, true, true);\n    };\n    ChartImp.prototype.setPriceVolumePrecision = function (pricePrecision, volumePrecision) {\n        this._chartStore.setPrecision({ price: pricePrecision, volume: volumePrecision });\n    };\n    ChartImp.prototype.getPriceVolumePrecision = function () {\n        return this._chartStore.getPrecision();\n    };\n    ChartImp.prototype.setTimezone = function (timezone) {\n        this._chartStore.setOptions({ timezone: timezone });\n        this._xAxisPane.getAxisComponent().buildTicks(true);\n        this._xAxisPane.update(3 /* UpdateLevel.Drawer */);\n    };\n    ChartImp.prototype.getTimezone = function () {\n        return this._chartStore.getTimeScaleStore().getTimezone();\n    };\n    ChartImp.prototype.setOffsetRightDistance = function (distance) {\n        this._chartStore.getTimeScaleStore().setOffsetRightDistance(distance, true);\n    };\n    ChartImp.prototype.getOffsetRightDistance = function () {\n        return this._chartStore.getTimeScaleStore().getOffsetRightDistance();\n    };\n    ChartImp.prototype.setMaxOffsetLeftDistance = function (distance) {\n        if (distance < 0) {\n            logWarn('setMaxOffsetLeftDistance', 'distance', 'distance must greater than zero!!!');\n            return;\n        }\n        this._chartStore.getTimeScaleStore().setMaxOffsetLeftDistance(distance);\n    };\n    ChartImp.prototype.setMaxOffsetRightDistance = function (distance) {\n        if (distance < 0) {\n            logWarn('setMaxOffsetRightDistance', 'distance', 'distance must greater than zero!!!');\n            return;\n        }\n        this._chartStore.getTimeScaleStore().setMaxOffsetRightDistance(distance);\n    };\n    ChartImp.prototype.setLeftMinVisibleBarCount = function (barCount) {\n        if (barCount < 0) {\n            logWarn('setLeftMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!');\n            return;\n        }\n        this._chartStore.getTimeScaleStore().setLeftMinVisibleBarCount(Math.ceil(barCount));\n    };\n    ChartImp.prototype.setRightMinVisibleBarCount = function (barCount) {\n        if (barCount < 0) {\n            logWarn('setRightMinVisibleBarCount', 'barCount', 'barCount must greater than zero!!!');\n            return;\n        }\n        this._chartStore.getTimeScaleStore().setRightMinVisibleBarCount(Math.ceil(barCount));\n    };\n    ChartImp.prototype.setBarSpace = function (space) {\n        this._chartStore.getTimeScaleStore().setBarSpace(space);\n    };\n    ChartImp.prototype.getBarSpace = function () {\n        return this._chartStore.getTimeScaleStore().getBarSpace().bar;\n    };\n    ChartImp.prototype.getVisibleRange = function () {\n        return this._chartStore.getTimeScaleStore().getVisibleRange();\n    };\n    ChartImp.prototype.clearData = function () {\n        this._chartStore.clear();\n    };\n    ChartImp.prototype.getDataList = function () {\n        return this._chartStore.getDataList();\n    };\n    ChartImp.prototype.applyNewData = function (data, more, callback) {\n        if (isValid(callback)) {\n            logWarn('applyNewData', '', 'param `callback` has been deprecated since version 9.8.0, use `subscribeAction(\\'onDataReady\\')` instead.');\n        }\n        this._chartStore.addData(data, LoadDataType.Init, more).then(function () { }).catch(function () { }).finally(function () { callback === null || callback === void 0 ? void 0 : callback(); });\n    };\n    /**\n     * @deprecated\n     * Since v9.8.0 deprecated, since v10 removed\n     */\n    ChartImp.prototype.applyMoreData = function (data, more, callback) {\n        logWarn('', '', 'Api `applyMoreData` has been deprecated since version 9.8.0.');\n        this._chartStore.addData(data, LoadDataType.Forward, more !== null && more !== void 0 ? more : true).then(function () { }).catch(function () { }).finally(function () { callback === null || callback === void 0 ? void 0 : callback(); });\n    };\n    ChartImp.prototype.updateData = function (data, callback) {\n        if (isValid(callback)) {\n            logWarn('updateData', '', 'param `callback` has been deprecated since version 9.8.0, use `subscribeAction(\\'onDataReady\\')` instead.');\n        }\n        this._chartStore.addData(data).then(function () { }).catch(function () { }).finally(function () { callback === null || callback === void 0 ? void 0 : callback(); });\n    };\n    /**\n     * @deprecated\n     * Since v9.8.0 deprecated, since v10 removed\n     */\n    ChartImp.prototype.loadMore = function (cb) {\n        logWarn('', '', 'Api `loadMore` has been deprecated since version 9.8.0, use `setLoadDataCallback` instead.');\n        this._chartStore.setLoadMoreCallback(cb);\n    };\n    ChartImp.prototype.setLoadDataCallback = function (cb) {\n        this._chartStore.setLoadDataCallback(cb);\n    };\n    ChartImp.prototype.createIndicator = function (value, isStack, paneOptions, callback) {\n        var _this = this;\n        var _a;\n        var indicator = isString(value) ? { name: value } : value;\n        if (getIndicatorClass(indicator.name) === null) {\n            logWarn('createIndicator', 'value', 'indicator not supported, you may need to use registerIndicator to add one!!!');\n            return null;\n        }\n        var paneId = paneOptions === null || paneOptions === void 0 ? void 0 : paneOptions.id;\n        var currentPane = this.getDrawPaneById(paneId !== null && paneId !== void 0 ? paneId : '');\n        if (currentPane !== null) {\n            this._chartStore.getIndicatorStore().addInstance(indicator, paneId !== null && paneId !== void 0 ? paneId : '', isStack !== null && isStack !== void 0 ? isStack : false).then(function (_) {\n                var _a;\n                _this._setPaneOptions(paneOptions !== null && paneOptions !== void 0 ? paneOptions : {}, (_a = currentPane.getAxisComponent().buildTicks(true)) !== null && _a !== void 0 ? _a : false);\n            }).catch(function (_) { });\n        }\n        else {\n            paneId !== null && paneId !== void 0 ? paneId : (paneId = createId(PaneIdConstants.INDICATOR));\n            var pane = this._createPane(IndicatorPane, paneId, paneOptions !== null && paneOptions !== void 0 ? paneOptions : {});\n            var height = (_a = paneOptions === null || paneOptions === void 0 ? void 0 : paneOptions.height) !== null && _a !== void 0 ? _a : PANE_DEFAULT_HEIGHT;\n            pane.setBounding({ height: height });\n            void this._chartStore.getIndicatorStore().addInstance(indicator, paneId, isStack !== null && isStack !== void 0 ? isStack : false).finally(function () {\n                _this.adjustPaneViewport(true, true, true, true, true);\n                callback === null || callback === void 0 ? void 0 : callback();\n            });\n        }\n        return paneId !== null && paneId !== void 0 ? paneId : null;\n    };\n    ChartImp.prototype.overrideIndicator = function (override, paneId, callback) {\n        var _this = this;\n        this._chartStore.getIndicatorStore().override(override, paneId !== null && paneId !== void 0 ? paneId : null).then(function (_a) {\n            var _b = __read(_a, 2), onlyUpdateFlag = _b[0], resizeFlag = _b[1];\n            if (onlyUpdateFlag || resizeFlag) {\n                _this.adjustPaneViewport(false, resizeFlag, true, resizeFlag);\n                callback === null || callback === void 0 ? void 0 : callback();\n            }\n        }).catch(function () { });\n    };\n    ChartImp.prototype.getIndicatorByPaneId = function (paneId, name) {\n        return this._chartStore.getIndicatorStore().getInstanceByPaneId(paneId, name);\n    };\n    ChartImp.prototype.removeIndicator = function (paneId, name) {\n        var e_1, _a;\n        var _b;\n        var indicatorStore = this._chartStore.getIndicatorStore();\n        var removed = indicatorStore.removeInstance(paneId, name);\n        if (removed) {\n            var shouldMeasureHeight = false;\n            if (paneId !== PaneIdConstants.CANDLE) {\n                if (!indicatorStore.hasInstances(paneId)) {\n                    var pane = this.getDrawPaneById(paneId);\n                    var index = this._drawPanes.findIndex(function (p) { return p.getId() === paneId; });\n                    if (pane !== null) {\n                        shouldMeasureHeight = true;\n                        var separatorPane = this._separatorPanes.get(pane);\n                        if (isValid(separatorPane)) {\n                            var topPane = separatorPane === null || separatorPane === void 0 ? void 0 : separatorPane.getTopPane();\n                            try {\n                                for (var _c = __values(this._separatorPanes), _d = _c.next(); !_d.done; _d = _c.next()) {\n                                    var item = _d.value;\n                                    if (item[1].getTopPane().getId() === pane.getId()) {\n                                        item[1].setTopPane(topPane);\n                                        break;\n                                    }\n                                }\n                            }\n                            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                            finally {\n                                try {\n                                    if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n                                }\n                                finally { if (e_1) throw e_1.error; }\n                            }\n                            separatorPane.destroy();\n                            this._separatorPanes.delete(pane);\n                        }\n                        this._drawPanes.splice(index, 1);\n                        pane.destroy();\n                        var firstPane = this._drawPanes[0];\n                        if (isValid(firstPane)) {\n                            if (firstPane.getId() === PaneIdConstants.X_AXIS) {\n                                firstPane = this._drawPanes[1];\n                            }\n                        }\n                        (_b = this._separatorPanes.get(firstPane)) === null || _b === void 0 ? void 0 : _b.destroy();\n                        this._separatorPanes.delete(firstPane);\n                    }\n                }\n            }\n            this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true);\n        }\n    };\n    ChartImp.prototype.createOverlay = function (value, paneId) {\n        var overlays = [];\n        if (isString(value)) {\n            overlays = [{ name: value }];\n        }\n        else if (isArray(value)) {\n            overlays = value.map(function (v) {\n                if (isString(v)) {\n                    return { name: v };\n                }\n                return v;\n            });\n        }\n        else {\n            var overlay = value;\n            overlays = [overlay];\n        }\n        var appointPaneFlag = true;\n        if (!isValid(paneId) || this.getDrawPaneById(paneId) === null) {\n            paneId = PaneIdConstants.CANDLE;\n            appointPaneFlag = false;\n        }\n        var ids = this._chartStore.getOverlayStore().addInstances(overlays, paneId, appointPaneFlag);\n        if (isArray(value)) {\n            return ids;\n        }\n        return ids[0];\n    };\n    ChartImp.prototype.getOverlayById = function (id) {\n        return this._chartStore.getOverlayStore().getInstanceById(id);\n    };\n    ChartImp.prototype.overrideOverlay = function (override) {\n        this._chartStore.getOverlayStore().override(override);\n    };\n    ChartImp.prototype.removeOverlay = function (remove) {\n        var overlayRemove;\n        if (isValid(remove)) {\n            if (isString(remove)) {\n                overlayRemove = { id: remove };\n            }\n            else {\n                overlayRemove = remove;\n            }\n        }\n        this._chartStore.getOverlayStore().removeInstance(overlayRemove);\n    };\n    ChartImp.prototype.setPaneOptions = function (options) {\n        this._setPaneOptions(options, false);\n    };\n    ChartImp.prototype.setZoomEnabled = function (enabled) {\n        this._chartStore.getTimeScaleStore().setZoomEnabled(enabled);\n    };\n    ChartImp.prototype.isZoomEnabled = function () {\n        return this._chartStore.getTimeScaleStore().getZoomEnabled();\n    };\n    ChartImp.prototype.setScrollEnabled = function (enabled) {\n        this._chartStore.getTimeScaleStore().setScrollEnabled(enabled);\n    };\n    ChartImp.prototype.isScrollEnabled = function () {\n        return this._chartStore.getTimeScaleStore().getScrollEnabled();\n    };\n    ChartImp.prototype.scrollByDistance = function (distance, animationDuration) {\n        var duration = isNumber(animationDuration) && animationDuration > 0 ? animationDuration : 0;\n        var timeScaleStore = this._chartStore.getTimeScaleStore();\n        timeScaleStore.startScroll();\n        if (duration > 0) {\n            var animation = new Animation({ duration: duration });\n            animation.doFrame(function (frameTime) {\n                var progressDistance = distance * (frameTime / duration);\n                timeScaleStore.scroll(progressDistance);\n            });\n            animation.start();\n        }\n        else {\n            timeScaleStore.scroll(distance);\n        }\n    };\n    ChartImp.prototype.scrollToRealTime = function (animationDuration) {\n        var timeScaleStore = this._chartStore.getTimeScaleStore();\n        var barSpace = timeScaleStore.getBarSpace().bar;\n        var difBarCount = timeScaleStore.getLastBarRightSideDiffBarCount() - timeScaleStore.getInitialOffsetRightDistance() / barSpace;\n        var distance = difBarCount * barSpace;\n        this.scrollByDistance(distance, animationDuration);\n    };\n    ChartImp.prototype.scrollToDataIndex = function (dataIndex, animationDuration) {\n        var timeScaleStore = this._chartStore.getTimeScaleStore();\n        var distance = (timeScaleStore.getLastBarRightSideDiffBarCount() + (this.getDataList().length - 1 - dataIndex)) * timeScaleStore.getBarSpace().bar;\n        this.scrollByDistance(distance, animationDuration);\n    };\n    ChartImp.prototype.scrollToTimestamp = function (timestamp, animationDuration) {\n        var dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp);\n        this.scrollToDataIndex(dataIndex, animationDuration);\n    };\n    ChartImp.prototype.zoomAtCoordinate = function (scale, coordinate, animationDuration) {\n        var duration = isNumber(animationDuration) && animationDuration > 0 ? animationDuration : 0;\n        var timeScaleStore = this._chartStore.getTimeScaleStore();\n        var barSpace = timeScaleStore.getBarSpace().bar;\n        var scaleBarSpace = barSpace * scale;\n        var difSpace = scaleBarSpace - barSpace;\n        if (duration > 0) {\n            var prevProgressBarSpace_1 = 0;\n            var animation = new Animation({ duration: duration });\n            animation.doFrame(function (frameTime) {\n                var progressBarSpace = difSpace * (frameTime / duration);\n                var scale = (progressBarSpace - prevProgressBarSpace_1) / timeScaleStore.getBarSpace().bar * SCALE_MULTIPLIER;\n                timeScaleStore.zoom(scale, coordinate);\n                prevProgressBarSpace_1 = progressBarSpace;\n            });\n            animation.start();\n        }\n        else {\n            timeScaleStore.zoom(difSpace / barSpace * SCALE_MULTIPLIER, coordinate);\n        }\n    };\n    ChartImp.prototype.zoomAtDataIndex = function (scale, dataIndex, animationDuration) {\n        var x = this._chartStore.getTimeScaleStore().dataIndexToCoordinate(dataIndex);\n        this.zoomAtCoordinate(scale, { x: x, y: 0 }, animationDuration);\n    };\n    ChartImp.prototype.zoomAtTimestamp = function (scale, timestamp, animationDuration) {\n        var dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp);\n        this.zoomAtDataIndex(scale, dataIndex, animationDuration);\n    };\n    ChartImp.prototype.convertToPixel = function (points, finder) {\n        var _a;\n        var _b = finder.paneId, paneId = _b === void 0 ? PaneIdConstants.CANDLE : _b, _c = finder.absolute, absolute = _c === void 0 ? false : _c;\n        var coordinates = [];\n        if (paneId !== PaneIdConstants.X_AXIS) {\n            var pane = this.getDrawPaneById(paneId);\n            if (pane !== null) {\n                var timeScaleStore_1 = this._chartStore.getTimeScaleStore();\n                var bounding_1 = pane.getBounding();\n                var ps = new Array().concat(points);\n                var xAxis_1 = this._xAxisPane.getAxisComponent();\n                var yAxis_1 = pane.getAxisComponent();\n                coordinates = ps.map(function (point) {\n                    var coordinate = {};\n                    var dataIndex = point.dataIndex;\n                    if (isNumber(point.timestamp)) {\n                        dataIndex = timeScaleStore_1.timestampToDataIndex(point.timestamp);\n                    }\n                    if (isNumber(dataIndex)) {\n                        coordinate.x = xAxis_1 === null || xAxis_1 === void 0 ? void 0 : xAxis_1.convertToPixel(dataIndex);\n                    }\n                    if (isNumber(point.value)) {\n                        var y = yAxis_1 === null || yAxis_1 === void 0 ? void 0 : yAxis_1.convertToPixel(point.value);\n                        coordinate.y = absolute ? bounding_1.top + y : y;\n                    }\n                    return coordinate;\n                });\n            }\n        }\n        return isArray(points) ? coordinates : ((_a = coordinates[0]) !== null && _a !== void 0 ? _a : {});\n    };\n    ChartImp.prototype.convertFromPixel = function (coordinates, finder) {\n        var _a;\n        var _b = finder.paneId, paneId = _b === void 0 ? PaneIdConstants.CANDLE : _b, _c = finder.absolute, absolute = _c === void 0 ? false : _c;\n        var points = [];\n        if (paneId !== PaneIdConstants.X_AXIS) {\n            var pane = this.getDrawPaneById(paneId);\n            if (pane !== null) {\n                var timeScaleStore_2 = this._chartStore.getTimeScaleStore();\n                var bounding_2 = pane.getBounding();\n                var cs = new Array().concat(coordinates);\n                var xAxis_2 = this._xAxisPane.getAxisComponent();\n                var yAxis_2 = pane.getAxisComponent();\n                points = cs.map(function (coordinate) {\n                    var _a, _b;\n                    var point = {};\n                    if (isNumber(coordinate.x)) {\n                        var dataIndex = (_a = xAxis_2 === null || xAxis_2 === void 0 ? void 0 : xAxis_2.convertFromPixel(coordinate.x)) !== null && _a !== void 0 ? _a : -1;\n                        point.dataIndex = dataIndex;\n                        point.timestamp = (_b = timeScaleStore_2.dataIndexToTimestamp(dataIndex)) !== null && _b !== void 0 ? _b : undefined;\n                    }\n                    if (isNumber(coordinate.y)) {\n                        var y = absolute ? coordinate.y - bounding_2.top : coordinate.y;\n                        point.value = yAxis_2.convertFromPixel(y);\n                    }\n                    return point;\n                });\n            }\n        }\n        return isArray(coordinates) ? points : ((_a = points[0]) !== null && _a !== void 0 ? _a : {});\n    };\n    ChartImp.prototype.executeAction = function (type, data) {\n        var _a;\n        switch (type) {\n            case ActionType.OnCrosshairChange: {\n                var crosshair = __assign({}, data);\n                crosshair.paneId = (_a = crosshair.paneId) !== null && _a !== void 0 ? _a : PaneIdConstants.CANDLE;\n                this._chartStore.getTooltipStore().setCrosshair(crosshair, { notExecuteAction: true });\n                break;\n            }\n        }\n    };\n    ChartImp.prototype.subscribeAction = function (type, callback) {\n        this._chartStore.getActionStore().subscribe(type, callback);\n    };\n    ChartImp.prototype.unsubscribeAction = function (type, callback) {\n        this._chartStore.getActionStore().unsubscribe(type, callback);\n    };\n    ChartImp.prototype.getConvertPictureUrl = function (includeOverlay, type, backgroundColor) {\n        var _this = this;\n        var width = this._chartContainer.clientWidth;\n        var height = this._chartContainer.clientHeight;\n        var canvas = createDom('canvas', {\n            width: \"\".concat(width, \"px\"),\n            height: \"\".concat(height, \"px\"),\n            boxSizing: 'border-box'\n        });\n        var ctx = canvas.getContext('2d');\n        var pixelRatio = getPixelRatio(canvas);\n        canvas.width = width * pixelRatio;\n        canvas.height = height * pixelRatio;\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.fillStyle = backgroundColor !== null && backgroundColor !== void 0 ? backgroundColor : '#FFFFFF';\n        ctx.fillRect(0, 0, width, height);\n        var overlayFlag = includeOverlay !== null && includeOverlay !== void 0 ? includeOverlay : false;\n        this._drawPanes.forEach(function (pane) {\n            var separatorPane = _this._separatorPanes.get(pane);\n            if (isValid(separatorPane)) {\n                var separatorBounding = separatorPane.getBounding();\n                ctx.drawImage(separatorPane.getImage(overlayFlag), separatorBounding.left, separatorBounding.top, separatorBounding.width, separatorBounding.height);\n            }\n            var bounding = pane.getBounding();\n            ctx.drawImage(pane.getImage(overlayFlag), 0, bounding.top, width, bounding.height);\n        });\n        return canvas.toDataURL(\"image/\".concat(type !== null && type !== void 0 ? type : 'jpeg'));\n    };\n    ChartImp.prototype.resize = function () {\n        this.adjustPaneViewport(true, true, true, true, true);\n    };\n    ChartImp.prototype.destroy = function () {\n        this._chartEvent.destroy();\n        this._drawPanes.forEach(function (pane) {\n            pane.destroy();\n        });\n        this._drawPanes = [];\n        this._separatorPanes.forEach(function (pane) {\n            pane.destroy();\n        });\n        this._separatorPanes.clear();\n        this._container.removeChild(this._chartContainer);\n    };\n    return ChartImp;\n}());\n\n/**\n *       ___           ___                   ___           ___           ___           ___           ___           ___           ___\n *      /\\__\\         /\\__\\      ___        /\\__\\         /\\  \\         /\\  \\         /\\__\\         /\\  \\         /\\  \\         /\\  \\\n *     /:/  /        /:/  /     /\\  \\      /::|  |       /::\\  \\       /::\\  \\       /:/  /        /::\\  \\       /::\\  \\        \\:\\  \\\n *    /:/__/        /:/  /      \\:\\  \\    /:|:|  |      /:/\\:\\  \\     /:/\\:\\  \\     /:/__/        /:/\\:\\  \\     /:/\\:\\  \\        \\:\\  \\\n *   /::\\__\\____   /:/  /       /::\\__\\  /:/|:|  |__   /::\\~\\:\\  \\   /:/  \\:\\  \\   /::\\  \\ ___   /::\\~\\:\\  \\   /::\\~\\:\\  \\       /::\\  \\\n *  /:/\\:::::\\__\\ /:/__/     __/:/\\/__/ /:/ |:| /\\__\\ /:/\\:\\ \\:\\__\\ /:/__/ \\:\\__\\ /:/\\:\\  /\\__\\ /:/\\:\\ \\:\\__\\ /:/\\:\\ \\:\\__\\     /:/\\:\\__\\\n *  \\/_|:|~~|~    \\:\\  \\    /\\/:/  /    \\/__|:|/:/  / \\:\\~\\:\\ \\/__/ \\:\\  \\  \\/__/ \\/__\\:\\/:/  / \\/__\\:\\/:/  / \\/_|::\\/:/  /    /:/  \\/__/\n *     |:|  |      \\:\\  \\   \\::/__/         |:/:/  /   \\:\\ \\:\\__\\    \\:\\  \\            \\::/  /       \\::/  /     |:|::/  /    /:/  /\n *     |:|  |       \\:\\  \\   \\:\\__\\         |::/  /     \\:\\ \\/__/     \\:\\  \\           /:/  /        /:/  /      |:|\\/__/     \\/__/\n *     |:|  |        \\:\\__\\   \\/__/         /:/  /       \\:\\__\\        \\:\\__\\         /:/  /        /:/  /       |:|  |\n *      \\|__|         \\/__/                 \\/__/         \\/__/         \\/__/         \\/__/         \\/__/         \\|__|\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar instances = new Map();\nvar chartBaseId = 1;\n/**\n * Chart version\n * @return {string}\n */\nfunction version() {\n    return '9.8.12';\n}\n/**\n * Init chart instance\n * @param ds\n * @param options\n * @returns {Chart}\n */\nfunction init(ds, options) {\n    logTag();\n    var dom;\n    if (isString(ds)) {\n        dom = document.getElementById(ds);\n    }\n    else {\n        dom = ds;\n    }\n    if (dom === null) {\n        logError('', '', 'The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!');\n        return null;\n    }\n    var chart = instances.get(dom.id);\n    if (isValid(chart)) {\n        logWarn('', '', 'The chart has been initialized on the domï¼ï¼ï¼');\n        return chart;\n    }\n    var id = \"k_line_chart_\".concat(chartBaseId++);\n    chart = new ChartImp(dom, options);\n    chart.id = id;\n    dom.setAttribute('k-line-chart-id', id);\n    instances.set(id, chart);\n    return chart;\n}\n/**\n * Destroy chart instance\n * @param dcs\n */\nfunction dispose(dcs) {\n    var _a, _b;\n    var id;\n    if (dcs instanceof ChartImp) {\n        id = dcs.id;\n    }\n    else {\n        var dom = void 0;\n        if (isString(dcs)) {\n            dom = document.getElementById(dcs);\n        }\n        else {\n            dom = dcs;\n        }\n        id = (_a = dom === null || dom === void 0 ? void 0 : dom.getAttribute('k-line-chart-id')) !== null && _a !== void 0 ? _a : null;\n    }\n    if (id !== null) {\n        (_b = instances.get(id)) === null || _b === void 0 ? void 0 : _b.destroy();\n        instances.delete(id);\n    }\n}\nvar utils = {\n    clone: clone,\n    merge: merge,\n    isString: isString,\n    isNumber: isNumber,\n    isValid: isValid,\n    isObject: isObject,\n    isArray: isArray,\n    isFunction: isFunction,\n    isBoolean: isBoolean,\n    formatValue: formatValue,\n    formatPrecision: formatPrecision,\n    formatBigNumber: formatBigNumber,\n    formatDate: formatDate,\n    formatThousands: formatThousands,\n    formatFoldDecimal: formatFoldDecimal,\n    calcTextWidth: calcTextWidth,\n    getLinearSlopeIntercept: getLinearSlopeIntercept,\n    getLinearYFromSlopeIntercept: getLinearYFromSlopeIntercept,\n    getLinearYFromCoordinates: getLinearYFromCoordinates,\n    checkCoordinateOnArc: checkCoordinateOnArc,\n    checkCoordinateOnCircle: checkCoordinateOnCircle,\n    checkCoordinateOnLine: checkCoordinateOnLine,\n    checkCoordinateOnPolygon: checkCoordinateOnPolygon,\n    checkCoordinateOnRect: checkCoordinateOnRect,\n    checkCoordinateOnText: checkCoordinateOnText,\n    drawArc: drawArc,\n    drawCircle: drawCircle,\n    drawLine: drawLine,\n    drawPolygon: drawPolygon,\n    drawRect: drawRect,\n    drawText: drawText,\n    drawRectText: drawRectText\n};\n\nexport { ActionType, CandleTooltipRectPosition, CandleType, DomPosition, FormatDateType, IndicatorSeries, LineType, LoadDataType, OverlayMode, PolygonType, TooltipIconPosition, TooltipShowRule, TooltipShowType, YAxisPosition, YAxisType, dispose, getFigureClass, getOverlayClass, getSupportedFigures, getSupportedIndicators, getSupportedLocales, getSupportedOverlays, init, registerFigure, registerIndicator, registerLocale, registerOverlay, registerStyles, registerXAxis, registerYAxis, utils, version };\n"],
  "mappings": "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",
  "names": ["d", "b", "__assign", "LineType", "PolygonType", "TooltipShowRule", "TooltipShowType", "TooltipIconPosition", "CandleTooltipRectPosition", "CandleType", "YAxisPosition", "YAxisType", "text", "ActionType", "Delegate", "LoadDataType", "IndicatorSeries", "figures", "styles", "IndicatorImp", "Custom", "OverlayMode", "OverlayImp", "FormatDateType", "Animation", "TimeScaleStore", "volume", "bias", "brar", "tp", "_a", "IndicatorStore", "paneInstances", "instance", "instances", "mapping", "paneId", "TooltipStore", "Eventful", "FigureImp", "_super", "OverlayStore", "overlays", "entry", "ActionStore", "ChartStore", "Canvas", "Widget", "DrawWidget", "rect", "View", "GridView", "ChildrenView", "CandleBarView", "IndicatorView", "indicators", "_b", "_c", "CrosshairLineView", "IndicatorTooltipView", "OverlayView", "precision", "overlay", "IndicatorWidget", "CandleAreaView", "color", "CandleHighLowPriceView", "CandleLastPriceView", "CandleTooltipView", "textColor", "CandleWidget", "AxisView", "line", "YAxisView", "CandleLastPriceLabelView", "IndicatorLastValueView", "OverlayYAxisView", "CrosshairHorizontalLabelView", "YAxisWidget", "AxisImp", "YAxisImp", "value", "Pane", "DrawPane", "IndicatorPane", "CandlePane", "XAxisView", "OverlayXAxisView", "CrosshairVerticalLabelView", "XAxisWidget", "XAxisImp", "formatDate", "XAxisPane", "SeparatorWidget", "SeparatorPane", "SyntheticEvent", "Event", "DomPosition", "ChartImp", "pane", "scale"]
}
